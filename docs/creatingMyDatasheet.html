<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Radio Tracking 2024 - 2&nbsp; Creating my Datasheet</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./preliminary_data_visualization.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="application/json" class="js-hypothesis-config">
{
  "theme": "clean"
}
</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./creatingMyDatasheet.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Creating my Datasheet</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Radio Tracking 2024</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./creatingMyDatasheet.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Creating my Datasheet</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preliminary_data_visualization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Preliminary Data Visualization</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./QAQC_receiver_iPad_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">QAQC receiver/iPad data</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#prep" id="toc-prep" class="nav-link active" data-scroll-target="#prep"><span class="header-section-number">2.1</span> Prep</a></li>
  <li><a href="#preparing-fish-surveys" id="toc-preparing-fish-surveys" class="nav-link" data-scroll-target="#preparing-fish-surveys"><span class="header-section-number">2.2</span> Preparing Fish Surveys</a></li>
  <li><a href="#making-flow-tracker-file-datasets-by-week" id="toc-making-flow-tracker-file-datasets-by-week" class="nav-link" data-scroll-target="#making-flow-tracker-file-datasets-by-week"><span class="header-section-number">2.3</span> Making Flow Tracker File Datasets by Week</a></li>
  <li><a href="#preparing-flow-tracker-files" id="toc-preparing-flow-tracker-files" class="nav-link" data-scroll-target="#preparing-flow-tracker-files"><span class="header-section-number">2.4</span> Preparing Flow Tracker Files</a></li>
  <li><a href="#combine-fish-survey-and-flow-data" id="toc-combine-fish-survey-and-flow-data" class="nav-link" data-scroll-target="#combine-fish-survey-and-flow-data"><span class="header-section-number">2.5</span> Combine fish survey and flow data</a></li>
  <li><a href="#preparing-lotek-data-files-for-analysis" id="toc-preparing-lotek-data-files-for-analysis" class="nav-link" data-scroll-target="#preparing-lotek-data-files-for-analysis"><span class="header-section-number">2.6</span> Preparing lotek data files for analysis</a>
  <ul class="collapse">
  <li><a href="#lotek-receiver-000900-data" id="toc-lotek-receiver-000900-data" class="nav-link" data-scroll-target="#lotek-receiver-000900-data"><span class="header-section-number">2.6.1</span> Lotek receiver 000900 data</a></li>
  <li><a href="#lotek-receiver-000517-data" id="toc-lotek-receiver-000517-data" class="nav-link" data-scroll-target="#lotek-receiver-000517-data"><span class="header-section-number">2.6.2</span> Lotek receiver 000517 data</a></li>
  <li><a href="#combine-all-data-from-all-receivers" id="toc-combine-all-data-from-all-receivers" class="nav-link" data-scroll-target="#combine-all-data-from-all-receivers"><span class="header-section-number">2.6.3</span> Combine all data from all receivers</a></li>
  <li><a href="#add-day-and-night-shift-differentiation-into-receiver-data" id="toc-add-day-and-night-shift-differentiation-into-receiver-data" class="nav-link" data-scroll-target="#add-day-and-night-shift-differentiation-into-receiver-data"><span class="header-section-number">2.6.4</span> Add day and night shift differentiation into receiver data</a></li>
  </ul></li>
  <li><a href="#combine-fish-survey-and-receiver-data" id="toc-combine-fish-survey-and-receiver-data" class="nav-link" data-scroll-target="#combine-fish-survey-and-receiver-data"><span class="header-section-number">2.7</span> Combine fish survey and receiver data</a></li>
  <li><a href="#preparing-stream-surveys" id="toc-preparing-stream-surveys" class="nav-link" data-scroll-target="#preparing-stream-surveys"><span class="header-section-number">2.8</span> Preparing Stream Surveys</a></li>
  <li><a href="#combine-fish_flow_receiver-and-stream-survey-data" id="toc-combine-fish_flow_receiver-and-stream-survey-data" class="nav-link" data-scroll-target="#combine-fish_flow_receiver-and-stream-survey-data"><span class="header-section-number">2.9</span> Combine fish_flow_receiver and stream survey data</a></li>
  <li><a href="#combine-all-weekly-datasets" id="toc-combine-all-weekly-datasets" class="nav-link" data-scroll-target="#combine-all-weekly-datasets"><span class="header-section-number">2.10</span> Combine all weekly datasets</a></li>
  <li><a href="#preparing-tagging-data" id="toc-preparing-tagging-data" class="nav-link" data-scroll-target="#preparing-tagging-data"><span class="header-section-number">2.11</span> Preparing tagging data</a></li>
  <li><a href="#combine-tagging-data-with-fishstreamflowreceiver-data" id="toc-combine-tagging-data-with-fishstreamflowreceiver-data" class="nav-link" data-scroll-target="#combine-tagging-data-with-fishstreamflowreceiver-data"><span class="header-section-number">2.12</span> Combine tagging data with fish/stream/flow/receiver data</a></li>
  <li><a href="#preparing-collection-data" id="toc-preparing-collection-data" class="nav-link" data-scroll-target="#preparing-collection-data"><span class="header-section-number">2.13</span> Preparing collection data</a></li>
  <li><a href="#combine-collection-data-with-fishstreamflowreceivertagging-data" id="toc-combine-collection-data-with-fishstreamflowreceivertagging-data" class="nav-link" data-scroll-target="#combine-collection-data-with-fishstreamflowreceivertagging-data"><span class="header-section-number">2.14</span> Combine collection data with fish/stream/flow/receiver/tagging data</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Creating my Datasheet</span></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="prep" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="prep"><span class="header-section-number">2.1</span> Prep</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load required libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="preparing-fish-surveys" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="preparing-fish-surveys"><span class="header-section-number">2.2</span> Preparing Fish Surveys</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey data</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>fish_survey_1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 1.csv"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>fish_survey_1<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(fish_survey_1<span class="sc">$</span>date, </span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>                              <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>fish_survey_1<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(fish_survey_1<span class="sc">$</span>date, </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>                                               fish_survey_1<span class="sc">$</span>time), </span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>,</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 5:00 EST to 11:00 EST</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>fish_survey_1 <span class="ot">&lt;-</span> fish_survey_1 <span class="sc">%&gt;%</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">12</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_survey_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1       16 d0a3b6b5-3d34-4e15-a2b5-01e3a329b214 6/11/2024 8:58:55 PM
2       17 de178623-dad7-4dcf-a0f7-d5619cd48759 6/11/2024 8:58:56 PM
3       18 ddeedd3d-937f-46c1-8eef-b77c5ca1a85b 6/11/2024 8:58:56 PM
4       19 08bdb6c4-4237-4193-ab3c-a349a64db4d9 6/11/2024 8:58:57 PM
5       20 c77027d3-8811-4a1b-a676-a2843c7f9b07 6/11/2024 8:58:57 PM
6       21 e3016d54-bffe-431e-b4e6-16bd78bab6f3 6/11/2024 8:58:58 PM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS  9/6/2024 6:03:52 PM
2 jpilchik@contractor.usgs.gov_USGS 9/10/2024 6:18:09 PM
3 jpilchik@contractor.usgs.gov_USGS 9/10/2024 6:18:04 PM
4 jpilchik@contractor.usgs.gov_USGS  9/6/2024 6:06:48 PM
5 jpilchik@contractor.usgs.gov_USGS  9/6/2024 6:07:31 PM
6 jpilchik@contractor.usgs.gov_USGS  9/6/2024 6:07:48 PM
                             Editor dckyID  time location habitat position
1 jpilchik@contractor.usgs.gov_USGS     NA 05:57       NA  Riffle   Center
2 jpilchik@contractor.usgs.gov_USGS     NA 06:08       NA  Riffle   Center
3 jpilchik@contractor.usgs.gov_USGS     NA 06:15       NA  Riffle   Center
4 jpilchik@contractor.usgs.gov_USGS     NA 06:19       NA     Run     Left
5 jpilchik@contractor.usgs.gov_USGS     NA 06:28       NA     Run     Left
6 jpilchik@contractor.usgs.gov_USGS     NA 06:34       NA   Glide   Center
  substrate cover         shade Notes amthID undhID dryuID habitatExtra signal
1      Rock    NA  Fully shaded           59     NA     NA                  NA
2      Rock    NA  Fully shaded           60     NA     NA                  NA
3      Rock    NA  Fully shaded           19     NA     NA                  NA
4    Pebble    NA Mostly shaded           20     NA     NA                  NA
5      Rock    NA Mostly shaded           57     NA     NA                  NA
6      Rock    NA  Fully shaded           12     NA     NA                  NA
  substrateExtra       date brookName         x        y        dateTime_EST
1             NA 2024-06-11  AMETHYST -72.46038 42.38162 2024-06-11 05:57:00
2             NA 2024-06-11  AMETHYST -72.46030 42.38136 2024-06-11 06:08:00
3             NA 2024-06-11    BUFFAM -72.46023 42.38139 2024-06-11 06:15:00
4             NA 2024-06-11    HARRIS -72.46015 42.38095 2024-06-11 06:19:00
5             NA 2024-06-11    HARRIS -72.46034 42.38105 2024-06-11 06:28:00
6             NA 2024-06-11    HARRIS -72.46009 42.38094 2024-06-11 06:34:00
  shift
1   day
2   day
3   day
4   day
5   day
6   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new fish survey csv</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_survey_1, </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_1.csv"</span>, </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey data</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>fish_survey_2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 2.csv"</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>fish_survey_2<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(fish_survey_2<span class="sc">$</span>date, </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>                              <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>fish_survey_2<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(fish_survey_2<span class="sc">$</span>date, </span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>                                               fish_survey_2<span class="sc">$</span>time), </span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>,</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 11:00 EST to 17:00 EST</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>fish_survey_2 <span class="ot">&lt;-</span> fish_survey_2 <span class="sc">%&gt;%</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">10</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">18</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_survey_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1      256 d0100699-a73b-4604-8b3f-70443dadab8e 6/18/2024 2:57:58 AM
2      257 068e3aa6-8857-49c0-84b3-d67ec9bfe7f0 6/18/2024 2:57:59 AM
3      258 02c92d7b-0f87-41c2-bc53-7e4e33755392 6/18/2024 2:57:59 AM
4      259 b2fbed47-28d9-47e3-bfda-db3835bcd5d3 6/18/2024 2:58:00 AM
5      260 23aec077-27c1-4b76-a5ff-64de3b608de9 6/18/2024 2:58:01 AM
6      261 f1545e22-1078-41bb-985c-4240cd1f895a 6/18/2024 2:58:02 AM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 8/19/2024 6:46:44 PM
2 jpilchik@contractor.usgs.gov_USGS 8/19/2024 6:46:50 PM
3 jpilchik@contractor.usgs.gov_USGS 8/19/2024 6:46:56 PM
4 jpilchik@contractor.usgs.gov_USGS 8/19/2024 6:47:02 PM
5 jpilchik@contractor.usgs.gov_USGS 8/19/2024 6:47:11 PM
6 jpilchik@contractor.usgs.gov_USGS 8/19/2024 6:47:17 PM
                             Editor dckyID  time location habitat position
1 jpilchik@contractor.usgs.gov_USGS     31 11:33       NA    Pool   Center
2 jpilchik@contractor.usgs.gov_USGS     46 11:57       NA     Run    Right
3 jpilchik@contractor.usgs.gov_USGS     29 11:59       NA  Riffle     Left
4 jpilchik@contractor.usgs.gov_USGS     26 12:10       NA     Run    Right
5 jpilchik@contractor.usgs.gov_USGS     28 12:47       NA    Pool     Left
6 jpilchik@contractor.usgs.gov_USGS     37 12:49       NA    Pool    Right
  substrate cover          shade Notes amthID undhID dryuID  habitatExtra
1      Rock    NA  Mostly shaded           NA     NA     NA              
2    Pebble    NA Lightly shaded           NA     NA     NA              
3      Rock    NA   Fully shaded           NA     NA     NA  Woody_debris
4      Rock    NA Lightly shaded           NA     NA     NA Undercut_bank
5   Boulder    NA  Mostly shaded           NA     NA     NA              
6      Rock    NA  Mostly shaded           NA     NA     NA              
  signal substrateExtra       date brookName         x        y
1     NA             NA 2024-06-17           -72.37084 42.44394
2     NA             NA 2024-06-17           -72.37173 42.44421
3     NA             NA 2024-06-17           -72.37194 42.44430
4     NA             NA 2024-06-17           -72.37344 42.44421
5     NA             NA 2024-06-17           -72.37040 42.44369
6     NA             NA 2024-06-17           -72.37038 42.44377
         dateTime_EST shift
1 2024-06-17 11:33:00   day
2 2024-06-17 11:57:00   day
3 2024-06-17 11:59:00   day
4 2024-06-17 12:10:00   day
5 2024-06-17 12:47:00   day
6 2024-06-17 12:49:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new fish survey csv</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_survey_2, </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_2.csv"</span>, </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey data</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>fish_survey_3 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 3.csv"</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>fish_survey_3<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(fish_survey_3<span class="sc">$</span>date, </span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>                              <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>fish_survey_3<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(fish_survey_3<span class="sc">$</span>date, </span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>                                               fish_survey_3<span class="sc">$</span>time), </span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>,</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 5:00 EST to 11:00 EST</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>fish_survey_3 <span class="ot">&lt;-</span> fish_survey_3 <span class="sc">%&gt;%</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">12</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_survey_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1      474 dcdf8b62-1775-4cb7-8202-8c79ccfbb1dc 6/25/2024 9:27:07 PM
2      475 088da717-10d6-4219-b333-9a8252bd1dbc 6/25/2024 9:27:14 PM
3      476 11e7984e-2002-4141-bcd8-f127808c5e9f 6/25/2024 9:27:20 PM
4      477 0e0a30fc-e57d-4d45-8696-a99edff05c5b 6/25/2024 9:27:29 PM
5      478 a43d361e-469b-496b-aca1-b1b46a851eb0 6/25/2024 9:27:35 PM
6      479 72a85c5a-1fd3-4330-a5a8-0b1713d36b7a 6/25/2024 9:27:41 PM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 8/30/2024 1:39:38 PM
2 jpilchik@contractor.usgs.gov_USGS 8/30/2024 1:39:46 PM
3 jpilchik@contractor.usgs.gov_USGS 8/30/2024 1:40:01 PM
4 jpilchik@contractor.usgs.gov_USGS 8/30/2024 1:40:18 PM
5 jpilchik@contractor.usgs.gov_USGS 8/30/2024 1:40:27 PM
6 jpilchik@contractor.usgs.gov_USGS 8/30/2024 1:40:42 PM
                             Editor dckyID  time location habitat position
1 jpilchik@contractor.usgs.gov_USGS     NA 05:59       NA    Pool   Center
2 jpilchik@contractor.usgs.gov_USGS     NA 06:02       NA    Pool    Right
3 jpilchik@contractor.usgs.gov_USGS     NA 06:07       NA    Pool    Right
4 jpilchik@contractor.usgs.gov_USGS     NA 06:11       NA    Pool     Left
5 jpilchik@contractor.usgs.gov_USGS     NA 06:20       NA    Pool    Right
6 jpilchik@contractor.usgs.gov_USGS     NA 06:21       NA    Pool    Right
  substrate cover          shade Notes amthID undhID dryuID
1      Rock    NA  Mostly shaded           NA     NA     55
2       Mud    NA  Mostly shaded           NA     NA     16
3       Mud    NA  Mostly shaded           NA     NA     53
4       Mud    NA Lightly shaded           NA     NA     22
5      Rock    NA  Mostly shaded           NA     NA     21
6      Rock    NA  Mostly shaded           NA     NA     25
                habitatExtra signal substrateExtra       date brookName
1               Woody_debris     NA             NA 2024-06-25          
2               Woody_debris     NA             NA 2024-06-25          
3               Woody_debris     NA             NA 2024-06-25          
4   Root_bundle,Woody_debris     NA             NA 2024-06-25          
5 Woody_debris,Undercut_bank     NA             NA 2024-06-25          
6 Undercut_bank,Woody_debris     NA             NA 2024-06-25          
          x        y        dateTime_EST shift
1 -72.50451 42.66767 2024-06-25 05:59:00   day
2 -72.50455 42.66774 2024-06-25 06:02:00   day
3 -72.50451 42.66761 2024-06-25 06:07:00   day
4 -72.50445 42.66767 2024-06-25 06:11:00   day
5 -72.50506 42.66704 2024-06-25 06:20:00   day
6 -72.50507 42.66704 2024-06-25 06:21:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new fish survey csv</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_survey_3, </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_3.csv"</span>, </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey data</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>fish_survey_4 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 4.csv"</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>fish_survey_4<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(fish_survey_4<span class="sc">$</span>date, </span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>                              <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>fish_survey_4<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(fish_survey_4<span class="sc">$</span>date, </span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>                                               fish_survey_4<span class="sc">$</span>time), </span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>,</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 3:00 EST to 9:00 EST</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>fish_survey_4 <span class="ot">&lt;-</span> fish_survey_4 <span class="sc">%&gt;%</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">10</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_survey_4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1      732 ee800694-c1c8-4a3b-86b1-af3afb8ee18d 6/30/2024 2:30:32 PM
2      733 7c526efd-64a2-4bbf-a10d-3beb9e5f35e0 6/30/2024 2:30:42 PM
3      734 8c935231-1d8b-4c99-bcc4-7bca77d37945 6/30/2024 2:30:55 PM
4      735 c094b7d7-a650-41eb-893f-59b0d7fae278 6/30/2024 2:31:09 PM
5      736 41fc1d32-bfe3-4196-b284-f7cf5b9ad2ac 6/30/2024 2:31:21 PM
6      737 f38f6884-dab6-4b42-8856-cf560d793cfc 6/30/2024 2:33:37 PM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 8/30/2024 2:19:27 PM
2 jpilchik@contractor.usgs.gov_USGS 8/30/2024 2:19:45 PM
3 jpilchik@contractor.usgs.gov_USGS 8/30/2024 2:19:52 PM
4 jpilchik@contractor.usgs.gov_USGS 8/30/2024 2:19:57 PM
5 jpilchik@contractor.usgs.gov_USGS 8/30/2024 2:20:05 PM
6 jpilchik@contractor.usgs.gov_USGS 8/30/2024 2:20:08 PM
                             Editor dckyID  time location habitat position
1 jpilchik@contractor.usgs.gov_USGS     NA 04:39       NA    Pool     Left
2 jpilchik@contractor.usgs.gov_USGS     NA 04:42       NA    Pool    Right
3 jpilchik@contractor.usgs.gov_USGS     NA 04:43       NA    Pool    Right
4 jpilchik@contractor.usgs.gov_USGS     NA 04:50       NA    Pool    Right
5 jpilchik@contractor.usgs.gov_USGS     NA 04:51       NA    Pool    Right
6 jpilchik@contractor.usgs.gov_USGS     NA 04:51       NA    Pool    Right
  substrate cover         shade Notes amthID undhID dryuID
1        NA    NA         Night           NA     NA     22
2        NA    NA  Fully shaded           NA     NA     16
3        NA    NA  Fully shaded           NA     NA     55
4        NA    NA Mostly shaded           NA     NA     21
5        NA    NA  Fully shaded           NA     NA     25
6        NA    NA  Fully shaded           NA     NA     24
                habitatExtra signal substrateExtra       date brookName
1                Root_bundle     NA       Rock,Mud 2024-06-30          
2               Woody_debris     NA            Mud 2024-06-30          
3               Woody_debris     NA            Mud 2024-06-30          
4 Woody_debris,Undercut_bank     NA            Mud 2024-06-30          
5 Undercut_bank,Woody_debris     NA            Mud 2024-06-30          
6 Undercut_bank,Woody_debris     NA            Mud 2024-06-30          
          x        y        dateTime_EST shift
1 -72.50457 42.66769 2024-06-30 04:39:00   day
2 -72.50448 42.66760 2024-06-30 04:42:00   day
3 -72.50453 42.66762 2024-06-30 04:43:00   day
4 -72.50514 42.66698 2024-06-30 04:50:00   day
5 -72.50509 42.66699 2024-06-30 04:51:00   day
6 -72.50508 42.66702 2024-06-30 04:51:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new fish survey csv</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_survey_4, </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_4.csv"</span>, </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey data</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>fish_survey_5 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 5.csv"</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>fish_survey_5<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(fish_survey_5<span class="sc">$</span>date, </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>                              <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>fish_survey_5<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(fish_survey_5<span class="sc">$</span>date, </span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>                                               fish_survey_5<span class="sc">$</span>time), </span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>,</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>fish_survey_5 <span class="ot">&lt;-</span> fish_survey_5 <span class="sc">%&gt;%</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">14</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_survey_5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID        CreationDate
1      992 1866894c-536f-4b75-b0e5-8ce536b1b525 7/9/2024 9:02:05 PM
2      993 ff14c15a-ea7e-4852-bbb3-40d6c56f4aa8 7/9/2024 9:02:27 PM
3      994 76f66dbb-c637-4eec-9e6e-979ce0abd679 7/9/2024 9:02:40 PM
4      995 0117651c-d940-4b69-a695-a2d9af2b802a 7/9/2024 9:02:53 PM
5      996 016e5763-108f-43a3-b375-d897498f96ef 7/9/2024 9:03:06 PM
6      997 481842cb-1df5-4af5-baf9-90904594d7df 7/9/2024 9:03:25 PM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 8/30/2024 2:49:30 PM
2 jpilchik@contractor.usgs.gov_USGS 8/30/2024 2:49:50 PM
3 jpilchik@contractor.usgs.gov_USGS 8/30/2024 2:50:01 PM
4 jpilchik@contractor.usgs.gov_USGS 8/30/2024 2:50:08 PM
5 jpilchik@contractor.usgs.gov_USGS 8/30/2024 2:52:14 PM
6 jpilchik@contractor.usgs.gov_USGS 8/30/2024 2:52:09 PM
                             Editor dckyID  time location habitat position
1 jpilchik@contractor.usgs.gov_USGS     NA 07:30       NA  Riffle   Center
2 jpilchik@contractor.usgs.gov_USGS     NA 07:49       NA  Riffle         
3 jpilchik@contractor.usgs.gov_USGS     NA 07:57       NA  Riffle   Center
4 jpilchik@contractor.usgs.gov_USGS     NA 08:08       NA  Riffle    Right
5 jpilchik@contractor.usgs.gov_USGS     NA 08:18       NA    Pool   Center
6 jpilchik@contractor.usgs.gov_USGS     NA 08:25       NA  Riffle   Center
  substrate cover         shade
1        NA    NA  Fully shaded
2        NA    NA Mostly shaded
3        NA    NA              
4        NA    NA Mostly shaded
5        NA    NA Mostly shaded
6        NA    NA Mostly shaded
                                               Notes amthID undhID dryuID
1                                                        NA     41     NA
2                                                        NA     40     NA
3                                                        NA     34     NA
4                                                        NA     33     NA
5 Moved up from where we thought it might have died.     NA     36     NA
6                                                        NA     27     NA
   habitatExtra signal   substrateExtra       date brookName         x        y
1                   NA             Rock 2024-07-09           -72.32447 42.44488
2  Woody_debris     NA      Rock,Pebble 2024-07-09           -72.32513 42.44510
3                   NA             Rock 2024-07-09           -72.32645 42.44537
4 Undercut_bank     NA             Rock 2024-07-09           -72.32624 42.44533
5                   NA Rock,Pebble,Sand 2024-07-09           -72.32752 42.44626
6                   NA             Rock 2024-07-09           -72.32780 42.44521
         dateTime_EST shift
1 2024-07-09 07:30:00   day
2 2024-07-09 07:49:00   day
3 2024-07-09 07:57:00   day
4 2024-07-09 08:08:00   day
5 2024-07-09 08:18:00   day
6 2024-07-09 08:25:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new fish survey csv</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_survey_5, </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_5.csv"</span>, </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey data</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>fish_survey_6 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 6.csv"</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>fish_survey_6<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(fish_survey_6<span class="sc">$</span>date, </span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>                              <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>fish_survey_6<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(fish_survey_6<span class="sc">$</span>date, </span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>                                               fish_survey_6<span class="sc">$</span>time), </span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>,</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 3:00 EST to 9:00 EST</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>fish_survey_6 <span class="ot">&lt;-</span> fish_survey_6 <span class="sc">%&gt;%</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">10</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_survey_6)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1     1212 439f0847-2e86-4422-8f9a-48ab5a182eb4 7/16/2024 2:48:01 PM
2     1213 7783a0c3-7f49-46f6-ac2f-c1921e3a91ee 7/16/2024 2:48:40 PM
3     1214 185d4b7c-32bb-4623-a702-721213b76dd1 7/16/2024 2:48:51 PM
4     1215 f2cc6831-e71a-4cc8-8994-dbbddc6271fe 7/16/2024 2:49:27 PM
5     1216 15b750cb-30d8-4b84-9d28-0e14f7de132e 7/16/2024 2:51:06 PM
6     1217 8d5e63b8-6507-45d1-8530-e3a745cf7bf5 7/16/2024 2:53:14 PM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 8/30/2024 3:27:34 PM
2 jpilchik@contractor.usgs.gov_USGS 8/30/2024 3:27:40 PM
3 jpilchik@contractor.usgs.gov_USGS 8/30/2024 3:27:55 PM
4 jpilchik@contractor.usgs.gov_USGS 8/30/2024 3:28:02 PM
5 jpilchik@contractor.usgs.gov_USGS 8/30/2024 3:34:15 PM
6 jpilchik@contractor.usgs.gov_USGS 8/30/2024 3:34:05 PM
                             Editor dckyID  time location habitat position
1 jpilchik@contractor.usgs.gov_USGS     31 03:49       NA  Riffle   Center
2 jpilchik@contractor.usgs.gov_USGS     28 03:58       NA    Pool   Center
3 jpilchik@contractor.usgs.gov_USGS     26 04:04       NA  Riffle   Center
4 jpilchik@contractor.usgs.gov_USGS     37 04:05       NA  Riffle   Center
5 jpilchik@contractor.usgs.gov_USGS     31 05:17       NA  Riffle   Center
6 jpilchik@contractor.usgs.gov_USGS     28 05:21       NA    Pool   Center
  substrate cover        shade Notes amthID undhID dryuID habitatExtra signal
1        NA    NA        Night           NA     NA     NA                  NA
2        NA    NA        Night           NA     NA     NA                  NA
3        NA    NA        Night           NA     NA     NA                  NA
4        NA    NA Fully shaded           NA     NA     NA                  NA
5        NA    NA Fully shaded           NA     NA     NA                  NA
6        NA    NA Fully shaded           NA     NA     NA                  NA
    substrateExtra       date brookName         x        y        dateTime_EST
1             Rock 2024-07-16           -72.37121 42.44408 2024-07-16 03:49:00
2         Sand,Mud 2024-07-16           -72.37056 42.44364 2024-07-16 03:58:00
3             Rock 2024-07-16           -72.37030 42.44345 2024-07-16 04:04:00
4             Rock 2024-07-16           -72.37018 42.44342 2024-07-16 04:05:00
5        Rock,Sand 2024-07-16           -72.37132 42.44393 2024-07-16 05:17:00
6 Rock,Pebble,Sand 2024-07-16           -72.37059 42.44357 2024-07-16 05:21:00
  shift
1   day
2   day
3   day
4   day
5   day
6   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new fish survey csv</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_survey_6, </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_6.csv"</span>, </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey data</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>fish_survey_7 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 7.csv"</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>fish_survey_7<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(fish_survey_7<span class="sc">$</span>date, </span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>                              <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>fish_survey_7<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(fish_survey_7<span class="sc">$</span>date, </span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>                                               fish_survey_7<span class="sc">$</span>time), </span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>,</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>fish_survey_7 <span class="ot">&lt;-</span> fish_survey_7 <span class="sc">%&gt;%</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">14</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_survey_7)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1     1437 f507a07d-bd5d-45ef-a627-b616a46f41cb 7/23/2024 9:37:31 PM
2     1438 27daf1f4-76e8-41be-839f-5d3acb7af6d4 7/23/2024 9:37:40 PM
3     1439 73f2f0aa-663a-4e52-a574-570960128ca4 7/23/2024 9:37:52 PM
4     1440 f9c9dbd5-8ed6-4fb9-9b7e-935f197b14a2 7/23/2024 9:38:01 PM
5     1441 e9ccf897-54d0-4aa0-abbb-13ede4b69ead 7/23/2024 9:38:11 PM
6     1442 cc32f645-8242-4a61-b90c-3e8aa387ba2f 7/23/2024 9:41:19 PM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 7/23/2024 9:37:31 PM
2 jpilchik@contractor.usgs.gov_USGS 7/23/2024 9:37:40 PM
3 jpilchik@contractor.usgs.gov_USGS 7/23/2024 9:37:52 PM
4 jpilchik@contractor.usgs.gov_USGS 7/23/2024 9:38:01 PM
5 jpilchik@contractor.usgs.gov_USGS 7/23/2024 9:38:11 PM
6 jpilchik@contractor.usgs.gov_USGS 7/23/2024 9:41:19 PM
                             Editor dckyID  time location habitat position
1 jpilchik@contractor.usgs.gov_USGS     NA 07:28       NA    Pool    Right
2 jpilchik@contractor.usgs.gov_USGS     NA 07:56       NA                 
3 jpilchik@contractor.usgs.gov_USGS     NA 08:07       NA  Riffle     Left
4 jpilchik@contractor.usgs.gov_USGS     NA 08:44       NA    Pool     Left
5 jpilchik@contractor.usgs.gov_USGS     NA 08:52       NA    Pool    Right
6 jpilchik@contractor.usgs.gov_USGS     NA 09:06       NA    Pool         
  substrate cover         shade                                      Notes
1        NA    NA Mostly shaded                                           
2        NA    NA                                                     Dead
3        NA    NA Mostly shaded Very shallow water. Can’t see fish or tag.
4        NA    NA Mostly shaded                                           
5        NA    NA  Fully shaded                          Up under cutback.
6        NA    NA Mostly shaded                              Dead have tag
  amthID undhID dryuID               habitatExtra signal substrateExtra
1     NA     NA   39.1               Woody_debris     NA      Rock,Sand
2     NA     NA   46.1                                NA               
3     NA     NA   29.1                                NA               
4     NA     NA   30.1               Woody_debris     NA            Mud
5     NA     NA   16.0 Woody_debris,Undercut_bank     NA       Mud,Sand
6     NA     NA   55.0               Woody_debris     NA      Rock,Sand
        date brookName         x        y        dateTime_EST shift
1 2024-07-23           -72.50687 42.66812 2024-07-23 07:28:00   day
2 2024-07-23           -72.50700 42.66827 2024-07-23 07:56:00   day
3 2024-07-23           -72.50598 42.66837 2024-07-23 08:07:00   day
4 2024-07-23           -72.50495 42.66817 2024-07-23 08:44:00   day
5 2024-07-23           -72.50460 42.66775 2024-07-23 08:52:00   day
6 2024-07-23           -72.50408 42.66603 2024-07-23 09:06:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new fish survey csv</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_survey_7, </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_7.csv"</span>, </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey data</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>fish_survey_8 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 8.csv"</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>fish_survey_8<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(fish_survey_8<span class="sc">$</span>date, </span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>                              <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>fish_survey_8<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(fish_survey_8<span class="sc">$</span>date, </span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>                                               fish_survey_8<span class="sc">$</span>time), </span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>,</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 3:30 EST to 9:30 EST</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>fish_survey_8 <span class="ot">&lt;-</span> fish_survey_8 <span class="sc">%&gt;%</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">11</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_survey_8)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1     1668 e6f4c6ce-9cfc-4b76-b760-2b53014e29d4 7/30/2024 2:43:39 PM
2     1669 8a320870-da39-498d-9ef1-9fe535798efd 7/30/2024 2:43:43 PM
3     1670 ee332466-79ac-4a50-ab15-caf4b6ed514f 7/30/2024 2:43:47 PM
4     1671 8fc4d493-8287-4c6c-81c2-52f953e81447 7/30/2024 2:43:50 PM
5     1672 b1bfebff-03af-4762-826a-559e2e198497 7/30/2024 2:43:54 PM
6     1673 78b11090-9466-403f-8435-34c832161513 7/30/2024 2:43:57 PM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 7/30/2024 2:43:39 PM
2 jpilchik@contractor.usgs.gov_USGS 7/30/2024 2:43:43 PM
3 jpilchik@contractor.usgs.gov_USGS 7/30/2024 2:43:47 PM
4 jpilchik@contractor.usgs.gov_USGS 7/30/2024 2:43:50 PM
5 jpilchik@contractor.usgs.gov_USGS 7/30/2024 2:43:54 PM
6 jpilchik@contractor.usgs.gov_USGS 7/30/2024 2:43:57 PM
                             Editor dckyID  time location habitat position
1 jpilchik@contractor.usgs.gov_USGS     31 04:07       NA  Riffle    Right
2 jpilchik@contractor.usgs.gov_USGS     26 04:15       NA  Riffle   Center
3 jpilchik@contractor.usgs.gov_USGS     37 04:16       NA  Riffle   Center
4 jpilchik@contractor.usgs.gov_USGS     38 04:38       NA     Run    Right
5 jpilchik@contractor.usgs.gov_USGS     32 04:42       NA    Pool     Left
6 jpilchik@contractor.usgs.gov_USGS     38 05:25       NA  Riffle     Left
  substrate cover          shade
1        NA    NA          Night
2        NA    NA          Night
3        NA    NA          Night
4        NA    NA          Night
5        NA    NA          Night
6        NA    NA Lightly shaded
                                                   Notes amthID undhID dryuID
1                                                            NA     NA     NA
2                                                            NA     NA     NA
3                                                            NA     NA     NA
4                                                            NA     NA     NA
5 Dead.found on river left side of pool buried n gravel.     NA     NA     NA
6                                           May be dead      NA     NA     NA
  habitatExtra signal substrateExtra       date brookName         x        y
1                  NA    Pebble,Rock 2024-07-30           -72.37116 42.44418
2                  NA    Rock,Pebble 2024-07-30           -72.37034 42.44352
3                  NA    Rock,Pebble 2024-07-30           -72.37032 42.44350
4                  NA    Rock,Pebble 2024-07-30           -72.37335 42.44441
5                  NA         Pebble 2024-07-30           -72.37354 42.44406
6                  NA    Rock,Pebble 2024-07-30           -72.37340 42.44449
         dateTime_EST shift
1 2024-07-30 04:07:00   day
2 2024-07-30 04:15:00   day
3 2024-07-30 04:16:00   day
4 2024-07-30 04:38:00   day
5 2024-07-30 04:42:00   day
6 2024-07-30 05:25:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new fish survey csv</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_survey_8, </span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_8.csv"</span>, </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey data</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>fish_survey_9 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 9.csv"</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>fish_survey_9<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(fish_survey_9<span class="sc">$</span>date, </span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>                              <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>fish_survey_9<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(fish_survey_9<span class="sc">$</span>date, </span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>                                               fish_survey_9<span class="sc">$</span>time), </span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>,</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Supplementary tracking at Dry on August 5</span></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>fish_survey_9 <span class="ot">&lt;-</span> fish_survey_9 <span class="sc">%&gt;%</span></span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Define shift for August 5, 2024</span></span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">date</span>(dateTime_EST) <span class="sc">==</span> <span class="fu">ymd</span>(<span class="st">"2024-08-05"</span>) <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Define shift for regular tracking schedule for week 9</span></span>
<span id="cb26-25"><a href="#cb26-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">date</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-08-06"</span>) <span class="sc">&amp;</span> <span class="fu">date</span>(dateTime_EST) <span class="sc">&lt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-08-09"</span>) </span>
<span id="cb26-26"><a href="#cb26-26" aria-hidden="true" tabindex="-1"></a>      <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">14</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb26-27"><a href="#cb26-27" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb26-28"><a href="#cb26-28" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb26-29"><a href="#cb26-29" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb26-30"><a href="#cb26-30" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb26-31"><a href="#cb26-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-32"><a href="#cb26-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb26-33"><a href="#cb26-33" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_survey_9)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID        CreationDate
1     1816 d9d2d00f-65d0-4398-8581-11039eb1898b 8/5/2024 6:01:11 PM
2     1817 68c70af2-6327-436e-acb0-3d50ec8c1916 8/5/2024 6:01:12 PM
3     1818 3fc8c4e1-6e80-41c3-bd65-a1a5ba023646 8/5/2024 6:01:13 PM
4     1819 665d4573-6b34-4616-823f-7c93dff46d14 8/6/2024 6:25:20 PM
5     1820 243151b8-490c-47bd-a3e8-a0ed499da68a 8/6/2024 6:25:27 PM
6     1821 9665a799-cf88-4052-95e7-6ba5854624af 8/6/2024 6:25:34 PM
                            Creator            EditDate
1 jpilchik@contractor.usgs.gov_USGS 8/5/2024 6:01:11 PM
2 jpilchik@contractor.usgs.gov_USGS 8/5/2024 6:01:12 PM
3 jpilchik@contractor.usgs.gov_USGS 8/5/2024 6:01:13 PM
4 jpilchik@contractor.usgs.gov_USGS 8/6/2024 6:25:20 PM
5 jpilchik@contractor.usgs.gov_USGS 8/6/2024 6:25:27 PM
6 jpilchik@contractor.usgs.gov_USGS 8/6/2024 6:25:34 PM
                             Editor dckyID  time location habitat position
1 jpilchik@contractor.usgs.gov_USGS     NA 11:06       NA    Pool         
2 jpilchik@contractor.usgs.gov_USGS     NA 11:35       NA                 
3 jpilchik@contractor.usgs.gov_USGS     NA 11:37       NA                 
4 jpilchik@contractor.usgs.gov_USGS     NA 07:41       NA  Riffle   Center
5 jpilchik@contractor.usgs.gov_USGS     NA 07:47       NA    Pool   Center
6 jpilchik@contractor.usgs.gov_USGS     NA 07:53       NA    Pool   Center
  substrate cover          shade
1        NA    NA Lightly shaded
2        NA    NA               
3        NA    NA               
4        NA    NA  Mostly shaded
5        NA    NA  Mostly shaded
6        NA    NA  Mostly shaded
                                                                             Notes
1              Bunch of fish swimming around, moving too much to get a good signal
2 Lost signal, signal was strongest (74) back at the clearing with the pine trees 
3                                                                                 
4                                                            Same so as last week.
5                                                                                 
6                                                                                 
  amthID undhID dryuID               habitatExtra signal      substrateExtra
1     NA     NA     49 Woody_debris,Undercut_bank    174 Granule,Pebble,Sand
2     NA     NA     47                                NA                    
3     NA     NA     47                                54                    
4     NA     33     NA               Woody_debris     NA         Pebble,Rock
5     NA     45     NA                                NA      Pebble,Granule
6     NA     44     NA               Woody_debris     NA           Rock,Sand
        date brookName         x        y        dateTime_EST shift
1 2024-08-05           -72.50352 42.65114 2024-08-05 11:06:00   day
2 2024-08-05           -72.50353 42.65375 2024-08-05 11:35:00   day
3 2024-08-05           -72.50367 42.65407 2024-08-05 11:37:00   day
4 2024-08-06           -72.32640 42.44531 2024-08-06 07:41:00   day
5 2024-08-06           -72.32773 42.44515 2024-08-06 07:47:00   day
6 2024-08-06           -72.32803 42.44488 2024-08-06 07:53:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_survey_9, </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_9.csv"</span>, </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey data</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>fish_survey_10 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 10.csv"</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>fish_survey_10<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(fish_survey_10<span class="sc">$</span>date, </span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>                               <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>fish_survey_10<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(fish_survey_10<span class="sc">$</span>date, </span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>                                                fish_survey_10<span class="sc">$</span>time), </span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>,</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 4:00 EST to 10:00 EST</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>fish_survey_10 <span class="ot">&lt;-</span> fish_survey_10 <span class="sc">%&gt;%</span></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">3</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">11</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_survey_10)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID          CreationDate
1     1972 b72ac679-3d32-424a-bdec-33918a8b57a9 8/13/2024 12:20:52 PM
2     1973 79da97ca-1319-40b9-abcc-1b4c9bbc0d6a 8/13/2024 12:21:18 PM
3     1974 7e258e2f-2651-455e-8dcd-d12c77ee4db3 8/13/2024 12:21:42 PM
4     1975 64b7754b-39e1-4748-908f-ad939e74aec0 8/13/2024 12:21:57 PM
5     1976 d51069c6-45b1-4d05-9e57-d7f894452de7 8/13/2024 12:22:18 PM
6     1977 e1b92531-a7a3-4dd2-878a-6392228b5911 8/13/2024 12:22:33 PM
                            Creator            EditDate
1 jpilchik@contractor.usgs.gov_USGS 9/6/2024 2:30:20 PM
2 jpilchik@contractor.usgs.gov_USGS 9/6/2024 2:30:48 PM
3 jpilchik@contractor.usgs.gov_USGS 9/6/2024 2:31:11 PM
4 jpilchik@contractor.usgs.gov_USGS 9/6/2024 2:31:42 PM
5 jpilchik@contractor.usgs.gov_USGS 9/6/2024 2:32:26 PM
6 jpilchik@contractor.usgs.gov_USGS 9/6/2024 2:33:21 PM
                             Editor dckyID  time location habitat position
1 jpilchik@contractor.usgs.gov_USGS     NA 04:25       NA     Run   Center
2 jpilchik@contractor.usgs.gov_USGS     NA 04:31       NA     Run   Center
3 jpilchik@contractor.usgs.gov_USGS     NA 04:32       NA  Riffle   Center
4 jpilchik@contractor.usgs.gov_USGS     NA 04:34       NA     Run   Center
5 jpilchik@contractor.usgs.gov_USGS     NA 04:41       NA  Riffle   Center
6 jpilchik@contractor.usgs.gov_USGS     NA 05:15       NA     Run   Center
  substrate cover        shade Notes amthID undhID dryuID habitatExtra signal
1        NA    NA        Night           60     NA     NA                  NA
2        NA    NA        Night           18     NA     NA                  NA
3        NA    NA        Night           14     NA     NA                  NA
4        NA    NA        Night           20     NA     NA Woody_debris     NA
5        NA    NA        Night           19     NA     NA                  NA
6        NA    NA Fully shaded           60     NA     NA                  NA
     substrateExtra       date brookName         x        y        dateTime_EST
1         Sand,Rock 2024-08-13    BUFFAM -72.45838 42.38205 2024-08-13 04:25:00
2 Sand,Boulder,Rock 2024-08-13    BUFFAM -72.45979 42.38119 2024-08-13 04:31:00
3      Rock,Boulder 2024-08-13    BUFFAM -72.46000 42.38136 2024-08-13 04:32:00
4           Boulder 2024-08-13    HARRIS -72.46033 42.38118 2024-08-13 04:34:00
5              Rock 2024-08-13  AMETHYST -72.46088 42.38150 2024-08-13 04:41:00
6         Sand,Rock 2024-08-13    BUFFAM -72.45866 42.38218 2024-08-13 05:15:00
  shift
1   day
2   day
3   day
4   day
5   day
6   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new fish survey csv</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_survey_10, </span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_10.csv"</span>, </span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey data</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>fish_survey_11 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 11.csv"</span>)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>fish_survey_11<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(fish_survey_11<span class="sc">$</span>date, </span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>                               <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>fish_survey_11<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(fish_survey_11<span class="sc">$</span>date, </span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>                                                fish_survey_11<span class="sc">$</span>time), </span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>,</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column </span></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a><span class="co"># All shifts in week 11 were day shifts</span></span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>fish_survey_11 <span class="ot">&lt;-</span> fish_survey_11 <span class="sc">%&gt;%</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">shift =</span> <span class="st">"day"</span>)</span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_survey_11)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1     2114 dd4a5c43-d9b6-473c-b2b3-af38471d133e 8/20/2024 6:43:20 PM
2     2115 00c2ea5e-eaa1-4941-9493-1adf5bce46bc 8/20/2024 6:43:24 PM
3     2116 f0d7dc91-fe79-4891-994f-0ddfca3614d3 8/20/2024 6:43:27 PM
4     2117 a25b7934-f398-45b2-be8b-5d8ad0da1e33 8/20/2024 6:43:30 PM
5     2118 9287dd3b-9467-40ce-ba4c-c892ce58722b 8/20/2024 6:43:34 PM
6     2119 8d8801d8-ec2e-41d5-a6c5-008df12aeba8 8/20/2024 6:43:37 PM
                            Creator            EditDate
1 jpilchik@contractor.usgs.gov_USGS 9/6/2024 2:27:06 PM
2 jpilchik@contractor.usgs.gov_USGS 9/6/2024 2:27:27 PM
3 jpilchik@contractor.usgs.gov_USGS 9/6/2024 2:27:59 PM
4 jpilchik@contractor.usgs.gov_USGS 9/6/2024 2:28:31 PM
5 jpilchik@contractor.usgs.gov_USGS 9/6/2024 2:29:18 PM
6 jpilchik@contractor.usgs.gov_USGS 9/6/2024 2:29:54 PM
                             Editor dckyID  time location habitat position
1 jpilchik@contractor.usgs.gov_USGS     NA 09:10       NA  Riffle   Center
2 jpilchik@contractor.usgs.gov_USGS     NA 09:39       NA  Riffle     Left
3 jpilchik@contractor.usgs.gov_USGS     NA 09:54       NA  Riffle    Right
4 jpilchik@contractor.usgs.gov_USGS     NA 10:40       NA  Riffle   Center
5 jpilchik@contractor.usgs.gov_USGS     NA 11:03       NA  Riffle     Left
6 jpilchik@contractor.usgs.gov_USGS     NA 11:41       NA     Run   Center
  substrate cover        shade             Notes amthID undhID dryuID
1        NA    NA Fully shaded                       19     NA     NA
2        NA    NA Fully shaded                       20     NA     NA
3        NA    NA Fully shaded                       14     NA     NA
4        NA    NA Fully shaded                       18     NA     NA
5        NA    NA Fully shaded                       62     NA     NA
6        NA    NA Fully shaded Recollected alive     60     NA     NA
  habitatExtra signal       substrateExtra       date brookName         x
1                  NA                 Rock 2024-08-20  AMETHYST -72.46090
2                  NA              Boulder 2024-08-20    HARRIS -72.46016
3                  NA            Rock,Sand 2024-08-20    BUFFAM -72.46000
4                  NA Rock,Boulder,Granule 2024-08-20    BUFFAM -72.45993
5 Woody_debris     NA         Boulder,Rock 2024-08-20    HARRIS -72.45784
6                  NA            Rock,Sand 2024-08-20    BUFFAM -72.45856
         y        dateTime_EST shift
1 42.38157 2024-08-20 09:10:00   day
2 42.38116 2024-08-20 09:39:00   day
3 42.38126 2024-08-20 09:54:00   day
4 42.38124 2024-08-20 10:40:00   day
5 42.38062 2024-08-20 11:03:00   day
6 42.38206 2024-08-20 11:41:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new fish survey csv</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_survey_11, </span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_11.csv"</span>, </span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey data</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>fish_survey_12 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 12.csv"</span>)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>fish_survey_12<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(fish_survey_12<span class="sc">$</span>date, </span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>                               <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>fish_survey_12<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(fish_survey_12<span class="sc">$</span>date, </span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>                                                fish_survey_12<span class="sc">$</span>time), </span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>,</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column</span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a><span class="co"># All shifts in week 12 were day shifts</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>fish_survey_12 <span class="ot">&lt;-</span> fish_survey_12 <span class="sc">%&gt;%</span></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">shift =</span> <span class="st">"day"</span>)</span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_survey_12)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1     2138 c005d5be-a2a2-4620-b78f-2a8dcd8b8a20 8/27/2024 5:53:28 PM
2     2139 5a9197f1-6f45-4c15-be8a-83f520a60fd4 8/27/2024 5:54:59 PM
3     2140 c21e0b19-3ed1-4961-8f16-f1f58cf3949c 8/27/2024 5:55:06 PM
4     2141 fdfdec83-b7fe-4c6b-b9ed-f678e7700058 8/29/2024 5:35:15 PM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 8/29/2024 6:57:37 PM
2 jpilchik@contractor.usgs.gov_USGS 8/29/2024 6:57:27 PM
3 jpilchik@contractor.usgs.gov_USGS 8/29/2024 6:57:54 PM
4 jpilchik@contractor.usgs.gov_USGS 8/30/2024 3:59:02 PM
                             Editor dckyID  time location habitat position
1 jpilchik@contractor.usgs.gov_USGS     NA 09:41       NA    Pool    Right
2 jpilchik@contractor.usgs.gov_USGS     NA 10:32       NA    Pool   Center
3 jpilchik@contractor.usgs.gov_USGS     NA 12:19       NA    Pool   Center
4 jpilchik@contractor.usgs.gov_USGS     NA 11:11       NA     Run   Center
  substrate cover         shade
1        NA    NA  Fully shaded
2        NA    NA Mostly shaded
3        NA    NA Mostly shaded
4        NA    NA  Fully shaded
                                                                                                         Notes
1                                                                             Unsuccessful at finding shed tag
2                                                                             Unsuccessful at finding shed tag
3                        Unsuccessful at finding shed tag. It is most likely located in a hole under this rock
4 Fish found with scarring at Dickey that indicates it was potentially tagged. Unknown which fish it could be.
  amthID undhID dryuID habitatExtra signal              substrateExtra
1     NA     45     NA           NA     NA                   Sand,Rock
2     NA     44     NA           NA     NA                   Sand,Rock
3     NA     35     NA           NA     NA Boulder,Rock,Granule,Pebble
4     NA     NA     NA           NA     NA                 Rock,Pebble
        date brookName         x        y        dateTime_EST shift
1 2024-08-27        NA -72.32730 42.44535 2024-08-27 09:41:00   day
2 2024-08-27        NA -72.32805 42.44492 2024-08-27 10:32:00   day
3 2024-08-27        NA -72.32929 42.44359 2024-08-27 12:19:00   day
4 2024-08-29        NA -72.36866 42.44182 2024-08-29 11:11:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new fish survey csv</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_survey_12, </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_12.csv"</span>, </span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define file names</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>fish_file_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"fish_survey_1.csv"</span>, <span class="st">"fish_survey_2.csv"</span>, <span class="st">"fish_survey_3.csv"</span>, <span class="st">"fish_survey_4.csv"</span>, </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"fish_survey_5.csv"</span>, <span class="st">"fish_survey_6.csv"</span>, <span class="st">"fish_survey_7.csv"</span>, <span class="st">"fish_survey_8.csv"</span>, </span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"fish_survey_9.csv"</span>, <span class="st">"fish_survey_10.csv"</span>, <span class="st">"fish_survey_11.csv"</span>, <span class="st">"fish_survey_12.csv"</span>)</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a lookup table for stream names</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>stream_name_lookup <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">abbreviation =</span> <span class="fu">c</span>(<span class="st">"dcky"</span>, <span class="st">"amth"</span>, <span class="st">"undh"</span>, <span class="st">"dryu"</span>),  <span class="co"># List all abbreviations</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">full_name =</span> <span class="fu">c</span>(<span class="st">"DICKEY"</span>, <span class="st">"AMETHYST"</span>, <span class="st">"UNDERHILL"</span>, <span class="st">"DRY UPPER"</span>)  <span class="co"># Corresponding full names</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an empty list to store the processed datasets</span></span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>processed_fish_data_list <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through each fish survey file</span></span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (file_name <span class="cf">in</span> fish_file_names) {</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read in the fish survey data</span></span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>  raw_tracking_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(file_name)</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Step 1: Process the data</span></span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>  tracking_data <span class="ot">&lt;-</span> raw_tracking_data <span class="sc">%&gt;%</span></span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 2: Select specific columns</span></span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(dateTime_EST, shift, dckyID, amthID, undhID, dryuID, signal, habitat, habitatExtra, position, substrate, substrateExtra, shade, x, y, Notes, brookName) <span class="sc">%&gt;%</span></span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 3: Pivot longer to create 'river' and 'tagID' columns</span></span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(</span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a>      <span class="at">cols =</span> <span class="fu">c</span>(dckyID, amthID, undhID, dryuID),  <span class="co"># Columns to combine</span></span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a>      <span class="at">names_to =</span> <span class="st">"river"</span>,                        <span class="co"># Create a new column 'river' from column names</span></span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a>      <span class="at">values_to =</span> <span class="st">"tagID"</span>,                       <span class="co"># Combine the tag IDs into a new column 'tagID'</span></span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a>      <span class="at">values_drop_na =</span> <span class="cn">FALSE</span>                     <span class="co"># Ensure NA values are retained</span></span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 4: Create a new 'riverName' column and extract the river name and ID number</span></span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a>      <span class="at">riverName =</span> river,                                    <span class="co"># Copy the river name</span></span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a>      <span class="co">#tagID = as.numeric(gsub("[^0-9]", "", tagID)),       # Extract the numeric part as tagID</span></span>
<span id="cb38-38"><a href="#cb38-38" aria-hidden="true" tabindex="-1"></a>      <span class="at">tagID =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(tagID), <span class="cn">NA</span>, <span class="fu">as.numeric</span>(tagID)),  <span class="co"># Convert tagID to numeric, keep NA values</span></span>
<span id="cb38-39"><a href="#cb38-39" aria-hidden="true" tabindex="-1"></a>      <span class="at">river =</span> <span class="fu">gsub</span>(<span class="st">"ID"</span>, <span class="st">""</span>, river)                         <span class="co"># Remove 'ID' to keep only the river name</span></span>
<span id="cb38-40"><a href="#cb38-40" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb38-41"><a href="#cb38-41" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-42"><a href="#cb38-42" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 5: Join with the lookup table to replace abbreviations with full names</span></span>
<span id="cb38-43"><a href="#cb38-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(stream_name_lookup, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"river"</span> <span class="ot">=</span> <span class="st">"abbreviation"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb38-44"><a href="#cb38-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb38-45"><a href="#cb38-45" aria-hidden="true" tabindex="-1"></a>      <span class="at">river =</span> <span class="fu">coalesce</span>(full_name, river)  <span class="co"># Replace Brook with full_name, if available</span></span>
<span id="cb38-46"><a href="#cb38-46" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb38-47"><a href="#cb38-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>full_name) <span class="sc">%&gt;%</span>  <span class="co"># Remove the full_name column as it's no longer needed</span></span>
<span id="cb38-48"><a href="#cb38-48" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-49"><a href="#cb38-49" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 6: Combine the river and brookName logic</span></span>
<span id="cb38-50"><a href="#cb38-50" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb38-51"><a href="#cb38-51" aria-hidden="true" tabindex="-1"></a>      <span class="at">river =</span> <span class="fu">ifelse</span>(brookName <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BUFFAM"</span>, <span class="st">"HARRIS"</span>), brookName, river)  <span class="co"># Override river with brookName if Buffam or Harris</span></span>
<span id="cb38-52"><a href="#cb38-52" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb38-53"><a href="#cb38-53" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-54"><a href="#cb38-54" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 7: Rename columns</span></span>
<span id="cb38-55"><a href="#cb38-55" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(</span>
<span id="cb38-56"><a href="#cb38-56" aria-hidden="true" tabindex="-1"></a>      <span class="at">fishNotes =</span> Notes,</span>
<span id="cb38-57"><a href="#cb38-57" aria-hidden="true" tabindex="-1"></a>      <span class="at">lon =</span> x,</span>
<span id="cb38-58"><a href="#cb38-58" aria-hidden="true" tabindex="-1"></a>      <span class="at">lat =</span> y,</span>
<span id="cb38-59"><a href="#cb38-59" aria-hidden="true" tabindex="-1"></a>      <span class="at">trackedTime_EST =</span> dateTime_EST,</span>
<span id="cb38-60"><a href="#cb38-60" aria-hidden="true" tabindex="-1"></a>      <span class="at">power =</span> signal</span>
<span id="cb38-61"><a href="#cb38-61" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb38-62"><a href="#cb38-62" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-63"><a href="#cb38-63" aria-hidden="true" tabindex="-1"></a>    <span class="do">##############################################################</span></span>
<span id="cb38-64"><a href="#cb38-64" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-65"><a href="#cb38-65" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 8: Filter data to keep only rows where lat &gt; 1</span></span>
<span id="cb38-66"><a href="#cb38-66" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(lat <span class="sc">&gt;</span> <span class="dv">1</span>, <span class="sc">!</span><span class="fu">is.na</span>(tagID)) <span class="sc">%&gt;%</span></span>
<span id="cb38-67"><a href="#cb38-67" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-68"><a href="#cb38-68" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step _: Filter data to keep rows with lat &gt; 1 or lat is NA</span></span>
<span id="cb38-69"><a href="#cb38-69" aria-hidden="true" tabindex="-1"></a>    <span class="co">#filter(lat &gt; 1 | is.na(lat)) %&gt;%</span></span>
<span id="cb38-70"><a href="#cb38-70" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-71"><a href="#cb38-71" aria-hidden="true" tabindex="-1"></a>    <span class="do">#############################################################</span></span>
<span id="cb38-72"><a href="#cb38-72" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-73"><a href="#cb38-73" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step _: Remove unnecessary columns</span></span>
<span id="cb38-74"><a href="#cb38-74" aria-hidden="true" tabindex="-1"></a>    <span class="co">#select(-c(riverName, brookName)) %&gt;%</span></span>
<span id="cb38-75"><a href="#cb38-75" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-76"><a href="#cb38-76" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 9: Select specific columns</span></span>
<span id="cb38-77"><a href="#cb38-77" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(trackedTime_EST, river, shift, tagID, power, habitat, habitatExtra, position, substrate, substrateExtra, shade, lon, lat, fishNotes) <span class="sc">%&gt;%</span></span>
<span id="cb38-78"><a href="#cb38-78" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-79"><a href="#cb38-79" aria-hidden="true" tabindex="-1"></a>    <span class="do">#############################################################</span></span>
<span id="cb38-80"><a href="#cb38-80" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-81"><a href="#cb38-81" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 10: Add a source column</span></span>
<span id="cb38-82"><a href="#cb38-82" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">source =</span> <span class="st">"iPad"</span>)</span>
<span id="cb38-83"><a href="#cb38-83" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb38-84"><a href="#cb38-84" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Store the processed data in the list</span></span>
<span id="cb38-85"><a href="#cb38-85" aria-hidden="true" tabindex="-1"></a>  processed_fish_data_list[[file_name]] <span class="ot">&lt;-</span> tracking_data</span>
<span id="cb38-86"><a href="#cb38-86" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb38-87"><a href="#cb38-87" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Overwrite the original file with the processed data</span></span>
<span id="cb38-88"><a href="#cb38-88" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(tracking_data, file_name, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb38-89"><a href="#cb38-89" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb38-90"><a href="#cb38-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-91"><a href="#cb38-91" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of each processed dataset</span></span>
<span id="cb38-92"><a href="#cb38-92" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(processed_fish_data_list)) {</span>
<span id="cb38-93"><a href="#cb38-93" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Data for"</span>, fish_file_names[i], <span class="st">":</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb38-94"><a href="#cb38-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">head</span>(processed_fish_data_list[[i]]))</span>
<span id="cb38-95"><a href="#cb38-95" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Data for fish_survey_1.csv :
# A tibble: 6 × 15
  trackedTime_EST     river    shift tagID power habitat habitatExtra position
  &lt;chr&gt;               &lt;chr&gt;    &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;        &lt;chr&gt;   
1 2024-06-11 05:57:00 AMETHYST day      59    NA Riffle  ""           Center  
2 2024-06-11 06:08:00 AMETHYST day      60    NA Riffle  ""           Center  
3 2024-06-11 06:15:00 BUFFAM   day      19    NA Riffle  ""           Center  
4 2024-06-11 06:19:00 HARRIS   day      20    NA Run     ""           Left    
5 2024-06-11 06:28:00 HARRIS   day      57    NA Run     ""           Left    
6 2024-06-11 06:34:00 HARRIS   day      12    NA Glide   ""           Center  
# ℹ 7 more variables: substrate &lt;chr&gt;, substrateExtra &lt;lgl&gt;, shade &lt;chr&gt;,
#   lon &lt;dbl&gt;, lat &lt;dbl&gt;, fishNotes &lt;chr&gt;, source &lt;chr&gt;

Data for fish_survey_2.csv :
# A tibble: 6 × 15
  trackedTime_EST     river  shift tagID power habitat habitatExtra    position
  &lt;chr&gt;               &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;           &lt;chr&gt;   
1 2024-06-17 11:33:00 DICKEY day      31    NA Pool    ""              Center  
2 2024-06-17 11:57:00 DICKEY day      46    NA Run     ""              Right   
3 2024-06-17 11:59:00 DICKEY day      29    NA Riffle  "Woody_debris"  Left    
4 2024-06-17 12:10:00 DICKEY day      26    NA Run     "Undercut_bank" Right   
5 2024-06-17 12:47:00 DICKEY day      28    NA Pool    ""              Left    
6 2024-06-17 12:49:00 DICKEY day      37    NA Pool    ""              Right   
# ℹ 7 more variables: substrate &lt;chr&gt;, substrateExtra &lt;lgl&gt;, shade &lt;chr&gt;,
#   lon &lt;dbl&gt;, lat &lt;dbl&gt;, fishNotes &lt;chr&gt;, source &lt;chr&gt;

Data for fish_survey_3.csv :
# A tibble: 6 × 15
  trackedTime_EST     river     shift tagID power habitat habitatExtra  position
  &lt;chr&gt;               &lt;chr&gt;     &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;   
1 2024-06-25 05:59:00 DRY UPPER day      55    NA Pool    Woody_debris  Center  
2 2024-06-25 06:02:00 DRY UPPER day      16    NA Pool    Woody_debris  Right   
3 2024-06-25 06:07:00 DRY UPPER day      53    NA Pool    Woody_debris  Right   
4 2024-06-25 06:11:00 DRY UPPER day      22    NA Pool    Root_bundle,… Left    
5 2024-06-25 06:20:00 DRY UPPER day      21    NA Pool    Woody_debris… Right   
6 2024-06-25 06:21:00 DRY UPPER day      25    NA Pool    Undercut_ban… Right   
# ℹ 7 more variables: substrate &lt;chr&gt;, substrateExtra &lt;lgl&gt;, shade &lt;chr&gt;,
#   lon &lt;dbl&gt;, lat &lt;dbl&gt;, fishNotes &lt;chr&gt;, source &lt;chr&gt;

Data for fish_survey_4.csv :
# A tibble: 6 × 15
  trackedTime_EST     river     shift tagID power habitat habitatExtra  position
  &lt;chr&gt;               &lt;chr&gt;     &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;   
1 2024-06-30 04:39:00 DRY UPPER day      22    NA Pool    Root_bundle   Left    
2 2024-06-30 04:42:00 DRY UPPER day      16    NA Pool    Woody_debris  Right   
3 2024-06-30 04:43:00 DRY UPPER day      55    NA Pool    Woody_debris  Right   
4 2024-06-30 04:50:00 DRY UPPER day      21    NA Pool    Woody_debris… Right   
5 2024-06-30 04:51:00 DRY UPPER day      25    NA Pool    Undercut_ban… Right   
6 2024-06-30 04:51:00 DRY UPPER day      24    NA Pool    Undercut_ban… Right   
# ℹ 7 more variables: substrate &lt;lgl&gt;, substrateExtra &lt;chr&gt;, shade &lt;chr&gt;,
#   lon &lt;dbl&gt;, lat &lt;dbl&gt;, fishNotes &lt;chr&gt;, source &lt;chr&gt;

Data for fish_survey_5.csv :
# A tibble: 6 × 15
  trackedTime_EST     river     shift tagID power habitat habitatExtra  position
  &lt;chr&gt;               &lt;chr&gt;     &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;         &lt;chr&gt;   
1 2024-07-09 07:30:00 UNDERHILL day      41    NA Riffle  ""            "Center"
2 2024-07-09 07:49:00 UNDERHILL day      40    NA Riffle  "Woody_debri… ""      
3 2024-07-09 07:57:00 UNDERHILL day      34    NA Riffle  ""            "Center"
4 2024-07-09 08:08:00 UNDERHILL day      33    NA Riffle  "Undercut_ba… "Right" 
5 2024-07-09 08:18:00 UNDERHILL day      36    NA Pool    ""            "Center"
6 2024-07-09 08:25:00 UNDERHILL day      27    NA Riffle  ""            "Center"
# ℹ 7 more variables: substrate &lt;lgl&gt;, substrateExtra &lt;chr&gt;, shade &lt;chr&gt;,
#   lon &lt;dbl&gt;, lat &lt;dbl&gt;, fishNotes &lt;chr&gt;, source &lt;chr&gt;

Data for fish_survey_6.csv :
# A tibble: 6 × 15
  trackedTime_EST     river  shift tagID power habitat habitatExtra position
  &lt;chr&gt;               &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;        &lt;chr&gt;   
1 2024-07-16 03:49:00 DICKEY day      31    NA Riffle  ""           Center  
2 2024-07-16 03:58:00 DICKEY day      28    NA Pool    ""           Center  
3 2024-07-16 04:04:00 DICKEY day      26    NA Riffle  ""           Center  
4 2024-07-16 04:05:00 DICKEY day      37    NA Riffle  ""           Center  
5 2024-07-16 05:17:00 DICKEY day      31    NA Riffle  ""           Center  
6 2024-07-16 05:21:00 DICKEY day      28    NA Pool    ""           Center  
# ℹ 7 more variables: substrate &lt;lgl&gt;, substrateExtra &lt;chr&gt;, shade &lt;chr&gt;,
#   lon &lt;dbl&gt;, lat &lt;dbl&gt;, fishNotes &lt;chr&gt;, source &lt;chr&gt;

Data for fish_survey_7.csv :
# A tibble: 6 × 15
  trackedTime_EST     river     shift tagID power habitat  habitatExtra position
  &lt;chr&gt;               &lt;chr&gt;     &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;   
1 2024-07-23 07:28:00 DRY UPPER day    39.1    NA "Pool"   "Woody_debr… "Right" 
2 2024-07-23 07:56:00 DRY UPPER day    46.1    NA ""       ""           ""      
3 2024-07-23 08:07:00 DRY UPPER day    29.1    NA "Riffle" ""           "Left"  
4 2024-07-23 08:44:00 DRY UPPER day    30.1    NA "Pool"   "Woody_debr… "Left"  
5 2024-07-23 08:52:00 DRY UPPER day    16      NA "Pool"   "Woody_debr… "Right" 
6 2024-07-23 09:06:00 DRY UPPER day    55      NA "Pool"   "Woody_debr… ""      
# ℹ 7 more variables: substrate &lt;lgl&gt;, substrateExtra &lt;chr&gt;, shade &lt;chr&gt;,
#   lon &lt;dbl&gt;, lat &lt;dbl&gt;, fishNotes &lt;chr&gt;, source &lt;chr&gt;

Data for fish_survey_8.csv :
# A tibble: 6 × 15
  trackedTime_EST     river  shift tagID power habitat habitatExtra position
  &lt;chr&gt;               &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;        &lt;chr&gt;   
1 2024-07-30 04:07:00 DICKEY day      31    NA Riffle  ""           Right   
2 2024-07-30 04:15:00 DICKEY day      26    NA Riffle  ""           Center  
3 2024-07-30 04:16:00 DICKEY day      37    NA Riffle  ""           Center  
4 2024-07-30 04:38:00 DICKEY day      38    NA Run     ""           Right   
5 2024-07-30 04:42:00 DICKEY day      32    NA Pool    ""           Left    
6 2024-07-30 05:25:00 DICKEY day      38    NA Riffle  ""           Left    
# ℹ 7 more variables: substrate &lt;lgl&gt;, substrateExtra &lt;chr&gt;, shade &lt;chr&gt;,
#   lon &lt;dbl&gt;, lat &lt;dbl&gt;, fishNotes &lt;chr&gt;, source &lt;chr&gt;

Data for fish_survey_9.csv :
# A tibble: 6 × 15
  trackedTime_EST     river     shift tagID power habitat  habitatExtra position
  &lt;chr&gt;               &lt;chr&gt;     &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;   
1 2024-08-05 11:06:00 DRY UPPER day      49   174 "Pool"   "Woody_debr… ""      
2 2024-08-05 11:35:00 DRY UPPER day      47    NA ""       ""           ""      
3 2024-08-05 11:37:00 DRY UPPER day      47    54 ""       ""           ""      
4 2024-08-06 07:41:00 UNDERHILL day      33    NA "Riffle" "Woody_debr… "Center"
5 2024-08-06 07:47:00 UNDERHILL day      45    NA "Pool"   ""           "Center"
6 2024-08-06 07:53:00 UNDERHILL day      44    NA "Pool"   "Woody_debr… "Center"
# ℹ 7 more variables: substrate &lt;lgl&gt;, substrateExtra &lt;chr&gt;, shade &lt;chr&gt;,
#   lon &lt;dbl&gt;, lat &lt;dbl&gt;, fishNotes &lt;chr&gt;, source &lt;chr&gt;

Data for fish_survey_10.csv :
# A tibble: 6 × 15
  trackedTime_EST     river    shift tagID power habitat habitatExtra   position
  &lt;chr&gt;               &lt;chr&gt;    &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;          &lt;chr&gt;   
1 2024-08-13 04:25:00 BUFFAM   day      60    NA Run     ""             Center  
2 2024-08-13 04:31:00 BUFFAM   day      18    NA Run     ""             Center  
3 2024-08-13 04:32:00 BUFFAM   day      14    NA Riffle  ""             Center  
4 2024-08-13 04:34:00 HARRIS   day      20    NA Run     "Woody_debris" Center  
5 2024-08-13 04:41:00 AMETHYST day      19    NA Riffle  ""             Center  
6 2024-08-13 05:15:00 BUFFAM   day      60    NA Run     ""             Center  
# ℹ 7 more variables: substrate &lt;lgl&gt;, substrateExtra &lt;chr&gt;, shade &lt;chr&gt;,
#   lon &lt;dbl&gt;, lat &lt;dbl&gt;, fishNotes &lt;chr&gt;, source &lt;chr&gt;

Data for fish_survey_11.csv :
# A tibble: 6 × 15
  trackedTime_EST     river    shift tagID power habitat habitatExtra   position
  &lt;chr&gt;               &lt;chr&gt;    &lt;chr&gt; &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt;   &lt;chr&gt;          &lt;chr&gt;   
1 2024-08-20 09:10:00 AMETHYST day      19 NA    Riffle  ""             Center  
2 2024-08-20 09:39:00 HARRIS   day      20 NA    Riffle  ""             Left    
3 2024-08-20 09:54:00 BUFFAM   day      14 NA    Riffle  ""             Right   
4 2024-08-20 10:40:00 BUFFAM   day      18 NA    Riffle  ""             Center  
5 2024-08-20 11:03:00 HARRIS   day      62 NA    Riffle  "Woody_debris" Left    
6 2024-08-20 11:41:00 BUFFAM   day      60 NA    Run     ""             Center  
# ℹ 7 more variables: substrate &lt;lgl&gt;, substrateExtra &lt;chr&gt;, shade &lt;chr&gt;,
#   lon &lt;dbl&gt;, lat &lt;dbl&gt;, fishNotes &lt;chr&gt;, source &lt;chr&gt;

Data for fish_survey_12.csv :
# A tibble: 3 × 15
  trackedTime_EST     river     shift tagID power habitat habitatExtra position
  &lt;chr&gt;               &lt;chr&gt;     &lt;chr&gt; &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt;   &lt;lgl&gt;        &lt;chr&gt;   
1 2024-08-27 09:41:00 UNDERHILL day      45 NA    Pool    NA           Right   
2 2024-08-27 10:32:00 UNDERHILL day      44 NA    Pool    NA           Center  
3 2024-08-27 12:19:00 UNDERHILL day      35 NA    Pool    NA           Center  
# ℹ 7 more variables: substrate &lt;lgl&gt;, substrateExtra &lt;chr&gt;, shade &lt;chr&gt;,
#   lon &lt;dbl&gt;, lat &lt;dbl&gt;, fishNotes &lt;chr&gt;, source &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section id="making-flow-tracker-file-datasets-by-week" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="making-flow-tracker-file-datasets-by-week"><span class="header-section-number">2.3</span> Making Flow Tracker File Datasets by Week</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a function to search for files</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>find_files <span class="ot">&lt;-</span> <span class="cf">function</span>(week_1_directory) {</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  week_1_files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> week_1_directory, <span class="at">recursive =</span> <span class="cn">TRUE</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(week_1_files)</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to extract the required values from a single file and convert only Fahrenheit (°F) to Celsius</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>extract_values <span class="ot">&lt;-</span> <span class="cf">function</span>(file_path) {</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read the csv file</span></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(file_path, <span class="at">header =</span> <span class="cn">FALSE</span>, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Column1"</span>, <span class="st">"Column2"</span>, <span class="st">"Column3"</span>)</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract values</span></span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>  local_end_time <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Local_End_Time"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>  site_name <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Site_Name"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>  total_discharge <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Total_Discharge"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract the temperature value and unit</span></span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mean_temp_value &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">#temp_unit &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column2) %&gt;% pull()</span></span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert only if the unit is Fahrenheit ("°F")</span></span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">#if (temp_unit == "°F") {</span></span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mean_temp_value &lt;- (as.numeric(mean_temp_value) - 32) * 5 / 9</span></span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">#} else {</span></span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mean_temp_value &lt;- as.numeric(mean_temp_value)  # Ensure it's numeric for Celsius values or NA</span></span>
<span id="cb40-28"><a href="#cb40-28" aria-hidden="true" tabindex="-1"></a>  <span class="co">#}</span></span>
<span id="cb40-29"><a href="#cb40-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb40-30"><a href="#cb40-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Round values to 2 decimal places</span></span>
<span id="cb40-31"><a href="#cb40-31" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mean_temp_value &lt;- round(mean_temp_value, 2)</span></span>
<span id="cb40-32"><a href="#cb40-32" aria-hidden="true" tabindex="-1"></a>  total_discharge <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">as.numeric</span>(total_discharge), <span class="dv">2</span>)</span>
<span id="cb40-33"><a href="#cb40-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb40-34"><a href="#cb40-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rename columns</span></span>
<span id="cb40-35"><a href="#cb40-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb40-36"><a href="#cb40-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">localEndTime =</span> local_end_time,</span>
<span id="cb40-37"><a href="#cb40-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> site_name,</span>
<span id="cb40-38"><a href="#cb40-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">totalDischarge =</span> <span class="fu">as.numeric</span>(total_discharge),  <span class="co"># Ensure numeric type</span></span>
<span id="cb40-39"><a href="#cb40-39" aria-hidden="true" tabindex="-1"></a>    <span class="co">#meanTemp = mean_temp_value,  # Already handled as numeric</span></span>
<span id="cb40-40"><a href="#cb40-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb40-41"><a href="#cb40-41" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb40-42"><a href="#cb40-42" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb40-43"><a href="#cb40-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-44"><a href="#cb40-44" aria-hidden="true" tabindex="-1"></a>week_1_directory <span class="ot">&lt;-</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/FlowTracker/FlowTrackerFiles/TAMEflow/Week1"</span></span>
<span id="cb40-45"><a href="#cb40-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-46"><a href="#cb40-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Find all files in the week 1 directory</span></span>
<span id="cb40-47"><a href="#cb40-47" aria-hidden="true" tabindex="-1"></a>week_1_files <span class="ot">&lt;-</span> <span class="fu">find_files</span>(week_1_directory)</span>
<span id="cb40-48"><a href="#cb40-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-49"><a href="#cb40-49" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the result dataframe with the correct data types</span></span>
<span id="cb40-50"><a href="#cb40-50" aria-hidden="true" tabindex="-1"></a>flow_tracker_1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb40-51"><a href="#cb40-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">localEndTime =</span> <span class="fu">character</span>(),</span>
<span id="cb40-52"><a href="#cb40-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">river =</span> <span class="fu">character</span>(),</span>
<span id="cb40-53"><a href="#cb40-53" aria-hidden="true" tabindex="-1"></a>  <span class="at">totalDischarge =</span> <span class="fu">numeric</span>(),  <span class="co"># Initialize as numeric</span></span>
<span id="cb40-54"><a href="#cb40-54" aria-hidden="true" tabindex="-1"></a>  <span class="co">#meanTemp = numeric(),  # Initialize as numeric</span></span>
<span id="cb40-55"><a href="#cb40-55" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb40-56"><a href="#cb40-56" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb40-57"><a href="#cb40-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-58"><a href="#cb40-58" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through all files and extract values</span></span>
<span id="cb40-59"><a href="#cb40-59" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (file <span class="cf">in</span> week_1_files) {</span>
<span id="cb40-60"><a href="#cb40-60" aria-hidden="true" tabindex="-1"></a>  file_data <span class="ot">&lt;-</span> <span class="fu">extract_values</span>(file)</span>
<span id="cb40-61"><a href="#cb40-61" aria-hidden="true" tabindex="-1"></a>  flow_tracker_1 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(flow_tracker_1, file_data)</span>
<span id="cb40-62"><a href="#cb40-62" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb40-63"><a href="#cb40-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-64"><a href="#cb40-64" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardize site names</span></span>
<span id="cb40-65"><a href="#cb40-65" aria-hidden="true" tabindex="-1"></a>flow_tracker_1 <span class="ot">&lt;-</span> flow_tracker_1 <span class="sc">%&gt;%</span></span>
<span id="cb40-66"><a href="#cb40-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"buff"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"BUFFAM"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb40-67"><a href="#cb40-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"dryu"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"DRY UPPER"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb40-68"><a href="#cb40-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"harr"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"HARRIS"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb40-69"><a href="#cb40-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"undh"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"UNDERHILL"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb40-70"><a href="#cb40-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"dcky"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"DICKEY"</span>, river))</span>
<span id="cb40-71"><a href="#cb40-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-72"><a href="#cb40-72" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################################################</span></span>
<span id="cb40-73"><a href="#cb40-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-74"><a href="#cb40-74" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove rows with repeating Total_Discharge values</span></span>
<span id="cb40-75"><a href="#cb40-75" aria-hidden="true" tabindex="-1"></a>flow_tracker_1 <span class="ot">&lt;-</span> flow_tracker_1 <span class="sc">%&gt;%</span> </span>
<span id="cb40-76"><a href="#cb40-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(localEndTime, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb40-77"><a href="#cb40-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-78"><a href="#cb40-78" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################################################</span></span>
<span id="cb40-79"><a href="#cb40-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-80"><a href="#cb40-80" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb40-81"><a href="#cb40-81" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flow_tracker_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         localEndTime     river totalDischarge
1 2024-06-11 09:32:26    BUFFAM           1.49
2 2024-06-11 21:26:53    BUFFAM           0.02
3 2024-06-13 19:59:00    DICKEY           1.35
4 2024-06-14 09:57:28 DRY UPPER           0.02
5 2024-06-14 19:21:39 DRY UPPER           0.65
6 2024-06-11 10:42:47    HARRIS           0.07</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write the final CSV file</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flow_tracker_1, </span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_1.csv"</span>, </span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a function to search for files</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>find_files <span class="ot">&lt;-</span> <span class="cf">function</span>(week_2_directory) {</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  week_2_files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> week_2_directory, <span class="at">recursive =</span> <span class="cn">TRUE</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(week_2_files)</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to extract the required values from a single file and convert only Fahrenheit (°F) to Celsius</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>extract_values <span class="ot">&lt;-</span> <span class="cf">function</span>(file_path) {</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read the csv file</span></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(file_path, <span class="at">header =</span> <span class="cn">FALSE</span>, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Column1"</span>, <span class="st">"Column2"</span>, <span class="st">"Column3"</span>)</span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract values</span></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>  local_end_time <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Local_End_Time"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>  site_name <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Site_Name"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>  total_discharge <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Total_Discharge"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract the temperature value and unit</span></span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mean_temp_value &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">#temp_unit &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column2) %&gt;% pull()</span></span>
<span id="cb43-22"><a href="#cb43-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-23"><a href="#cb43-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert only if the unit is Fahrenheit ("°F")</span></span>
<span id="cb43-24"><a href="#cb43-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">#if (temp_unit == "°F") {</span></span>
<span id="cb43-25"><a href="#cb43-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mean_temp_value &lt;- (as.numeric(mean_temp_value) - 32) * 5 / 9</span></span>
<span id="cb43-26"><a href="#cb43-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">#} else {</span></span>
<span id="cb43-27"><a href="#cb43-27" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mean_temp_value &lt;- as.numeric(mean_temp_value)  # Ensure it's numeric for Celsius values or NA</span></span>
<span id="cb43-28"><a href="#cb43-28" aria-hidden="true" tabindex="-1"></a>  <span class="co">#}</span></span>
<span id="cb43-29"><a href="#cb43-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb43-30"><a href="#cb43-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Round values to 2 decimal places</span></span>
<span id="cb43-31"><a href="#cb43-31" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mean_temp_value &lt;- round(mean_temp_value, 2)</span></span>
<span id="cb43-32"><a href="#cb43-32" aria-hidden="true" tabindex="-1"></a>  total_discharge <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">as.numeric</span>(total_discharge), <span class="dv">2</span>)</span>
<span id="cb43-33"><a href="#cb43-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb43-34"><a href="#cb43-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb43-35"><a href="#cb43-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">localEndTime =</span> local_end_time,</span>
<span id="cb43-36"><a href="#cb43-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> site_name,</span>
<span id="cb43-37"><a href="#cb43-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">totalDischarge =</span> <span class="fu">as.numeric</span>(total_discharge),  <span class="co"># Ensure numeric type</span></span>
<span id="cb43-38"><a href="#cb43-38" aria-hidden="true" tabindex="-1"></a>    <span class="co">#meanTemp = mean_temp_value,  # Already handled as numeric</span></span>
<span id="cb43-39"><a href="#cb43-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb43-40"><a href="#cb43-40" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb43-41"><a href="#cb43-41" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb43-42"><a href="#cb43-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-43"><a href="#cb43-43" aria-hidden="true" tabindex="-1"></a>week_2_directory <span class="ot">&lt;-</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/FlowTracker/FlowTrackerFiles/TAMEflow/Week2"</span></span>
<span id="cb43-44"><a href="#cb43-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-45"><a href="#cb43-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Find all files in the week 2 directory</span></span>
<span id="cb43-46"><a href="#cb43-46" aria-hidden="true" tabindex="-1"></a>week_2_files <span class="ot">&lt;-</span> <span class="fu">find_files</span>(week_2_directory)</span>
<span id="cb43-47"><a href="#cb43-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-48"><a href="#cb43-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the result dataframe with the correct data types</span></span>
<span id="cb43-49"><a href="#cb43-49" aria-hidden="true" tabindex="-1"></a>flow_tracker_2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb43-50"><a href="#cb43-50" aria-hidden="true" tabindex="-1"></a>  <span class="at">localEndTime =</span> <span class="fu">character</span>(),</span>
<span id="cb43-51"><a href="#cb43-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">river =</span> <span class="fu">character</span>(),</span>
<span id="cb43-52"><a href="#cb43-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">totalDischarge =</span> <span class="fu">numeric</span>(),  <span class="co"># Initialize as numeric</span></span>
<span id="cb43-53"><a href="#cb43-53" aria-hidden="true" tabindex="-1"></a>  <span class="co">#meanTemp = numeric(),  # Initialize as numeric</span></span>
<span id="cb43-54"><a href="#cb43-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb43-55"><a href="#cb43-55" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb43-56"><a href="#cb43-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-57"><a href="#cb43-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through all files and extract values</span></span>
<span id="cb43-58"><a href="#cb43-58" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (file <span class="cf">in</span> week_2_files) {</span>
<span id="cb43-59"><a href="#cb43-59" aria-hidden="true" tabindex="-1"></a>  file_data <span class="ot">&lt;-</span> <span class="fu">extract_values</span>(file)</span>
<span id="cb43-60"><a href="#cb43-60" aria-hidden="true" tabindex="-1"></a>  flow_tracker_2 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(flow_tracker_2, file_data)</span>
<span id="cb43-61"><a href="#cb43-61" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb43-62"><a href="#cb43-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-63"><a href="#cb43-63" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardize site names</span></span>
<span id="cb43-64"><a href="#cb43-64" aria-hidden="true" tabindex="-1"></a>flow_tracker_2 <span class="ot">&lt;-</span> flow_tracker_2 <span class="sc">%&gt;%</span></span>
<span id="cb43-65"><a href="#cb43-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"buff"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"BUFFAM"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb43-66"><a href="#cb43-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"dryu"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"DRY UPPER"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb43-67"><a href="#cb43-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"harr"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"HARRIS"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb43-68"><a href="#cb43-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"undh"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"UNDERHILL"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb43-69"><a href="#cb43-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"dcky"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"DICKEY"</span>, river))</span>
<span id="cb43-70"><a href="#cb43-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-71"><a href="#cb43-71" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################################################</span></span>
<span id="cb43-72"><a href="#cb43-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-73"><a href="#cb43-73" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove rows with repeating Total_Discharge values</span></span>
<span id="cb43-74"><a href="#cb43-74" aria-hidden="true" tabindex="-1"></a>flow_tracker_2 <span class="ot">&lt;-</span> flow_tracker_2 <span class="sc">%&gt;%</span> </span>
<span id="cb43-75"><a href="#cb43-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(localEndTime, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb43-76"><a href="#cb43-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-77"><a href="#cb43-77" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################################################</span></span>
<span id="cb43-78"><a href="#cb43-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-79"><a href="#cb43-79" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb43-80"><a href="#cb43-80" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flow_tracker_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         localEndTime     river totalDischarge
1 2024-06-18 16:48:45    BUFFAM           0.01
2 2024-06-19 02:07:27    BUFFAM           0.02
3 2024-06-17 12:35:22    DICKEY           0.03
4 2024-06-18 02:35:29    DICKEY           1.49
5 2024-06-19 12:36:08 DRY UPPER           0.02
6 2024-06-20 00:32:19 DRY UPPER           0.30</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write the final CSV file</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flow_tracker_2, </span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_2.csv"</span>, </span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a function to search for files</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>find_files <span class="ot">&lt;-</span> <span class="cf">function</span>(week_3_directory) {</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  week_3_files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> week_3_directory, <span class="at">recursive =</span> <span class="cn">TRUE</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(week_3_files)</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to extract the required values from a single file and convert only Fahrenheit (°F) to Celsius</span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>extract_values <span class="ot">&lt;-</span> <span class="cf">function</span>(file_path) {</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read the csv file</span></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(file_path, <span class="at">header =</span> <span class="cn">FALSE</span>, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Column1"</span>, <span class="st">"Column2"</span>, <span class="st">"Column3"</span>)</span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract values</span></span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a>  local_end_time <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Local_End_Time"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a>  site_name <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Site_Name"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a>  total_discharge <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Total_Discharge"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb46-18"><a href="#cb46-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb46-19"><a href="#cb46-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract the temperature value and unit</span></span>
<span id="cb46-20"><a href="#cb46-20" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mean_temp_value &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb46-21"><a href="#cb46-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">#temp_unit &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column2) %&gt;% pull()</span></span>
<span id="cb46-22"><a href="#cb46-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-23"><a href="#cb46-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert only if the unit is Fahrenheit ("°F")</span></span>
<span id="cb46-24"><a href="#cb46-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">#if (temp_unit == "°F") {</span></span>
<span id="cb46-25"><a href="#cb46-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mean_temp_value &lt;- (as.numeric(mean_temp_value) - 32) * 5 / 9</span></span>
<span id="cb46-26"><a href="#cb46-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">#} else {</span></span>
<span id="cb46-27"><a href="#cb46-27" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mean_temp_value &lt;- as.numeric(mean_temp_value)  # Ensure it's numeric for Celsius values or NA</span></span>
<span id="cb46-28"><a href="#cb46-28" aria-hidden="true" tabindex="-1"></a>  <span class="co">#}</span></span>
<span id="cb46-29"><a href="#cb46-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb46-30"><a href="#cb46-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Round values to 2 decimal places</span></span>
<span id="cb46-31"><a href="#cb46-31" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mean_temp_value &lt;- round(mean_temp_value, 2)</span></span>
<span id="cb46-32"><a href="#cb46-32" aria-hidden="true" tabindex="-1"></a>  total_discharge <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">as.numeric</span>(total_discharge), <span class="dv">2</span>)</span>
<span id="cb46-33"><a href="#cb46-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb46-34"><a href="#cb46-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb46-35"><a href="#cb46-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">localEndTime =</span> local_end_time,</span>
<span id="cb46-36"><a href="#cb46-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> site_name,</span>
<span id="cb46-37"><a href="#cb46-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">totalDischarge =</span> <span class="fu">as.numeric</span>(total_discharge),  <span class="co"># Ensure numeric type</span></span>
<span id="cb46-38"><a href="#cb46-38" aria-hidden="true" tabindex="-1"></a>    <span class="co">#meanTemp = mean_temp_value,  # Already handled as numeric</span></span>
<span id="cb46-39"><a href="#cb46-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb46-40"><a href="#cb46-40" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb46-41"><a href="#cb46-41" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb46-42"><a href="#cb46-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-43"><a href="#cb46-43" aria-hidden="true" tabindex="-1"></a>week_3_directory <span class="ot">&lt;-</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/FlowTracker/FlowTrackerFiles/TAMEflow/Week3"</span></span>
<span id="cb46-44"><a href="#cb46-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-45"><a href="#cb46-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Find all files in the week 3 directory</span></span>
<span id="cb46-46"><a href="#cb46-46" aria-hidden="true" tabindex="-1"></a>week_3_files <span class="ot">&lt;-</span> <span class="fu">find_files</span>(week_3_directory)</span>
<span id="cb46-47"><a href="#cb46-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-48"><a href="#cb46-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the result dataframe with the correct data types</span></span>
<span id="cb46-49"><a href="#cb46-49" aria-hidden="true" tabindex="-1"></a>flow_tracker_3 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb46-50"><a href="#cb46-50" aria-hidden="true" tabindex="-1"></a>  <span class="at">localEndTime =</span> <span class="fu">character</span>(),</span>
<span id="cb46-51"><a href="#cb46-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">river =</span> <span class="fu">character</span>(),</span>
<span id="cb46-52"><a href="#cb46-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">totalDischarge =</span> <span class="fu">numeric</span>(),  <span class="co"># Initialize as numeric</span></span>
<span id="cb46-53"><a href="#cb46-53" aria-hidden="true" tabindex="-1"></a>  <span class="co">#meanTemp = numeric(),  # Initialize as numeric</span></span>
<span id="cb46-54"><a href="#cb46-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb46-55"><a href="#cb46-55" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb46-56"><a href="#cb46-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-57"><a href="#cb46-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through all files and extract values</span></span>
<span id="cb46-58"><a href="#cb46-58" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (file <span class="cf">in</span> week_3_files) {</span>
<span id="cb46-59"><a href="#cb46-59" aria-hidden="true" tabindex="-1"></a>  file_data <span class="ot">&lt;-</span> <span class="fu">extract_values</span>(file)</span>
<span id="cb46-60"><a href="#cb46-60" aria-hidden="true" tabindex="-1"></a>  flow_tracker_3 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(flow_tracker_3, file_data)</span>
<span id="cb46-61"><a href="#cb46-61" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb46-62"><a href="#cb46-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-63"><a href="#cb46-63" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardize site names</span></span>
<span id="cb46-64"><a href="#cb46-64" aria-hidden="true" tabindex="-1"></a>flow_tracker_3 <span class="ot">&lt;-</span> flow_tracker_3 <span class="sc">%&gt;%</span></span>
<span id="cb46-65"><a href="#cb46-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"buff"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"BUFFAM"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb46-66"><a href="#cb46-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"dryu"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"DRY UPPER"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb46-67"><a href="#cb46-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"harr"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"HARRIS"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb46-68"><a href="#cb46-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"undh"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"UNDERHILL"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb46-69"><a href="#cb46-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"dcky"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"DICKEY"</span>, river))</span>
<span id="cb46-70"><a href="#cb46-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-71"><a href="#cb46-71" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################################################</span></span>
<span id="cb46-72"><a href="#cb46-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-73"><a href="#cb46-73" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove rows with repeating Total_Discharge values</span></span>
<span id="cb46-74"><a href="#cb46-74" aria-hidden="true" tabindex="-1"></a>flow_tracker_3 <span class="ot">&lt;-</span> flow_tracker_3 <span class="sc">%&gt;%</span> </span>
<span id="cb46-75"><a href="#cb46-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(localEndTime, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb46-76"><a href="#cb46-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-77"><a href="#cb46-77" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################################################</span></span>
<span id="cb46-78"><a href="#cb46-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-79"><a href="#cb46-79" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb46-80"><a href="#cb46-80" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flow_tracker_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         localEndTime     river totalDischarge
1 2024-06-26 10:42:10    BUFFAM           0.02
2 2024-06-26 17:51:16    BUFFAM           0.02
3 2024-06-28 09:44:29    DICKEY           0.03
4 2024-06-28 18:41:46    DICKEY           1.07
5 2024-06-25 07:21:55 DRY UPPER           0.03
6 2024-06-25 19:19:38 DRY UPPER           0.57</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write the final CSV file</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flow_tracker_3, </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_3.csv"</span>, </span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a function to search for files</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>find_files <span class="ot">&lt;-</span> <span class="cf">function</span>(week_4_directory) {</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  week_4_files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> week_4_directory, <span class="at">recursive =</span> <span class="cn">TRUE</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(week_4_files)</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to extract the required values from a single file and convert only Fahrenheit (°F) to Celsius</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>extract_values <span class="ot">&lt;-</span> <span class="cf">function</span>(file_path) {</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read the csv file</span></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(file_path, <span class="at">header =</span> <span class="cn">FALSE</span>, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Column1"</span>, <span class="st">"Column2"</span>, <span class="st">"Column3"</span>)</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract values</span></span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>  local_end_time <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Local_End_Time"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>  site_name <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Site_Name"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>  total_discharge <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Total_Discharge"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract the temperature value and unit</span></span>
<span id="cb49-20"><a href="#cb49-20" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mean_temp_value &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb49-21"><a href="#cb49-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">#temp_unit &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column2) %&gt;% pull()</span></span>
<span id="cb49-22"><a href="#cb49-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-23"><a href="#cb49-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert only if the unit is Fahrenheit ("°F")</span></span>
<span id="cb49-24"><a href="#cb49-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">#if (temp_unit == "°F") {</span></span>
<span id="cb49-25"><a href="#cb49-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mean_temp_value &lt;- (as.numeric(mean_temp_value) - 32) * 5 / 9</span></span>
<span id="cb49-26"><a href="#cb49-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">#} else {</span></span>
<span id="cb49-27"><a href="#cb49-27" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mean_temp_value &lt;- as.numeric(mean_temp_value)  # Ensure it's numeric for Celsius values or NA</span></span>
<span id="cb49-28"><a href="#cb49-28" aria-hidden="true" tabindex="-1"></a>  <span class="co">#}</span></span>
<span id="cb49-29"><a href="#cb49-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-30"><a href="#cb49-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Round values to 2 decimal places</span></span>
<span id="cb49-31"><a href="#cb49-31" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mean_temp_value &lt;- round(mean_temp_value, 2)</span></span>
<span id="cb49-32"><a href="#cb49-32" aria-hidden="true" tabindex="-1"></a>  total_discharge <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">as.numeric</span>(total_discharge), <span class="dv">2</span>)</span>
<span id="cb49-33"><a href="#cb49-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb49-34"><a href="#cb49-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb49-35"><a href="#cb49-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">localEndTime =</span> local_end_time,</span>
<span id="cb49-36"><a href="#cb49-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> site_name,</span>
<span id="cb49-37"><a href="#cb49-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">totalDischarge =</span> <span class="fu">as.numeric</span>(total_discharge),  <span class="co"># Ensure numeric type</span></span>
<span id="cb49-38"><a href="#cb49-38" aria-hidden="true" tabindex="-1"></a>    <span class="co">#meanTemp = mean_temp_value,  # Already handled as numeric</span></span>
<span id="cb49-39"><a href="#cb49-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb49-40"><a href="#cb49-40" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb49-41"><a href="#cb49-41" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb49-42"><a href="#cb49-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-43"><a href="#cb49-43" aria-hidden="true" tabindex="-1"></a>week_4_directory <span class="ot">&lt;-</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/FlowTracker/FlowTrackerFiles/TAMEflow/Week4"</span></span>
<span id="cb49-44"><a href="#cb49-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-45"><a href="#cb49-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Find all files in the week 4 directory</span></span>
<span id="cb49-46"><a href="#cb49-46" aria-hidden="true" tabindex="-1"></a>week_4_files <span class="ot">&lt;-</span> <span class="fu">find_files</span>(week_4_directory)</span>
<span id="cb49-47"><a href="#cb49-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-48"><a href="#cb49-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the result dataframe with the correct data types</span></span>
<span id="cb49-49"><a href="#cb49-49" aria-hidden="true" tabindex="-1"></a>flow_tracker_4 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb49-50"><a href="#cb49-50" aria-hidden="true" tabindex="-1"></a>  <span class="at">localEndTime =</span> <span class="fu">character</span>(),</span>
<span id="cb49-51"><a href="#cb49-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">river =</span> <span class="fu">character</span>(),</span>
<span id="cb49-52"><a href="#cb49-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">totalDischarge =</span> <span class="fu">numeric</span>(),  <span class="co"># Initialize as numeric</span></span>
<span id="cb49-53"><a href="#cb49-53" aria-hidden="true" tabindex="-1"></a>  <span class="co">#meanTemp = numeric(),  # Initialize as numeric</span></span>
<span id="cb49-54"><a href="#cb49-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb49-55"><a href="#cb49-55" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-56"><a href="#cb49-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-57"><a href="#cb49-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through all files and extract values</span></span>
<span id="cb49-58"><a href="#cb49-58" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (file <span class="cf">in</span> week_4_files) {</span>
<span id="cb49-59"><a href="#cb49-59" aria-hidden="true" tabindex="-1"></a>  file_data <span class="ot">&lt;-</span> <span class="fu">extract_values</span>(file)</span>
<span id="cb49-60"><a href="#cb49-60" aria-hidden="true" tabindex="-1"></a>  flow_tracker_4 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(flow_tracker_4, file_data)</span>
<span id="cb49-61"><a href="#cb49-61" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb49-62"><a href="#cb49-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-63"><a href="#cb49-63" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardize site names</span></span>
<span id="cb49-64"><a href="#cb49-64" aria-hidden="true" tabindex="-1"></a>flow_tracker_4 <span class="ot">&lt;-</span> flow_tracker_4 <span class="sc">%&gt;%</span></span>
<span id="cb49-65"><a href="#cb49-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"buff"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"BUFFAM"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb49-66"><a href="#cb49-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"dryu"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"DRY UPPER"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb49-67"><a href="#cb49-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"harr"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"HARRIS"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb49-68"><a href="#cb49-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"undh"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"UNDERHILL"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb49-69"><a href="#cb49-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"dcky"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"DICKEY"</span>, river))</span>
<span id="cb49-70"><a href="#cb49-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-71"><a href="#cb49-71" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################################################</span></span>
<span id="cb49-72"><a href="#cb49-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-73"><a href="#cb49-73" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove rows with repeating Total_Discharge values</span></span>
<span id="cb49-74"><a href="#cb49-74" aria-hidden="true" tabindex="-1"></a>flow_tracker_4 <span class="ot">&lt;-</span> flow_tracker_4 <span class="sc">%&gt;%</span> </span>
<span id="cb49-75"><a href="#cb49-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(localEndTime, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb49-76"><a href="#cb49-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-77"><a href="#cb49-77" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################################################</span></span>
<span id="cb49-78"><a href="#cb49-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-79"><a href="#cb49-79" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb49-80"><a href="#cb49-80" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flow_tracker_4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         localEndTime     river totalDischarge
1 2024-07-02 04:11:20    BUFFAM           0.02
2 2024-07-02 17:28:34    BUFFAM           0.01
3 2024-07-01 04:39:46    DICKEY           1.77
4 2024-07-01 18:42:29    DICKEY           1.34
5 2024-06-30 05:23:29 DRY UPPER           0.33
6 2024-06-30 14:19:58 DRY UPPER           0.01</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write the final CSV file</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flow_tracker_4, </span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_4.csv"</span>, </span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a function to search for files</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>find_files <span class="ot">&lt;-</span> <span class="cf">function</span>(week_5_directory) {</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  week_5_files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> week_5_directory, <span class="at">recursive =</span> <span class="cn">TRUE</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(week_5_files)</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to extract the required values from a single file and convert only Fahrenheit (°F) to Celsius</span></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>extract_values <span class="ot">&lt;-</span> <span class="cf">function</span>(file_path) {</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read the csv file</span></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(file_path, <span class="at">header =</span> <span class="cn">FALSE</span>, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Column1"</span>, <span class="st">"Column2"</span>, <span class="st">"Column3"</span>)</span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract values</span></span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>  local_end_time <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Local_End_Time"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a>  site_name <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Site_Name"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a>  total_discharge <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Total_Discharge"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb52-18"><a href="#cb52-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb52-19"><a href="#cb52-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract the temperature value and unit</span></span>
<span id="cb52-20"><a href="#cb52-20" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mean_temp_value &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb52-21"><a href="#cb52-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">#temp_unit &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column2) %&gt;% pull()</span></span>
<span id="cb52-22"><a href="#cb52-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-23"><a href="#cb52-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert only if the unit is Fahrenheit ("°F")</span></span>
<span id="cb52-24"><a href="#cb52-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">#if (temp_unit == "°F") {</span></span>
<span id="cb52-25"><a href="#cb52-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mean_temp_value &lt;- (as.numeric(mean_temp_value) - 32) * 5 / 9</span></span>
<span id="cb52-26"><a href="#cb52-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">#} else {</span></span>
<span id="cb52-27"><a href="#cb52-27" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mean_temp_value &lt;- as.numeric(mean_temp_value)  # Ensure it's numeric for Celsius values or NA</span></span>
<span id="cb52-28"><a href="#cb52-28" aria-hidden="true" tabindex="-1"></a>  <span class="co">#}</span></span>
<span id="cb52-29"><a href="#cb52-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb52-30"><a href="#cb52-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Round values to 2 decimal places</span></span>
<span id="cb52-31"><a href="#cb52-31" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mean_temp_value &lt;- round(mean_temp_value, 2)</span></span>
<span id="cb52-32"><a href="#cb52-32" aria-hidden="true" tabindex="-1"></a>  total_discharge <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">as.numeric</span>(total_discharge), <span class="dv">2</span>)</span>
<span id="cb52-33"><a href="#cb52-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb52-34"><a href="#cb52-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb52-35"><a href="#cb52-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">localEndTime =</span> local_end_time,</span>
<span id="cb52-36"><a href="#cb52-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> site_name,</span>
<span id="cb52-37"><a href="#cb52-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">totalDischarge =</span> <span class="fu">as.numeric</span>(total_discharge),  <span class="co"># Ensure numeric type</span></span>
<span id="cb52-38"><a href="#cb52-38" aria-hidden="true" tabindex="-1"></a>    <span class="co">#meanTemp = mean_temp_value,  # Already handled as numeric</span></span>
<span id="cb52-39"><a href="#cb52-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb52-40"><a href="#cb52-40" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb52-41"><a href="#cb52-41" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb52-42"><a href="#cb52-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-43"><a href="#cb52-43" aria-hidden="true" tabindex="-1"></a>week_5_directory <span class="ot">&lt;-</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/FlowTracker/FlowTrackerFiles/TAMEflow/Week5"</span></span>
<span id="cb52-44"><a href="#cb52-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-45"><a href="#cb52-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Find all files in the week 5 directory</span></span>
<span id="cb52-46"><a href="#cb52-46" aria-hidden="true" tabindex="-1"></a>week_5_files <span class="ot">&lt;-</span> <span class="fu">find_files</span>(week_5_directory)</span>
<span id="cb52-47"><a href="#cb52-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-48"><a href="#cb52-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the result dataframe with the correct data types</span></span>
<span id="cb52-49"><a href="#cb52-49" aria-hidden="true" tabindex="-1"></a>flow_tracker_5 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb52-50"><a href="#cb52-50" aria-hidden="true" tabindex="-1"></a>  <span class="at">localEndTime =</span> <span class="fu">character</span>(),</span>
<span id="cb52-51"><a href="#cb52-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">river =</span> <span class="fu">character</span>(),</span>
<span id="cb52-52"><a href="#cb52-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">totalDischarge =</span> <span class="fu">numeric</span>(),  <span class="co"># Initialize as numeric</span></span>
<span id="cb52-53"><a href="#cb52-53" aria-hidden="true" tabindex="-1"></a>  <span class="co">#meanTemp = numeric(),  # Initialize as numeric</span></span>
<span id="cb52-54"><a href="#cb52-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb52-55"><a href="#cb52-55" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb52-56"><a href="#cb52-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-57"><a href="#cb52-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through all files and extract values</span></span>
<span id="cb52-58"><a href="#cb52-58" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (file <span class="cf">in</span> week_5_files) {</span>
<span id="cb52-59"><a href="#cb52-59" aria-hidden="true" tabindex="-1"></a>  file_data <span class="ot">&lt;-</span> <span class="fu">extract_values</span>(file)</span>
<span id="cb52-60"><a href="#cb52-60" aria-hidden="true" tabindex="-1"></a>  flow_tracker_5 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(flow_tracker_5, file_data)</span>
<span id="cb52-61"><a href="#cb52-61" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb52-62"><a href="#cb52-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-63"><a href="#cb52-63" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardize site names</span></span>
<span id="cb52-64"><a href="#cb52-64" aria-hidden="true" tabindex="-1"></a>flow_tracker_5 <span class="ot">&lt;-</span> flow_tracker_5 <span class="sc">%&gt;%</span></span>
<span id="cb52-65"><a href="#cb52-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"buff"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"BUFFAM"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb52-66"><a href="#cb52-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"dryu"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"DRY UPPER"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb52-67"><a href="#cb52-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"harr"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"HARRIS"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb52-68"><a href="#cb52-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"undh"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"UNDERHILL"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb52-69"><a href="#cb52-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"dcky"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"DICKEY"</span>, river))</span>
<span id="cb52-70"><a href="#cb52-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-71"><a href="#cb52-71" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################################################</span></span>
<span id="cb52-72"><a href="#cb52-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-73"><a href="#cb52-73" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove rows with repeating Total_Discharge values</span></span>
<span id="cb52-74"><a href="#cb52-74" aria-hidden="true" tabindex="-1"></a>flow_tracker_5 <span class="ot">&lt;-</span> flow_tracker_5 <span class="sc">%&gt;%</span> </span>
<span id="cb52-75"><a href="#cb52-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(localEndTime, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb52-76"><a href="#cb52-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-77"><a href="#cb52-77" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################################################</span></span>
<span id="cb52-78"><a href="#cb52-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-79"><a href="#cb52-79" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb52-80"><a href="#cb52-80" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flow_tracker_5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         localEndTime     river totalDischarge
1 2024-07-11 11:21:40    BUFFAM           1.19
2 2024-07-11 12:00:06    BUFFAM           0.04
3 2024-07-11 18:15:24    BUFFAM           1.06
4 2024-07-10 08:31:15    DICKEY           0.07
5 2024-07-10 18:15:15    DICKEY           2.58
6 2024-07-12 08:03:32 DRY UPPER           0.00</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write the final CSV file</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flow_tracker_5, </span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_5.csv"</span>, </span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a function to search for files</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>find_files <span class="ot">&lt;-</span> <span class="cf">function</span>(week_6_directory) {</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  week_6_files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> week_6_directory, <span class="at">recursive =</span> <span class="cn">TRUE</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(week_6_files)</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to extract the required values from a single file and convert only Fahrenheit (°F) to Celsius</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>extract_values <span class="ot">&lt;-</span> <span class="cf">function</span>(file_path) {</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read the csv file</span></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(file_path, <span class="at">header =</span> <span class="cn">FALSE</span>, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Column1"</span>, <span class="st">"Column2"</span>, <span class="st">"Column3"</span>)</span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract values</span></span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a>  local_end_time <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Local_End_Time"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>  site_name <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Site_Name"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>  total_discharge <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Total_Discharge"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract the temperature value and unit</span></span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mean_temp_value &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">#temp_unit &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column2) %&gt;% pull()</span></span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-23"><a href="#cb55-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert only if the unit is Fahrenheit ("°F")</span></span>
<span id="cb55-24"><a href="#cb55-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">#if (temp_unit == "°F") {</span></span>
<span id="cb55-25"><a href="#cb55-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mean_temp_value &lt;- (as.numeric(mean_temp_value) - 32) * 5 / 9</span></span>
<span id="cb55-26"><a href="#cb55-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">#} else {</span></span>
<span id="cb55-27"><a href="#cb55-27" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mean_temp_value &lt;- as.numeric(mean_temp_value)  # Ensure it's numeric for Celsius values or NA</span></span>
<span id="cb55-28"><a href="#cb55-28" aria-hidden="true" tabindex="-1"></a>  <span class="co">#}</span></span>
<span id="cb55-29"><a href="#cb55-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb55-30"><a href="#cb55-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Round values to 2 decimal places</span></span>
<span id="cb55-31"><a href="#cb55-31" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mean_temp_value &lt;- round(mean_temp_value, 2)</span></span>
<span id="cb55-32"><a href="#cb55-32" aria-hidden="true" tabindex="-1"></a>  total_discharge <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">as.numeric</span>(total_discharge), <span class="dv">2</span>)</span>
<span id="cb55-33"><a href="#cb55-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb55-34"><a href="#cb55-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb55-35"><a href="#cb55-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">localEndTime =</span> local_end_time,</span>
<span id="cb55-36"><a href="#cb55-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> site_name,</span>
<span id="cb55-37"><a href="#cb55-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">totalDischarge =</span> <span class="fu">as.numeric</span>(total_discharge),  <span class="co"># Ensure numeric type</span></span>
<span id="cb55-38"><a href="#cb55-38" aria-hidden="true" tabindex="-1"></a>    <span class="co">#meanTemp = mean_temp_value,  # Already handled as numeric</span></span>
<span id="cb55-39"><a href="#cb55-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb55-40"><a href="#cb55-40" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-41"><a href="#cb55-41" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb55-42"><a href="#cb55-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-43"><a href="#cb55-43" aria-hidden="true" tabindex="-1"></a>week_6_directory <span class="ot">&lt;-</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/FlowTracker/FlowTrackerFiles/TAMEflow/Week6"</span></span>
<span id="cb55-44"><a href="#cb55-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-45"><a href="#cb55-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Find all files in the week 6 directory</span></span>
<span id="cb55-46"><a href="#cb55-46" aria-hidden="true" tabindex="-1"></a>week_6_files <span class="ot">&lt;-</span> <span class="fu">find_files</span>(week_6_directory)</span>
<span id="cb55-47"><a href="#cb55-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-48"><a href="#cb55-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the result dataframe with the correct data types</span></span>
<span id="cb55-49"><a href="#cb55-49" aria-hidden="true" tabindex="-1"></a>flow_tracker_6 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb55-50"><a href="#cb55-50" aria-hidden="true" tabindex="-1"></a>  <span class="at">localEndTime =</span> <span class="fu">character</span>(),</span>
<span id="cb55-51"><a href="#cb55-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">river =</span> <span class="fu">character</span>(),</span>
<span id="cb55-52"><a href="#cb55-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">totalDischarge =</span> <span class="fu">numeric</span>(),  <span class="co"># Initialize as numeric</span></span>
<span id="cb55-53"><a href="#cb55-53" aria-hidden="true" tabindex="-1"></a>  <span class="co">#meanTemp = numeric(),  # Initialize as numeric</span></span>
<span id="cb55-54"><a href="#cb55-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb55-55"><a href="#cb55-55" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-56"><a href="#cb55-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-57"><a href="#cb55-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through all files and extract values</span></span>
<span id="cb55-58"><a href="#cb55-58" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (file <span class="cf">in</span> week_6_files) {</span>
<span id="cb55-59"><a href="#cb55-59" aria-hidden="true" tabindex="-1"></a>  file_data <span class="ot">&lt;-</span> <span class="fu">extract_values</span>(file)</span>
<span id="cb55-60"><a href="#cb55-60" aria-hidden="true" tabindex="-1"></a>  flow_tracker_6 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(flow_tracker_6, file_data)</span>
<span id="cb55-61"><a href="#cb55-61" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb55-62"><a href="#cb55-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-63"><a href="#cb55-63" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardize site names</span></span>
<span id="cb55-64"><a href="#cb55-64" aria-hidden="true" tabindex="-1"></a>flow_tracker_6 <span class="ot">&lt;-</span> flow_tracker_6 <span class="sc">%&gt;%</span></span>
<span id="cb55-65"><a href="#cb55-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"buff"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"BUFFAM"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb55-66"><a href="#cb55-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"dryu"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"DRY UPPER"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb55-67"><a href="#cb55-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"harr"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"HARRIS"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb55-68"><a href="#cb55-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"undh"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"UNDERHILL"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb55-69"><a href="#cb55-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"dcky"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"DICKEY"</span>, river))</span>
<span id="cb55-70"><a href="#cb55-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-71"><a href="#cb55-71" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################################################</span></span>
<span id="cb55-72"><a href="#cb55-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-73"><a href="#cb55-73" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove rows with repeating Total_Discharge values</span></span>
<span id="cb55-74"><a href="#cb55-74" aria-hidden="true" tabindex="-1"></a>flow_tracker_6 <span class="ot">&lt;-</span> flow_tracker_6 <span class="sc">%&gt;%</span> </span>
<span id="cb55-75"><a href="#cb55-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(localEndTime, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb55-76"><a href="#cb55-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-77"><a href="#cb55-77" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################################################</span></span>
<span id="cb55-78"><a href="#cb55-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-79"><a href="#cb55-79" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb55-80"><a href="#cb55-80" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flow_tracker_6)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         localEndTime     river totalDischarge
1 2024-07-17 04:35:30    BUFFAM           1.69
2 2024-07-17 14:14:36    BUFFAM           1.12
3 2024-07-16 05:02:37    DICKEY           1.17
4 2024-07-16 14:29:54    DICKEY          -1.58
5 2024-07-18 04:41:46 DRY UPPER           1.68
6 2024-07-18 14:02:49 DRY UPPER           0.60</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write the final CSV file</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flow_tracker_6, </span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_6.csv"</span>, </span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a function to search for files</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>find_files <span class="ot">&lt;-</span> <span class="cf">function</span>(week_7_directory) {</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  week_7_files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> week_7_directory, <span class="at">recursive =</span> <span class="cn">TRUE</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(week_7_files)</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to extract the required values from a single file and convert only Fahrenheit (°F) to Celsius</span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>extract_values <span class="ot">&lt;-</span> <span class="cf">function</span>(file_path) {</span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read the csv file</span></span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(file_path, <span class="at">header =</span> <span class="cn">FALSE</span>, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Column1"</span>, <span class="st">"Column2"</span>, <span class="st">"Column3"</span>)</span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb58-14"><a href="#cb58-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract values</span></span>
<span id="cb58-15"><a href="#cb58-15" aria-hidden="true" tabindex="-1"></a>  local_end_time <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Local_End_Time"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb58-16"><a href="#cb58-16" aria-hidden="true" tabindex="-1"></a>  site_name <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Site_Name"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb58-17"><a href="#cb58-17" aria-hidden="true" tabindex="-1"></a>  total_discharge <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Total_Discharge"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb58-18"><a href="#cb58-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb58-19"><a href="#cb58-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract the temperature value and unit</span></span>
<span id="cb58-20"><a href="#cb58-20" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mean_temp_value &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb58-21"><a href="#cb58-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">#temp_unit &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column2) %&gt;% pull()</span></span>
<span id="cb58-22"><a href="#cb58-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-23"><a href="#cb58-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert only if the unit is Fahrenheit ("°F")</span></span>
<span id="cb58-24"><a href="#cb58-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">#if (temp_unit == "°F") {</span></span>
<span id="cb58-25"><a href="#cb58-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mean_temp_value &lt;- (as.numeric(mean_temp_value) - 32) * 5 / 9</span></span>
<span id="cb58-26"><a href="#cb58-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">#} else {</span></span>
<span id="cb58-27"><a href="#cb58-27" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mean_temp_value &lt;- as.numeric(mean_temp_value)  # Ensure it's numeric for Celsius values or NA</span></span>
<span id="cb58-28"><a href="#cb58-28" aria-hidden="true" tabindex="-1"></a>  <span class="co">#}</span></span>
<span id="cb58-29"><a href="#cb58-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb58-30"><a href="#cb58-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Round values to 2 decimal places</span></span>
<span id="cb58-31"><a href="#cb58-31" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mean_temp_value &lt;- round(mean_temp_value, 2)</span></span>
<span id="cb58-32"><a href="#cb58-32" aria-hidden="true" tabindex="-1"></a>  total_discharge <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">as.numeric</span>(total_discharge), <span class="dv">2</span>)</span>
<span id="cb58-33"><a href="#cb58-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb58-34"><a href="#cb58-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb58-35"><a href="#cb58-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">localEndTime =</span> local_end_time,</span>
<span id="cb58-36"><a href="#cb58-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> site_name,</span>
<span id="cb58-37"><a href="#cb58-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">totalDischarge =</span> <span class="fu">as.numeric</span>(total_discharge),  <span class="co"># Ensure numeric type</span></span>
<span id="cb58-38"><a href="#cb58-38" aria-hidden="true" tabindex="-1"></a>    <span class="co">#meanTemp = mean_temp_value,  # Already handled as numeric</span></span>
<span id="cb58-39"><a href="#cb58-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb58-40"><a href="#cb58-40" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb58-41"><a href="#cb58-41" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb58-42"><a href="#cb58-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-43"><a href="#cb58-43" aria-hidden="true" tabindex="-1"></a>week_7_directory <span class="ot">&lt;-</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/FlowTracker/FlowTrackerFiles/TAMEflow/Week7"</span></span>
<span id="cb58-44"><a href="#cb58-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-45"><a href="#cb58-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Find all files in the week 7 directory</span></span>
<span id="cb58-46"><a href="#cb58-46" aria-hidden="true" tabindex="-1"></a>week_7_files <span class="ot">&lt;-</span> <span class="fu">find_files</span>(week_7_directory)</span>
<span id="cb58-47"><a href="#cb58-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-48"><a href="#cb58-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the result dataframe with the correct data types</span></span>
<span id="cb58-49"><a href="#cb58-49" aria-hidden="true" tabindex="-1"></a>flow_tracker_7 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb58-50"><a href="#cb58-50" aria-hidden="true" tabindex="-1"></a>  <span class="at">localEndTime =</span> <span class="fu">character</span>(),</span>
<span id="cb58-51"><a href="#cb58-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">river =</span> <span class="fu">character</span>(),</span>
<span id="cb58-52"><a href="#cb58-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">totalDischarge =</span> <span class="fu">numeric</span>(),  <span class="co"># Initialize as numeric</span></span>
<span id="cb58-53"><a href="#cb58-53" aria-hidden="true" tabindex="-1"></a>  <span class="co">#meanTemp = numeric(),  # Initialize as numeric</span></span>
<span id="cb58-54"><a href="#cb58-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb58-55"><a href="#cb58-55" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb58-56"><a href="#cb58-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-57"><a href="#cb58-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through all files and extract values</span></span>
<span id="cb58-58"><a href="#cb58-58" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (file <span class="cf">in</span> week_7_files) {</span>
<span id="cb58-59"><a href="#cb58-59" aria-hidden="true" tabindex="-1"></a>  file_data <span class="ot">&lt;-</span> <span class="fu">extract_values</span>(file)</span>
<span id="cb58-60"><a href="#cb58-60" aria-hidden="true" tabindex="-1"></a>  flow_tracker_7 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(flow_tracker_7, file_data)</span>
<span id="cb58-61"><a href="#cb58-61" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb58-62"><a href="#cb58-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-63"><a href="#cb58-63" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardize site names</span></span>
<span id="cb58-64"><a href="#cb58-64" aria-hidden="true" tabindex="-1"></a>flow_tracker_7 <span class="ot">&lt;-</span> flow_tracker_7 <span class="sc">%&gt;%</span></span>
<span id="cb58-65"><a href="#cb58-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"buff"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"BUFFAM"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb58-66"><a href="#cb58-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"dryu"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"DRY UPPER"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb58-67"><a href="#cb58-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"harr"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"HARRIS"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb58-68"><a href="#cb58-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"undh"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"UNDERHILL"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb58-69"><a href="#cb58-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"dcky"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"DICKEY"</span>, river))</span>
<span id="cb58-70"><a href="#cb58-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-71"><a href="#cb58-71" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################################################</span></span>
<span id="cb58-72"><a href="#cb58-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-73"><a href="#cb58-73" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove rows with repeating Total_Discharge values</span></span>
<span id="cb58-74"><a href="#cb58-74" aria-hidden="true" tabindex="-1"></a>flow_tracker_7 <span class="ot">&lt;-</span> flow_tracker_7 <span class="sc">%&gt;%</span> </span>
<span id="cb58-75"><a href="#cb58-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(localEndTime, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb58-76"><a href="#cb58-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-77"><a href="#cb58-77" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################################################</span></span>
<span id="cb58-78"><a href="#cb58-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-79"><a href="#cb58-79" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb58-80"><a href="#cb58-80" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flow_tracker_7)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         localEndTime     river totalDischarge
1 2024-07-25 12:08:40    BUFFAM           0.76
2 2024-07-25 18:12:05    BUFFAM           0.02
3 2024-07-24 10:50:19    DICKEY           1.79
4 2024-07-24 18:21:54    DICKEY           1.65
5 2024-07-23 08:27:20 DRY UPPER           0.13
6 2024-07-23 18:09:40 DRY UPPER           0.16</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write the final CSV file</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flow_tracker_7, </span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_7.csv"</span>, </span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a function to search for files</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>find_files <span class="ot">&lt;-</span> <span class="cf">function</span>(week_8_directory) {</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  week_8_files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> week_8_directory, <span class="at">recursive =</span> <span class="cn">TRUE</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(week_8_files)</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to extract the required values from a single file and convert only Fahrenheit (°F) to Celsius</span></span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>extract_values <span class="ot">&lt;-</span> <span class="cf">function</span>(file_path) {</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read the csv file</span></span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(file_path, <span class="at">header =</span> <span class="cn">FALSE</span>, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Column1"</span>, <span class="st">"Column2"</span>, <span class="st">"Column3"</span>)</span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract values</span></span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true" tabindex="-1"></a>  local_end_time <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Local_End_Time"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb61-16"><a href="#cb61-16" aria-hidden="true" tabindex="-1"></a>  site_name <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Site_Name"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb61-17"><a href="#cb61-17" aria-hidden="true" tabindex="-1"></a>  total_discharge <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Total_Discharge"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb61-18"><a href="#cb61-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb61-19"><a href="#cb61-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract the temperature value and unit</span></span>
<span id="cb61-20"><a href="#cb61-20" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mean_temp_value &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb61-21"><a href="#cb61-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">#temp_unit &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column2) %&gt;% pull()</span></span>
<span id="cb61-22"><a href="#cb61-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-23"><a href="#cb61-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert only if the unit is Fahrenheit ("°F")</span></span>
<span id="cb61-24"><a href="#cb61-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">#if (temp_unit == "°F") {</span></span>
<span id="cb61-25"><a href="#cb61-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mean_temp_value &lt;- (as.numeric(mean_temp_value) - 32) * 5 / 9</span></span>
<span id="cb61-26"><a href="#cb61-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">#} else {</span></span>
<span id="cb61-27"><a href="#cb61-27" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mean_temp_value &lt;- as.numeric(mean_temp_value)  # Ensure it's numeric for Celsius values or NA</span></span>
<span id="cb61-28"><a href="#cb61-28" aria-hidden="true" tabindex="-1"></a>  <span class="co">#}</span></span>
<span id="cb61-29"><a href="#cb61-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb61-30"><a href="#cb61-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Round values to 2 decimal places</span></span>
<span id="cb61-31"><a href="#cb61-31" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mean_temp_value &lt;- round(mean_temp_value, 2)</span></span>
<span id="cb61-32"><a href="#cb61-32" aria-hidden="true" tabindex="-1"></a>  total_discharge <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">as.numeric</span>(total_discharge), <span class="dv">2</span>)</span>
<span id="cb61-33"><a href="#cb61-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb61-34"><a href="#cb61-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb61-35"><a href="#cb61-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">localEndTime =</span> local_end_time,</span>
<span id="cb61-36"><a href="#cb61-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> site_name,</span>
<span id="cb61-37"><a href="#cb61-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">totalDischarge =</span> <span class="fu">as.numeric</span>(total_discharge),  <span class="co"># Ensure numeric type</span></span>
<span id="cb61-38"><a href="#cb61-38" aria-hidden="true" tabindex="-1"></a>    <span class="co">#meanTemp = mean_temp_value,  # Already handled as numeric</span></span>
<span id="cb61-39"><a href="#cb61-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb61-40"><a href="#cb61-40" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb61-41"><a href="#cb61-41" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb61-42"><a href="#cb61-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-43"><a href="#cb61-43" aria-hidden="true" tabindex="-1"></a>week_8_directory <span class="ot">&lt;-</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/FlowTracker/FlowTrackerFiles/TAMEflow/Week8"</span></span>
<span id="cb61-44"><a href="#cb61-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-45"><a href="#cb61-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Find all files in the week 8 directory</span></span>
<span id="cb61-46"><a href="#cb61-46" aria-hidden="true" tabindex="-1"></a>week_8_files <span class="ot">&lt;-</span> <span class="fu">find_files</span>(week_8_directory)</span>
<span id="cb61-47"><a href="#cb61-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-48"><a href="#cb61-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the result dataframe with the correct data types</span></span>
<span id="cb61-49"><a href="#cb61-49" aria-hidden="true" tabindex="-1"></a>flow_tracker_8 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb61-50"><a href="#cb61-50" aria-hidden="true" tabindex="-1"></a>  <span class="at">localEndTime =</span> <span class="fu">character</span>(),</span>
<span id="cb61-51"><a href="#cb61-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">river =</span> <span class="fu">character</span>(),</span>
<span id="cb61-52"><a href="#cb61-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">totalDischarge =</span> <span class="fu">numeric</span>(),  <span class="co"># Initialize as numeric</span></span>
<span id="cb61-53"><a href="#cb61-53" aria-hidden="true" tabindex="-1"></a>  <span class="co">#meanTemp = numeric(),  # Initialize as numeric</span></span>
<span id="cb61-54"><a href="#cb61-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb61-55"><a href="#cb61-55" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb61-56"><a href="#cb61-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-57"><a href="#cb61-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through all files and extract values</span></span>
<span id="cb61-58"><a href="#cb61-58" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (file <span class="cf">in</span> week_8_files) {</span>
<span id="cb61-59"><a href="#cb61-59" aria-hidden="true" tabindex="-1"></a>  file_data <span class="ot">&lt;-</span> <span class="fu">extract_values</span>(file)</span>
<span id="cb61-60"><a href="#cb61-60" aria-hidden="true" tabindex="-1"></a>  flow_tracker_8 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(flow_tracker_8, file_data)</span>
<span id="cb61-61"><a href="#cb61-61" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb61-62"><a href="#cb61-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-63"><a href="#cb61-63" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardize site names</span></span>
<span id="cb61-64"><a href="#cb61-64" aria-hidden="true" tabindex="-1"></a>flow_tracker_8 <span class="ot">&lt;-</span> flow_tracker_8 <span class="sc">%&gt;%</span></span>
<span id="cb61-65"><a href="#cb61-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"buff"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"BUFFAM"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb61-66"><a href="#cb61-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"dryu"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"DRY UPPER"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb61-67"><a href="#cb61-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"harr"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"HARRIS"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb61-68"><a href="#cb61-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"undh"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"UNDERHILL"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb61-69"><a href="#cb61-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"dcky"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"DICKEY"</span>, river))</span>
<span id="cb61-70"><a href="#cb61-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-71"><a href="#cb61-71" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################################################</span></span>
<span id="cb61-72"><a href="#cb61-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-73"><a href="#cb61-73" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove rows with repeating Total_Discharge values</span></span>
<span id="cb61-74"><a href="#cb61-74" aria-hidden="true" tabindex="-1"></a>flow_tracker_8 <span class="ot">&lt;-</span> flow_tracker_8 <span class="sc">%&gt;%</span> </span>
<span id="cb61-75"><a href="#cb61-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(localEndTime, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb61-76"><a href="#cb61-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-77"><a href="#cb61-77" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################################################</span></span>
<span id="cb61-78"><a href="#cb61-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-79"><a href="#cb61-79" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb61-80"><a href="#cb61-80" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flow_tracker_8)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         localEndTime     river totalDischarge
1 2024-07-31 04:44:54    BUFFAM           0.54
2 2024-07-31 13:43:07    BUFFAM           0.02
3 2024-07-30 04:50:14    DICKEY           1.13
4 2024-07-30 13:49:04    DICKEY           0.99
5 2024-08-02 04:30:04 DRY UPPER           0.14
6 2024-08-02 16:15:02 DRY UPPER           0.09</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write the final CSV file</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flow_tracker_8, </span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_8.csv"</span>, </span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a function to search for files</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>find_files <span class="ot">&lt;-</span> <span class="cf">function</span>(week_9_directory) {</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  week_9_files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> week_9_directory, <span class="at">recursive =</span> <span class="cn">TRUE</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(week_9_files)</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to extract the required values from a single file and convert only Fahrenheit (°F) to Celsius</span></span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>extract_values <span class="ot">&lt;-</span> <span class="cf">function</span>(file_path) {</span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read the csv file</span></span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(file_path, <span class="at">header =</span> <span class="cn">FALSE</span>, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Column1"</span>, <span class="st">"Column2"</span>, <span class="st">"Column3"</span>)</span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract values</span></span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true" tabindex="-1"></a>  local_end_time <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Local_End_Time"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb64-16"><a href="#cb64-16" aria-hidden="true" tabindex="-1"></a>  site_name <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Site_Name"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb64-17"><a href="#cb64-17" aria-hidden="true" tabindex="-1"></a>  total_discharge <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Total_Discharge"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb64-18"><a href="#cb64-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb64-19"><a href="#cb64-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract the temperature value and unit</span></span>
<span id="cb64-20"><a href="#cb64-20" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mean_temp_value &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb64-21"><a href="#cb64-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">#temp_unit &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column2) %&gt;% pull()</span></span>
<span id="cb64-22"><a href="#cb64-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-23"><a href="#cb64-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert only if the unit is Fahrenheit ("°F")</span></span>
<span id="cb64-24"><a href="#cb64-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">#if (temp_unit == "°F") {</span></span>
<span id="cb64-25"><a href="#cb64-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mean_temp_value &lt;- (as.numeric(mean_temp_value) - 32) * 5 / 9</span></span>
<span id="cb64-26"><a href="#cb64-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">#} else {</span></span>
<span id="cb64-27"><a href="#cb64-27" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mean_temp_value &lt;- as.numeric(mean_temp_value)  # Ensure it's numeric for Celsius values or NA</span></span>
<span id="cb64-28"><a href="#cb64-28" aria-hidden="true" tabindex="-1"></a>  <span class="co">#}</span></span>
<span id="cb64-29"><a href="#cb64-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb64-30"><a href="#cb64-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Round values to 2 decimal places</span></span>
<span id="cb64-31"><a href="#cb64-31" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mean_temp_value &lt;- round(mean_temp_value, 2)</span></span>
<span id="cb64-32"><a href="#cb64-32" aria-hidden="true" tabindex="-1"></a>  total_discharge <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">as.numeric</span>(total_discharge), <span class="dv">2</span>)</span>
<span id="cb64-33"><a href="#cb64-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb64-34"><a href="#cb64-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb64-35"><a href="#cb64-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">localEndTime =</span> local_end_time,</span>
<span id="cb64-36"><a href="#cb64-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> site_name,</span>
<span id="cb64-37"><a href="#cb64-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">totalDischarge =</span> <span class="fu">as.numeric</span>(total_discharge),  <span class="co"># Ensure numeric type</span></span>
<span id="cb64-38"><a href="#cb64-38" aria-hidden="true" tabindex="-1"></a>    <span class="co">#meanTemp = mean_temp_value,  # Already handled as numeric</span></span>
<span id="cb64-39"><a href="#cb64-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb64-40"><a href="#cb64-40" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb64-41"><a href="#cb64-41" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb64-42"><a href="#cb64-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-43"><a href="#cb64-43" aria-hidden="true" tabindex="-1"></a>week_9_directory <span class="ot">&lt;-</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/FlowTracker/FlowTrackerFiles/TAMEflow/Week9"</span></span>
<span id="cb64-44"><a href="#cb64-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-45"><a href="#cb64-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Find all files in the week 9 directory</span></span>
<span id="cb64-46"><a href="#cb64-46" aria-hidden="true" tabindex="-1"></a>week_9_files <span class="ot">&lt;-</span> <span class="fu">find_files</span>(week_9_directory)</span>
<span id="cb64-47"><a href="#cb64-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-48"><a href="#cb64-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the result dataframe with the correct data types</span></span>
<span id="cb64-49"><a href="#cb64-49" aria-hidden="true" tabindex="-1"></a>flow_tracker_9 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb64-50"><a href="#cb64-50" aria-hidden="true" tabindex="-1"></a>  <span class="at">localEndTime =</span> <span class="fu">character</span>(),</span>
<span id="cb64-51"><a href="#cb64-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">river =</span> <span class="fu">character</span>(),</span>
<span id="cb64-52"><a href="#cb64-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">totalDischarge =</span> <span class="fu">numeric</span>(),  <span class="co"># Initialize as numeric</span></span>
<span id="cb64-53"><a href="#cb64-53" aria-hidden="true" tabindex="-1"></a>  <span class="co">#meanTemp = numeric(),  # Initialize as numeric</span></span>
<span id="cb64-54"><a href="#cb64-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb64-55"><a href="#cb64-55" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb64-56"><a href="#cb64-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-57"><a href="#cb64-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through all files and extract values</span></span>
<span id="cb64-58"><a href="#cb64-58" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (file <span class="cf">in</span> week_9_files) {</span>
<span id="cb64-59"><a href="#cb64-59" aria-hidden="true" tabindex="-1"></a>  file_data <span class="ot">&lt;-</span> <span class="fu">extract_values</span>(file)</span>
<span id="cb64-60"><a href="#cb64-60" aria-hidden="true" tabindex="-1"></a>  flow_tracker_9 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(flow_tracker_9, file_data)</span>
<span id="cb64-61"><a href="#cb64-61" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb64-62"><a href="#cb64-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-63"><a href="#cb64-63" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardize site names</span></span>
<span id="cb64-64"><a href="#cb64-64" aria-hidden="true" tabindex="-1"></a>flow_tracker_9 <span class="ot">&lt;-</span> flow_tracker_9 <span class="sc">%&gt;%</span></span>
<span id="cb64-65"><a href="#cb64-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"buff"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"BUFFAM"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb64-66"><a href="#cb64-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"dryu"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"DRY UPPER"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb64-67"><a href="#cb64-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"harr"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"HARRIS"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb64-68"><a href="#cb64-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"undh"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"UNDERHILL"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb64-69"><a href="#cb64-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"dcky"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"DICKEY"</span>, river))</span>
<span id="cb64-70"><a href="#cb64-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-71"><a href="#cb64-71" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################################################</span></span>
<span id="cb64-72"><a href="#cb64-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-73"><a href="#cb64-73" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove rows with repeating Total_Discharge values</span></span>
<span id="cb64-74"><a href="#cb64-74" aria-hidden="true" tabindex="-1"></a>flow_tracker_9 <span class="ot">&lt;-</span> flow_tracker_9 <span class="sc">%&gt;%</span> </span>
<span id="cb64-75"><a href="#cb64-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(localEndTime, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb64-76"><a href="#cb64-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-77"><a href="#cb64-77" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################################################</span></span>
<span id="cb64-78"><a href="#cb64-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-79"><a href="#cb64-79" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb64-80"><a href="#cb64-80" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flow_tracker_9)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         localEndTime     river totalDischarge
1 2024-08-08 08:25:54    BUFFAM           0.06
2 2024-08-08 17:48:04    BUFFAM          -2.36
3 2024-08-09 10:56:13    DICKEY           0.14
4 2024-08-07 08:20:43 DRY UPPER           0.25
5 2024-08-07 20:19:58 DRY UPPER          -0.09
6 2024-08-08 09:31:11    HARRIS           5.79</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write the final CSV file</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flow_tracker_9, </span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_9.csv"</span>, </span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a function to search for files</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>find_files <span class="ot">&lt;-</span> <span class="cf">function</span>(week_10_directory) {</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  week_10_files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> week_10_directory, <span class="at">recursive =</span> <span class="cn">TRUE</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(week_10_files)</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to extract the required values from a single file and convert only Fahrenheit (°F) to Celsius</span></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>extract_values <span class="ot">&lt;-</span> <span class="cf">function</span>(file_path) {</span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read the csv file</span></span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(file_path, <span class="at">header =</span> <span class="cn">FALSE</span>, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Column1"</span>, <span class="st">"Column2"</span>, <span class="st">"Column3"</span>)</span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract values</span></span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a>  local_end_time <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Local_End_Time"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a>  site_name <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Site_Name"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a>  total_discharge <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Total_Discharge"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb67-18"><a href="#cb67-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb67-19"><a href="#cb67-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract the temperature value and unit</span></span>
<span id="cb67-20"><a href="#cb67-20" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mean_temp_value &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb67-21"><a href="#cb67-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">#temp_unit &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column2) %&gt;% pull()</span></span>
<span id="cb67-22"><a href="#cb67-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-23"><a href="#cb67-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert only if the unit is Fahrenheit ("°F")</span></span>
<span id="cb67-24"><a href="#cb67-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">#if (temp_unit == "°F") {</span></span>
<span id="cb67-25"><a href="#cb67-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mean_temp_value &lt;- (as.numeric(mean_temp_value) - 32) * 5 / 9</span></span>
<span id="cb67-26"><a href="#cb67-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">#} else {</span></span>
<span id="cb67-27"><a href="#cb67-27" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mean_temp_value &lt;- as.numeric(mean_temp_value)  # Ensure it's numeric for Celsius values or NA</span></span>
<span id="cb67-28"><a href="#cb67-28" aria-hidden="true" tabindex="-1"></a>  <span class="co">#}</span></span>
<span id="cb67-29"><a href="#cb67-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb67-30"><a href="#cb67-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Round values to 2 decimal places</span></span>
<span id="cb67-31"><a href="#cb67-31" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mean_temp_value &lt;- round(mean_temp_value, 2)</span></span>
<span id="cb67-32"><a href="#cb67-32" aria-hidden="true" tabindex="-1"></a>  total_discharge <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">as.numeric</span>(total_discharge), <span class="dv">2</span>)</span>
<span id="cb67-33"><a href="#cb67-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb67-34"><a href="#cb67-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb67-35"><a href="#cb67-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">localEndTime =</span> local_end_time,</span>
<span id="cb67-36"><a href="#cb67-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> site_name,</span>
<span id="cb67-37"><a href="#cb67-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">totalDischarge =</span> <span class="fu">as.numeric</span>(total_discharge),  <span class="co"># Ensure numeric type</span></span>
<span id="cb67-38"><a href="#cb67-38" aria-hidden="true" tabindex="-1"></a>    <span class="co">#meanTemp = mean_temp_value,  # Already handled as numeric</span></span>
<span id="cb67-39"><a href="#cb67-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb67-40"><a href="#cb67-40" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb67-41"><a href="#cb67-41" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb67-42"><a href="#cb67-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-43"><a href="#cb67-43" aria-hidden="true" tabindex="-1"></a>week_10_directory <span class="ot">&lt;-</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/FlowTracker/FlowTrackerFiles/TAMEflow/Week10"</span></span>
<span id="cb67-44"><a href="#cb67-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-45"><a href="#cb67-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Find all files in the week 10 directory</span></span>
<span id="cb67-46"><a href="#cb67-46" aria-hidden="true" tabindex="-1"></a>week_10_files <span class="ot">&lt;-</span> <span class="fu">find_files</span>(week_10_directory)</span>
<span id="cb67-47"><a href="#cb67-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-48"><a href="#cb67-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the result dataframe with the correct data types</span></span>
<span id="cb67-49"><a href="#cb67-49" aria-hidden="true" tabindex="-1"></a>flow_tracker_10 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb67-50"><a href="#cb67-50" aria-hidden="true" tabindex="-1"></a>  <span class="at">localEndTime =</span> <span class="fu">character</span>(),</span>
<span id="cb67-51"><a href="#cb67-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">river =</span> <span class="fu">character</span>(),</span>
<span id="cb67-52"><a href="#cb67-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">totalDischarge =</span> <span class="fu">numeric</span>(),  <span class="co"># Initialize as numeric</span></span>
<span id="cb67-53"><a href="#cb67-53" aria-hidden="true" tabindex="-1"></a>  <span class="co">#meanTemp = numeric(),  # Initialize as numeric</span></span>
<span id="cb67-54"><a href="#cb67-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb67-55"><a href="#cb67-55" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb67-56"><a href="#cb67-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-57"><a href="#cb67-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through all files and extract values</span></span>
<span id="cb67-58"><a href="#cb67-58" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (file <span class="cf">in</span> week_10_files) {</span>
<span id="cb67-59"><a href="#cb67-59" aria-hidden="true" tabindex="-1"></a>  file_data <span class="ot">&lt;-</span> <span class="fu">extract_values</span>(file)</span>
<span id="cb67-60"><a href="#cb67-60" aria-hidden="true" tabindex="-1"></a>  flow_tracker_10 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(flow_tracker_10, file_data)</span>
<span id="cb67-61"><a href="#cb67-61" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb67-62"><a href="#cb67-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-63"><a href="#cb67-63" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardize site names</span></span>
<span id="cb67-64"><a href="#cb67-64" aria-hidden="true" tabindex="-1"></a>flow_tracker_10 <span class="ot">&lt;-</span> flow_tracker_10 <span class="sc">%&gt;%</span></span>
<span id="cb67-65"><a href="#cb67-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"buff"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"BUFFAM"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb67-66"><a href="#cb67-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"dryu"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"DRY UPPER"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb67-67"><a href="#cb67-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"harr"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"HARRIS"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb67-68"><a href="#cb67-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"undh"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"UNDERHILL"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb67-69"><a href="#cb67-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"dcky"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"DICKEY"</span>, river))</span>
<span id="cb67-70"><a href="#cb67-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-71"><a href="#cb67-71" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################################################</span></span>
<span id="cb67-72"><a href="#cb67-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-73"><a href="#cb67-73" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove rows with repeating Total_Discharge values</span></span>
<span id="cb67-74"><a href="#cb67-74" aria-hidden="true" tabindex="-1"></a>flow_tracker_10 <span class="ot">&lt;-</span> flow_tracker_10 <span class="sc">%&gt;%</span> </span>
<span id="cb67-75"><a href="#cb67-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(localEndTime, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb67-76"><a href="#cb67-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-77"><a href="#cb67-77" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################################################</span></span>
<span id="cb67-78"><a href="#cb67-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-79"><a href="#cb67-79" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb67-80"><a href="#cb67-80" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flow_tracker_10)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         localEndTime     river totalDischarge
1 2024-08-13 04:57:46    BUFFAM           1.22
2 2024-08-13 18:18:44    BUFFAM           0.95
3 2024-08-15 05:32:32    DICKEY           1.69
4 2024-08-15 15:12:35    DICKEY           1.40
5 2024-08-16 05:22:45 DRY UPPER           0.15
6 2024-08-16 14:38:49 DRY UPPER           0.08</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write the final CSV file</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flow_tracker_10, </span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_10.csv"</span>, </span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a function to search for files</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>find_files <span class="ot">&lt;-</span> <span class="cf">function</span>(week_11_directory) {</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>  week_11_files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> week_11_directory, <span class="at">recursive =</span> <span class="cn">TRUE</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(week_11_files)</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to extract the required values from a single file and convert only Fahrenheit (°F) to Celsius</span></span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>extract_values <span class="ot">&lt;-</span> <span class="cf">function</span>(file_path) {</span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read the csv file</span></span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(file_path, <span class="at">header =</span> <span class="cn">FALSE</span>, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Column1"</span>, <span class="st">"Column2"</span>, <span class="st">"Column3"</span>)</span>
<span id="cb70-13"><a href="#cb70-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb70-14"><a href="#cb70-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract values</span></span>
<span id="cb70-15"><a href="#cb70-15" aria-hidden="true" tabindex="-1"></a>  local_end_time <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Local_End_Time"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb70-16"><a href="#cb70-16" aria-hidden="true" tabindex="-1"></a>  site_name <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Site_Name"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb70-17"><a href="#cb70-17" aria-hidden="true" tabindex="-1"></a>  total_discharge <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Total_Discharge"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb70-18"><a href="#cb70-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb70-19"><a href="#cb70-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract the temperature value and unit</span></span>
<span id="cb70-20"><a href="#cb70-20" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mean_temp_value &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb70-21"><a href="#cb70-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">#temp_unit &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column2) %&gt;% pull()</span></span>
<span id="cb70-22"><a href="#cb70-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-23"><a href="#cb70-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert only if the unit is Fahrenheit ("°F")</span></span>
<span id="cb70-24"><a href="#cb70-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">#if (temp_unit == "°F") {</span></span>
<span id="cb70-25"><a href="#cb70-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mean_temp_value &lt;- (as.numeric(mean_temp_value) - 32) * 5 / 9</span></span>
<span id="cb70-26"><a href="#cb70-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">#} else {</span></span>
<span id="cb70-27"><a href="#cb70-27" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mean_temp_value &lt;- as.numeric(mean_temp_value)  # Ensure it's numeric for Celsius values or NA</span></span>
<span id="cb70-28"><a href="#cb70-28" aria-hidden="true" tabindex="-1"></a>  <span class="co">#}</span></span>
<span id="cb70-29"><a href="#cb70-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb70-30"><a href="#cb70-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Round values to 2 decimal places</span></span>
<span id="cb70-31"><a href="#cb70-31" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mean_temp_value &lt;- round(mean_temp_value, 2)</span></span>
<span id="cb70-32"><a href="#cb70-32" aria-hidden="true" tabindex="-1"></a>  total_discharge <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">as.numeric</span>(total_discharge), <span class="dv">2</span>)</span>
<span id="cb70-33"><a href="#cb70-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb70-34"><a href="#cb70-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb70-35"><a href="#cb70-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">localEndTime =</span> local_end_time,</span>
<span id="cb70-36"><a href="#cb70-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> site_name,</span>
<span id="cb70-37"><a href="#cb70-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">totalDischarge =</span> <span class="fu">as.numeric</span>(total_discharge),  <span class="co"># Ensure numeric type</span></span>
<span id="cb70-38"><a href="#cb70-38" aria-hidden="true" tabindex="-1"></a>    <span class="co">#meanTemp = mean_temp_value,  # Already handled as numeric</span></span>
<span id="cb70-39"><a href="#cb70-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb70-40"><a href="#cb70-40" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb70-41"><a href="#cb70-41" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb70-42"><a href="#cb70-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-43"><a href="#cb70-43" aria-hidden="true" tabindex="-1"></a>week_11_directory <span class="ot">&lt;-</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/FlowTracker/FlowTrackerFiles/TAMEflow/Week11"</span></span>
<span id="cb70-44"><a href="#cb70-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-45"><a href="#cb70-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Find all files in the week 11 directory</span></span>
<span id="cb70-46"><a href="#cb70-46" aria-hidden="true" tabindex="-1"></a>week_11_files <span class="ot">&lt;-</span> <span class="fu">find_files</span>(week_11_directory)</span>
<span id="cb70-47"><a href="#cb70-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-48"><a href="#cb70-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the result dataframe with the correct data types</span></span>
<span id="cb70-49"><a href="#cb70-49" aria-hidden="true" tabindex="-1"></a>flow_tracker_11 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb70-50"><a href="#cb70-50" aria-hidden="true" tabindex="-1"></a>  <span class="at">localEndTime =</span> <span class="fu">character</span>(),</span>
<span id="cb70-51"><a href="#cb70-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">river =</span> <span class="fu">character</span>(),</span>
<span id="cb70-52"><a href="#cb70-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">totalDischarge =</span> <span class="fu">numeric</span>(),  <span class="co"># Initialize as numeric</span></span>
<span id="cb70-53"><a href="#cb70-53" aria-hidden="true" tabindex="-1"></a>  <span class="co">#meanTemp = numeric(),  # Initialize as numeric</span></span>
<span id="cb70-54"><a href="#cb70-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb70-55"><a href="#cb70-55" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb70-56"><a href="#cb70-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-57"><a href="#cb70-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through all files and extract values</span></span>
<span id="cb70-58"><a href="#cb70-58" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (file <span class="cf">in</span> week_11_files) {</span>
<span id="cb70-59"><a href="#cb70-59" aria-hidden="true" tabindex="-1"></a>  file_data <span class="ot">&lt;-</span> <span class="fu">extract_values</span>(file)</span>
<span id="cb70-60"><a href="#cb70-60" aria-hidden="true" tabindex="-1"></a>  flow_tracker_11 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(flow_tracker_11, file_data)</span>
<span id="cb70-61"><a href="#cb70-61" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb70-62"><a href="#cb70-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-63"><a href="#cb70-63" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardize site names</span></span>
<span id="cb70-64"><a href="#cb70-64" aria-hidden="true" tabindex="-1"></a>flow_tracker_11 <span class="ot">&lt;-</span> flow_tracker_11 <span class="sc">%&gt;%</span></span>
<span id="cb70-65"><a href="#cb70-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"buff"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"BUFFAM"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb70-66"><a href="#cb70-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"dryu"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"DRY UPPER"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb70-67"><a href="#cb70-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"harr"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"HARRIS"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb70-68"><a href="#cb70-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"undh"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"UNDERHILL"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb70-69"><a href="#cb70-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"dcky"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"DICKEY"</span>, river))</span>
<span id="cb70-70"><a href="#cb70-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-71"><a href="#cb70-71" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################################################</span></span>
<span id="cb70-72"><a href="#cb70-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-73"><a href="#cb70-73" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove rows with repeating Total_Discharge values</span></span>
<span id="cb70-74"><a href="#cb70-74" aria-hidden="true" tabindex="-1"></a>flow_tracker_11 <span class="ot">&lt;-</span> flow_tracker_11 <span class="sc">%&gt;%</span> </span>
<span id="cb70-75"><a href="#cb70-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(localEndTime, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb70-76"><a href="#cb70-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-77"><a href="#cb70-77" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################################################</span></span>
<span id="cb70-78"><a href="#cb70-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-79"><a href="#cb70-79" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb70-80"><a href="#cb70-80" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flow_tracker_11)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         localEndTime     river totalDischarge
1 2024-08-20 11:41:46    BUFFAM           3.53
2 2024-08-23 13:38:55    BUFFAM           0.82
3 2024-08-22 09:12:22       DRY           3.65
4 2024-08-20 09:56:27    HARRIS          13.48
5 2024-08-23 13:17:11    HARRIS           3.87
6 2024-08-21 09:25:52 UNDERHILL           1.21</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write the final CSV file</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flow_tracker_11, </span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_11.csv"</span>,</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a function to search for files</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>find_files <span class="ot">&lt;-</span> <span class="cf">function</span>(week_12_directory) {</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  week_12_files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> week_12_directory, <span class="at">recursive =</span> <span class="cn">TRUE</span>, <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(week_12_files)</span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to extract the required values from a single file and convert only Fahrenheit (°F) to Celsius</span></span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>extract_values <span class="ot">&lt;-</span> <span class="cf">function</span>(file_path) {</span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read the csv file</span></span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(file_path, <span class="at">header =</span> <span class="cn">FALSE</span>, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(df) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Column1"</span>, <span class="st">"Column2"</span>, <span class="st">"Column3"</span>)</span>
<span id="cb73-13"><a href="#cb73-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb73-14"><a href="#cb73-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract values</span></span>
<span id="cb73-15"><a href="#cb73-15" aria-hidden="true" tabindex="-1"></a>  local_end_time <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Local_End_Time"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb73-16"><a href="#cb73-16" aria-hidden="true" tabindex="-1"></a>  site_name <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Site_Name"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb73-17"><a href="#cb73-17" aria-hidden="true" tabindex="-1"></a>  total_discharge <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Column1 <span class="sc">==</span> <span class="st">"Total_Discharge"</span>) <span class="sc">%&gt;%</span> <span class="fu">select</span>(Column3) <span class="sc">%&gt;%</span> <span class="fu">pull</span>()</span>
<span id="cb73-18"><a href="#cb73-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb73-19"><a href="#cb73-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract the temperature value and unit</span></span>
<span id="cb73-20"><a href="#cb73-20" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mean_temp_value &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb73-21"><a href="#cb73-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">#temp_unit &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column2) %&gt;% pull()</span></span>
<span id="cb73-22"><a href="#cb73-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-23"><a href="#cb73-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert only if the unit is Fahrenheit ("°F")</span></span>
<span id="cb73-24"><a href="#cb73-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">#if (temp_unit == "°F") {</span></span>
<span id="cb73-25"><a href="#cb73-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mean_temp_value &lt;- (as.numeric(mean_temp_value) - 32) * 5 / 9</span></span>
<span id="cb73-26"><a href="#cb73-26" aria-hidden="true" tabindex="-1"></a>  <span class="co">#} else {</span></span>
<span id="cb73-27"><a href="#cb73-27" aria-hidden="true" tabindex="-1"></a>    <span class="co">#mean_temp_value &lt;- as.numeric(mean_temp_value)  # Ensure it's numeric for Celsius values or NA</span></span>
<span id="cb73-28"><a href="#cb73-28" aria-hidden="true" tabindex="-1"></a>  <span class="co">#}</span></span>
<span id="cb73-29"><a href="#cb73-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb73-30"><a href="#cb73-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Round values to 2 decimal places</span></span>
<span id="cb73-31"><a href="#cb73-31" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mean_temp_value &lt;- round(mean_temp_value, 2)</span></span>
<span id="cb73-32"><a href="#cb73-32" aria-hidden="true" tabindex="-1"></a>  total_discharge <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">as.numeric</span>(total_discharge), <span class="dv">2</span>)</span>
<span id="cb73-33"><a href="#cb73-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb73-34"><a href="#cb73-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb73-35"><a href="#cb73-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">localEndTime =</span> local_end_time,</span>
<span id="cb73-36"><a href="#cb73-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> site_name,</span>
<span id="cb73-37"><a href="#cb73-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">totalDischarge =</span> <span class="fu">as.numeric</span>(total_discharge),  <span class="co"># Ensure numeric type</span></span>
<span id="cb73-38"><a href="#cb73-38" aria-hidden="true" tabindex="-1"></a>    <span class="co">#meanTemp = mean_temp_value,  # Already handled as numeric</span></span>
<span id="cb73-39"><a href="#cb73-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb73-40"><a href="#cb73-40" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb73-41"><a href="#cb73-41" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb73-42"><a href="#cb73-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-43"><a href="#cb73-43" aria-hidden="true" tabindex="-1"></a>week_12_directory <span class="ot">&lt;-</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/FlowTracker/FlowTrackerFiles/TAMEflow/Week12"</span></span>
<span id="cb73-44"><a href="#cb73-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-45"><a href="#cb73-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Find all files in the week 12 directory</span></span>
<span id="cb73-46"><a href="#cb73-46" aria-hidden="true" tabindex="-1"></a>week_12_files <span class="ot">&lt;-</span> <span class="fu">find_files</span>(week_12_directory)</span>
<span id="cb73-47"><a href="#cb73-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-48"><a href="#cb73-48" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize the result dataframe with the correct data types</span></span>
<span id="cb73-49"><a href="#cb73-49" aria-hidden="true" tabindex="-1"></a>flow_tracker_12 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb73-50"><a href="#cb73-50" aria-hidden="true" tabindex="-1"></a>  <span class="at">localEndTime =</span> <span class="fu">character</span>(),</span>
<span id="cb73-51"><a href="#cb73-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">river =</span> <span class="fu">character</span>(),</span>
<span id="cb73-52"><a href="#cb73-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">totalDischarge =</span> <span class="fu">numeric</span>(),  <span class="co"># Initialize as numeric</span></span>
<span id="cb73-53"><a href="#cb73-53" aria-hidden="true" tabindex="-1"></a>  <span class="co">#meanTemp = numeric(),  # Initialize as numeric</span></span>
<span id="cb73-54"><a href="#cb73-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb73-55"><a href="#cb73-55" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb73-56"><a href="#cb73-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-57"><a href="#cb73-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through all files and extract values</span></span>
<span id="cb73-58"><a href="#cb73-58" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (file <span class="cf">in</span> week_12_files) {</span>
<span id="cb73-59"><a href="#cb73-59" aria-hidden="true" tabindex="-1"></a>  file_data <span class="ot">&lt;-</span> <span class="fu">extract_values</span>(file)</span>
<span id="cb73-60"><a href="#cb73-60" aria-hidden="true" tabindex="-1"></a>  flow_tracker_12 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(flow_tracker_12, file_data)</span>
<span id="cb73-61"><a href="#cb73-61" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb73-62"><a href="#cb73-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-63"><a href="#cb73-63" aria-hidden="true" tabindex="-1"></a><span class="co"># Standardize site names</span></span>
<span id="cb73-64"><a href="#cb73-64" aria-hidden="true" tabindex="-1"></a>flow_tracker_12 <span class="ot">&lt;-</span> flow_tracker_12 <span class="sc">%&gt;%</span></span>
<span id="cb73-65"><a href="#cb73-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"buff"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"BUFFAM"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb73-66"><a href="#cb73-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"dryu"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"DRY UPPER"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb73-67"><a href="#cb73-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"harr"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"HARRIS"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb73-68"><a href="#cb73-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"undh"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"UNDERHILL"</span>, river)) <span class="sc">%&gt;%</span></span>
<span id="cb73-69"><a href="#cb73-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">ifelse</span>(<span class="fu">grepl</span>(<span class="st">"dcky"</span>, river, <span class="at">ignore.case =</span> <span class="cn">TRUE</span>), <span class="st">"DICKEY"</span>, river))</span>
<span id="cb73-70"><a href="#cb73-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-71"><a href="#cb73-71" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################################################</span></span>
<span id="cb73-72"><a href="#cb73-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-73"><a href="#cb73-73" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove rows with repeating Total_Discharge values</span></span>
<span id="cb73-74"><a href="#cb73-74" aria-hidden="true" tabindex="-1"></a>flow_tracker_12 <span class="ot">&lt;-</span> flow_tracker_12 <span class="sc">%&gt;%</span> </span>
<span id="cb73-75"><a href="#cb73-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(localEndTime, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb73-76"><a href="#cb73-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-77"><a href="#cb73-77" aria-hidden="true" tabindex="-1"></a><span class="do">#####################################################################################</span></span>
<span id="cb73-78"><a href="#cb73-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-79"><a href="#cb73-79" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb73-80"><a href="#cb73-80" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flow_tracker_12)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         localEndTime     river totalDischarge
1 2024-08-29 10:21:54    DICKEY           0.03
2 2024-08-27 10:16:23 UNDERHILL           0.03</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write the final CSV file</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flow_tracker_12, </span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_12.csv"</span>, </span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="preparing-flow-tracker-files" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="preparing-flow-tracker-files"><span class="header-section-number">2.4</span> Preparing Flow Tracker Files</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the flow data</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>flow_tracker_1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_1.csv"</span>)</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the localEndTime column into a DateTime column</span></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>flow_tracker_1<span class="sc">$</span>dateTime_EDT <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(flow_tracker_1<span class="sc">$</span>localEndTime, </span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">format =</span> <span class="st">"%Y-%m-%d %H:%M:%S"</span>,</span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">tz =</span> <span class="st">"America/New_York"</span>)</span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Force the DateTime column from EDT to EST</span></span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a>flow_tracker_1<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">format</span>(flow_tracker_1<span class="sc">$</span>dateTime_EDT, </span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a>                                                  <span class="at">tz =</span> <span class="st">"EST"</span>, </span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a>                                                  <span class="at">usetz =</span> <span class="cn">TRUE</span>), </span>
<span id="cb76-13"><a href="#cb76-13" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb76-14"><a href="#cb76-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-15"><a href="#cb76-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb76-16"><a href="#cb76-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 5:00 EST to 11:00 EST</span></span>
<span id="cb76-17"><a href="#cb76-17" aria-hidden="true" tabindex="-1"></a>flow_tracker_1 <span class="ot">&lt;-</span> flow_tracker_1 <span class="sc">%&gt;%</span></span>
<span id="cb76-18"><a href="#cb76-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb76-19"><a href="#cb76-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb76-20"><a href="#cb76-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">12</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb76-21"><a href="#cb76-21" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb76-22"><a href="#cb76-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb76-23"><a href="#cb76-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb76-24"><a href="#cb76-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-25"><a href="#cb76-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Create rows representing Amethyst brook discharge and temperature by combining Buffam and Harris measurements per shift</span></span>
<span id="cb76-26"><a href="#cb76-26" aria-hidden="true" tabindex="-1"></a>amethyst_combined <span class="ot">&lt;-</span> flow_tracker_1 <span class="sc">%&gt;%</span></span>
<span id="cb76-27"><a href="#cb76-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(river <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BUFFAM"</span>, <span class="st">"HARRIS"</span>)) <span class="sc">%&gt;%</span>   <span class="co"># Filter BUFFAM and HARRIS</span></span>
<span id="cb76-28"><a href="#cb76-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(shift) <span class="sc">%&gt;%</span>                            <span class="co"># Group by shift (day/night)</span></span>
<span id="cb76-29"><a href="#cb76-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb76-30"><a href="#cb76-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> <span class="st">"AMETHYST"</span>,                          <span class="co"># Set river to AMETHYST</span></span>
<span id="cb76-31"><a href="#cb76-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">totalDischarge =</span> <span class="fu">sum</span>(totalDischarge, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="co">#, # Sum totalDischarge</span></span>
<span id="cb76-32"><a href="#cb76-32" aria-hidden="true" tabindex="-1"></a>    <span class="co">#meanTemp = mean(meanTemp, na.rm = TRUE)      # Average meanTemp</span></span>
<span id="cb76-33"><a href="#cb76-33" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb76-34"><a href="#cb76-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-35"><a href="#cb76-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Bind the AMETHYST rows to the original dataset</span></span>
<span id="cb76-36"><a href="#cb76-36" aria-hidden="true" tabindex="-1"></a>flow_tracker_1 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(flow_tracker_1, amethyst_combined)</span>
<span id="cb76-37"><a href="#cb76-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-38"><a href="#cb76-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb76-39"><a href="#cb76-39" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flow_tracker_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         localEndTime     river totalDischarge        dateTime_EDT
1 2024-06-11 09:32:26    BUFFAM           1.49 2024-06-11 09:32:26
2 2024-06-11 21:26:53    BUFFAM           0.02 2024-06-11 21:26:53
3 2024-06-13 19:59:00    DICKEY           1.35 2024-06-13 19:59:00
4 2024-06-14 09:57:28 DRY UPPER           0.02 2024-06-14 09:57:28
5 2024-06-14 19:21:39 DRY UPPER           0.65 2024-06-14 19:21:39
6 2024-06-11 10:42:47    HARRIS           0.07 2024-06-11 10:42:47
         dateTime_EST shift
1 2024-06-11 08:32:26   day
2 2024-06-11 20:26:53 night
3 2024-06-13 18:59:00 night
4 2024-06-14 08:57:28   day
5 2024-06-14 18:21:39 night
6 2024-06-11 09:42:47   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new flow csv</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flow_tracker_1, </span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_1.csv"</span>, </span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the flow data</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>flow_tracker_2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_2.csv"</span>)</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the localEndTime column into a DateTime column</span></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>flow_tracker_2<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(flow_tracker_2<span class="sc">$</span>localEndTime, </span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">format =</span> <span class="st">"%Y-%m-%d %H:%M:%S"</span>,</span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 11:00 EST to 17:00 EST</span></span>
<span id="cb79-11"><a href="#cb79-11" aria-hidden="true" tabindex="-1"></a>flow_tracker_2 <span class="ot">&lt;-</span> flow_tracker_2 <span class="sc">%&gt;%</span></span>
<span id="cb79-12"><a href="#cb79-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb79-13"><a href="#cb79-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb79-14"><a href="#cb79-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">10</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">18</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb79-15"><a href="#cb79-15" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb79-16"><a href="#cb79-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb79-17"><a href="#cb79-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb79-18"><a href="#cb79-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-19"><a href="#cb79-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create rows representing Amethyst brook discharge and temperature by combining Buffam and Harris measurements per shift</span></span>
<span id="cb79-20"><a href="#cb79-20" aria-hidden="true" tabindex="-1"></a>amethyst_combined <span class="ot">&lt;-</span> flow_tracker_2 <span class="sc">%&gt;%</span></span>
<span id="cb79-21"><a href="#cb79-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(river <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BUFFAM"</span>, <span class="st">"HARRIS"</span>)) <span class="sc">%&gt;%</span>   <span class="co"># Filter BUFFAM and HARRIS</span></span>
<span id="cb79-22"><a href="#cb79-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(shift) <span class="sc">%&gt;%</span>                            <span class="co"># Group by shift (day/night)</span></span>
<span id="cb79-23"><a href="#cb79-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb79-24"><a href="#cb79-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> <span class="st">"AMETHYST"</span>,                          <span class="co"># Set river to AMETHYST</span></span>
<span id="cb79-25"><a href="#cb79-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">totalDischarge =</span> <span class="fu">sum</span>(totalDischarge, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="co">#, # Sum totalDischarge</span></span>
<span id="cb79-26"><a href="#cb79-26" aria-hidden="true" tabindex="-1"></a>    <span class="co">#meanTemp = mean(meanTemp, na.rm = TRUE)      # Average meanTemp</span></span>
<span id="cb79-27"><a href="#cb79-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb79-28"><a href="#cb79-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-29"><a href="#cb79-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Bind the AMETHYST rows to the original dataset</span></span>
<span id="cb79-30"><a href="#cb79-30" aria-hidden="true" tabindex="-1"></a>flow_tracker_2 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(flow_tracker_2, amethyst_combined)</span>
<span id="cb79-31"><a href="#cb79-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-32"><a href="#cb79-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb79-33"><a href="#cb79-33" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flow_tracker_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         localEndTime     river totalDischarge        dateTime_EST shift
1 2024-06-18 16:48:45    BUFFAM           0.01 2024-06-18 16:48:45   day
2 2024-06-19 02:07:27    BUFFAM           0.02 2024-06-19 02:07:27 night
3 2024-06-17 12:35:22    DICKEY           0.03 2024-06-17 12:35:22   day
4 2024-06-18 02:35:29    DICKEY           1.49 2024-06-18 02:35:29 night
5 2024-06-19 12:36:08 DRY UPPER           0.02 2024-06-19 12:36:08   day
6 2024-06-20 00:32:19 DRY UPPER           0.30 2024-06-20 00:32:19 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new flow csv</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flow_tracker_2, </span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_2.csv"</span>, </span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the flow data</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>flow_tracker_3 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_3.csv"</span>)</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the localEndTime column into a DateTime column</span></span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>flow_tracker_3<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(flow_tracker_3<span class="sc">$</span>localEndTime, </span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">format =</span> <span class="st">"%Y-%m-%d %H:%M:%S"</span>,</span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-9"><a href="#cb82-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb82-10"><a href="#cb82-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 5:00 EST to 11:00 EST</span></span>
<span id="cb82-11"><a href="#cb82-11" aria-hidden="true" tabindex="-1"></a>flow_tracker_3 <span class="ot">&lt;-</span> flow_tracker_3 <span class="sc">%&gt;%</span></span>
<span id="cb82-12"><a href="#cb82-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb82-13"><a href="#cb82-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb82-14"><a href="#cb82-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">12</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb82-15"><a href="#cb82-15" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb82-16"><a href="#cb82-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb82-17"><a href="#cb82-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb82-18"><a href="#cb82-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-19"><a href="#cb82-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create rows representing Amethyst brook discharge and temperature by combining Buffam and Harris measurements per shift</span></span>
<span id="cb82-20"><a href="#cb82-20" aria-hidden="true" tabindex="-1"></a>amethyst_combined <span class="ot">&lt;-</span> flow_tracker_3 <span class="sc">%&gt;%</span></span>
<span id="cb82-21"><a href="#cb82-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(river <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BUFFAM"</span>, <span class="st">"HARRIS"</span>)) <span class="sc">%&gt;%</span>   <span class="co"># Filter BUFFAM and HARRIS</span></span>
<span id="cb82-22"><a href="#cb82-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(shift) <span class="sc">%&gt;%</span>                            <span class="co"># Group by shift (day/night)</span></span>
<span id="cb82-23"><a href="#cb82-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb82-24"><a href="#cb82-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> <span class="st">"AMETHYST"</span>,                          <span class="co"># Set river to AMETHYST</span></span>
<span id="cb82-25"><a href="#cb82-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">totalDischarge =</span> <span class="fu">sum</span>(totalDischarge, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="co">#, # Sum totalDischarge</span></span>
<span id="cb82-26"><a href="#cb82-26" aria-hidden="true" tabindex="-1"></a>    <span class="co">#meanTemp = mean(meanTemp, na.rm = TRUE)      # Average meanTemp</span></span>
<span id="cb82-27"><a href="#cb82-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb82-28"><a href="#cb82-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-29"><a href="#cb82-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Bind the AMETHYST rows to the original dataset</span></span>
<span id="cb82-30"><a href="#cb82-30" aria-hidden="true" tabindex="-1"></a>flow_tracker_3 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(flow_tracker_3, amethyst_combined)</span>
<span id="cb82-31"><a href="#cb82-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-32"><a href="#cb82-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb82-33"><a href="#cb82-33" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flow_tracker_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         localEndTime     river totalDischarge        dateTime_EST shift
1 2024-06-26 10:42:10    BUFFAM           0.02 2024-06-26 10:42:10   day
2 2024-06-26 17:51:16    BUFFAM           0.02 2024-06-26 17:51:16 night
3 2024-06-28 09:44:29    DICKEY           0.03 2024-06-28 09:44:29   day
4 2024-06-28 18:41:46    DICKEY           1.07 2024-06-28 18:41:46 night
5 2024-06-25 07:21:55 DRY UPPER           0.03 2024-06-25 07:21:55   day
6 2024-06-25 19:19:38 DRY UPPER           0.57 2024-06-25 19:19:38 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new flow csv</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flow_tracker_3, </span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_3.csv"</span>, </span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the flow data</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>flow_tracker_4 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_4.csv"</span>)</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the localEndTime column into a DateTime column</span></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a>flow_tracker_4<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(flow_tracker_4<span class="sc">$</span>localEndTime, </span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">format =</span> <span class="st">"%Y-%m-%d %H:%M:%S"</span>,</span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb85-8"><a href="#cb85-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-9"><a href="#cb85-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb85-10"><a href="#cb85-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 3:00 EST to 9:00 EST</span></span>
<span id="cb85-11"><a href="#cb85-11" aria-hidden="true" tabindex="-1"></a>flow_tracker_4 <span class="ot">&lt;-</span> flow_tracker_4 <span class="sc">%&gt;%</span></span>
<span id="cb85-12"><a href="#cb85-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb85-13"><a href="#cb85-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb85-14"><a href="#cb85-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">10</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb85-15"><a href="#cb85-15" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb85-16"><a href="#cb85-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb85-17"><a href="#cb85-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb85-18"><a href="#cb85-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-19"><a href="#cb85-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create rows representing Amethyst brook discharge and temperature by combining Buffam and Harris measurements per shift</span></span>
<span id="cb85-20"><a href="#cb85-20" aria-hidden="true" tabindex="-1"></a>amethyst_combined <span class="ot">&lt;-</span> flow_tracker_4 <span class="sc">%&gt;%</span></span>
<span id="cb85-21"><a href="#cb85-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(river <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BUFFAM"</span>, <span class="st">"HARRIS"</span>)) <span class="sc">%&gt;%</span>   <span class="co"># Filter BUFFAM and HARRIS</span></span>
<span id="cb85-22"><a href="#cb85-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(shift) <span class="sc">%&gt;%</span>                            <span class="co"># Group by shift (day/night)</span></span>
<span id="cb85-23"><a href="#cb85-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb85-24"><a href="#cb85-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> <span class="st">"AMETHYST"</span>,                          <span class="co"># Set river to AMETHYST</span></span>
<span id="cb85-25"><a href="#cb85-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">totalDischarge =</span> <span class="fu">sum</span>(totalDischarge, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="co">#, # Sum totalDischarge</span></span>
<span id="cb85-26"><a href="#cb85-26" aria-hidden="true" tabindex="-1"></a>    <span class="co">#meanTemp = mean(meanTemp, na.rm = TRUE)      # Average meanTemp</span></span>
<span id="cb85-27"><a href="#cb85-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb85-28"><a href="#cb85-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-29"><a href="#cb85-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Bind the AMETHYST rows to the original dataset</span></span>
<span id="cb85-30"><a href="#cb85-30" aria-hidden="true" tabindex="-1"></a>flow_tracker_4 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(flow_tracker_4, amethyst_combined)</span>
<span id="cb85-31"><a href="#cb85-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-32"><a href="#cb85-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb85-33"><a href="#cb85-33" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flow_tracker_4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         localEndTime     river totalDischarge        dateTime_EST shift
1 2024-07-02 04:11:20    BUFFAM           0.02 2024-07-02 04:11:20   day
2 2024-07-02 17:28:34    BUFFAM           0.01 2024-07-02 17:28:34 night
3 2024-07-01 04:39:46    DICKEY           1.77 2024-07-01 04:39:46   day
4 2024-07-01 18:42:29    DICKEY           1.34 2024-07-01 18:42:29 night
5 2024-06-30 05:23:29 DRY UPPER           0.33 2024-06-30 05:23:29   day
6 2024-06-30 14:19:58 DRY UPPER           0.01 2024-06-30 14:19:58 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new flow csv</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flow_tracker_4, </span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_4.csv"</span>, </span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the flow data</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>flow_tracker_5 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_5.csv"</span>)</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the localEndTime column into a DateTime column</span></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>flow_tracker_5<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(flow_tracker_5<span class="sc">$</span>localEndTime, </span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">format =</span> <span class="st">"%Y-%m-%d %H:%M:%S"</span>,</span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb88-10"><a href="#cb88-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb88-11"><a href="#cb88-11" aria-hidden="true" tabindex="-1"></a>flow_tracker_5 <span class="ot">&lt;-</span> flow_tracker_5 <span class="sc">%&gt;%</span></span>
<span id="cb88-12"><a href="#cb88-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb88-13"><a href="#cb88-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb88-14"><a href="#cb88-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">14</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb88-15"><a href="#cb88-15" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb88-16"><a href="#cb88-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb88-17"><a href="#cb88-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb88-18"><a href="#cb88-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-19"><a href="#cb88-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create rows representing Amethyst brook discharge and temperature by combining Buffam and Harris measurements per shift</span></span>
<span id="cb88-20"><a href="#cb88-20" aria-hidden="true" tabindex="-1"></a>amethyst_combined <span class="ot">&lt;-</span> flow_tracker_5 <span class="sc">%&gt;%</span></span>
<span id="cb88-21"><a href="#cb88-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(river <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BUFFAM"</span>, <span class="st">"HARRIS"</span>)) <span class="sc">%&gt;%</span>   <span class="co"># Filter BUFFAM and HARRIS</span></span>
<span id="cb88-22"><a href="#cb88-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(shift) <span class="sc">%&gt;%</span>                            <span class="co"># Group by shift (day/night)</span></span>
<span id="cb88-23"><a href="#cb88-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb88-24"><a href="#cb88-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> <span class="st">"AMETHYST"</span>,                          <span class="co"># Set river to AMETHYST</span></span>
<span id="cb88-25"><a href="#cb88-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">totalDischarge =</span> <span class="fu">sum</span>(totalDischarge, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="co">#, # Sum totalDischarge</span></span>
<span id="cb88-26"><a href="#cb88-26" aria-hidden="true" tabindex="-1"></a>    <span class="co">#meanTemp = mean(meanTemp, na.rm = TRUE)      # Average meanTemp</span></span>
<span id="cb88-27"><a href="#cb88-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb88-28"><a href="#cb88-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-29"><a href="#cb88-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Bind the AMETHYST rows to the original dataset</span></span>
<span id="cb88-30"><a href="#cb88-30" aria-hidden="true" tabindex="-1"></a>flow_tracker_5 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(flow_tracker_5, amethyst_combined)</span>
<span id="cb88-31"><a href="#cb88-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-32"><a href="#cb88-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb88-33"><a href="#cb88-33" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flow_tracker_5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         localEndTime     river totalDischarge        dateTime_EST shift
1 2024-07-11 11:21:40    BUFFAM           1.19 2024-07-11 11:21:40   day
2 2024-07-11 12:00:06    BUFFAM           0.04 2024-07-11 12:00:06   day
3 2024-07-11 18:15:24    BUFFAM           1.06 2024-07-11 18:15:24 night
4 2024-07-10 08:31:15    DICKEY           0.07 2024-07-10 08:31:15   day
5 2024-07-10 18:15:15    DICKEY           2.58 2024-07-10 18:15:15 night
6 2024-07-12 08:03:32 DRY UPPER           0.00 2024-07-12 08:03:32   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new flow csv</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flow_tracker_5, </span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_5.csv"</span>, </span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the flow data</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>flow_tracker_6 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_6.csv"</span>)</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the localEndTime column into a DateTime column</span></span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>flow_tracker_6<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(flow_tracker_6<span class="sc">$</span>localEndTime, </span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">format =</span> <span class="st">"%Y-%m-%d %H:%M:%S"</span>,</span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-9"><a href="#cb91-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb91-10"><a href="#cb91-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 3:00 EST to 9:00 EST</span></span>
<span id="cb91-11"><a href="#cb91-11" aria-hidden="true" tabindex="-1"></a>flow_tracker_6 <span class="ot">&lt;-</span> flow_tracker_6 <span class="sc">%&gt;%</span></span>
<span id="cb91-12"><a href="#cb91-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb91-13"><a href="#cb91-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb91-14"><a href="#cb91-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">10</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb91-15"><a href="#cb91-15" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb91-16"><a href="#cb91-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb91-17"><a href="#cb91-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb91-18"><a href="#cb91-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-19"><a href="#cb91-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create rows representing Amethyst brook discharge and temperature by combining Buffam and Harris measurements per shift</span></span>
<span id="cb91-20"><a href="#cb91-20" aria-hidden="true" tabindex="-1"></a>amethyst_combined <span class="ot">&lt;-</span> flow_tracker_6 <span class="sc">%&gt;%</span></span>
<span id="cb91-21"><a href="#cb91-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(river <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BUFFAM"</span>, <span class="st">"HARRIS"</span>)) <span class="sc">%&gt;%</span>   <span class="co"># Filter BUFFAM and HARRIS</span></span>
<span id="cb91-22"><a href="#cb91-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(shift) <span class="sc">%&gt;%</span>                            <span class="co"># Group by shift (day/night)</span></span>
<span id="cb91-23"><a href="#cb91-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb91-24"><a href="#cb91-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> <span class="st">"AMETHYST"</span>,                          <span class="co"># Set river to AMETHYST</span></span>
<span id="cb91-25"><a href="#cb91-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">totalDischarge =</span> <span class="fu">sum</span>(totalDischarge, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="co">#, # Sum totalDischarge</span></span>
<span id="cb91-26"><a href="#cb91-26" aria-hidden="true" tabindex="-1"></a>    <span class="co">#meanTemp = mean(meanTemp, na.rm = TRUE)      # Average meanTemp</span></span>
<span id="cb91-27"><a href="#cb91-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb91-28"><a href="#cb91-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-29"><a href="#cb91-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Bind the AMETHYST rows to the original dataset</span></span>
<span id="cb91-30"><a href="#cb91-30" aria-hidden="true" tabindex="-1"></a>flow_tracker_6 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(flow_tracker_6, amethyst_combined)</span>
<span id="cb91-31"><a href="#cb91-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-32"><a href="#cb91-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb91-33"><a href="#cb91-33" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flow_tracker_6)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         localEndTime     river totalDischarge        dateTime_EST shift
1 2024-07-17 04:35:30    BUFFAM           1.69 2024-07-17 04:35:30   day
2 2024-07-17 14:14:36    BUFFAM           1.12 2024-07-17 14:14:36 night
3 2024-07-16 05:02:37    DICKEY           1.17 2024-07-16 05:02:37   day
4 2024-07-16 14:29:54    DICKEY          -1.58 2024-07-16 14:29:54 night
5 2024-07-18 04:41:46 DRY UPPER           1.68 2024-07-18 04:41:46   day
6 2024-07-18 14:02:49 DRY UPPER           0.60 2024-07-18 14:02:49 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new flow csv</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flow_tracker_6, </span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_6.csv"</span>, </span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the flow data</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>flow_tracker_7 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_7.csv"</span>)</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the localEndTime column into a DateTime column</span></span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>flow_tracker_7<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(flow_tracker_7<span class="sc">$</span>localEndTime, </span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">format =</span> <span class="st">"%Y-%m-%d %H:%M:%S"</span>,</span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb94-11"><a href="#cb94-11" aria-hidden="true" tabindex="-1"></a>flow_tracker_7 <span class="ot">&lt;-</span> flow_tracker_7 <span class="sc">%&gt;%</span></span>
<span id="cb94-12"><a href="#cb94-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb94-13"><a href="#cb94-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb94-14"><a href="#cb94-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">14</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb94-15"><a href="#cb94-15" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb94-16"><a href="#cb94-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb94-17"><a href="#cb94-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb94-18"><a href="#cb94-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-19"><a href="#cb94-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create rows representing Amethyst brook discharge and temperature by combining Buffam and Harris measurements per shift</span></span>
<span id="cb94-20"><a href="#cb94-20" aria-hidden="true" tabindex="-1"></a>amethyst_combined <span class="ot">&lt;-</span> flow_tracker_7 <span class="sc">%&gt;%</span></span>
<span id="cb94-21"><a href="#cb94-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(river <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BUFFAM"</span>, <span class="st">"HARRIS"</span>)) <span class="sc">%&gt;%</span>   <span class="co"># Filter BUFFAM and HARRIS</span></span>
<span id="cb94-22"><a href="#cb94-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(shift) <span class="sc">%&gt;%</span>                            <span class="co"># Group by shift (day/night)</span></span>
<span id="cb94-23"><a href="#cb94-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb94-24"><a href="#cb94-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> <span class="st">"AMETHYST"</span>,                          <span class="co"># Set river to AMETHYST</span></span>
<span id="cb94-25"><a href="#cb94-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">totalDischarge =</span> <span class="fu">sum</span>(totalDischarge, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="co">#, # Sum totalDischarge</span></span>
<span id="cb94-26"><a href="#cb94-26" aria-hidden="true" tabindex="-1"></a>    <span class="co">#meanTemp = mean(meanTemp, na.rm = TRUE)      # Average meanTemp</span></span>
<span id="cb94-27"><a href="#cb94-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb94-28"><a href="#cb94-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-29"><a href="#cb94-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Bind the AMETHYST rows to the original dataset</span></span>
<span id="cb94-30"><a href="#cb94-30" aria-hidden="true" tabindex="-1"></a>flow_tracker_7 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(flow_tracker_7, amethyst_combined)</span>
<span id="cb94-31"><a href="#cb94-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-32"><a href="#cb94-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb94-33"><a href="#cb94-33" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flow_tracker_7)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         localEndTime     river totalDischarge        dateTime_EST shift
1 2024-07-25 12:08:40    BUFFAM           0.76 2024-07-25 12:08:40   day
2 2024-07-25 18:12:05    BUFFAM           0.02 2024-07-25 18:12:05 night
3 2024-07-24 10:50:19    DICKEY           1.79 2024-07-24 10:50:19   day
4 2024-07-24 18:21:54    DICKEY           1.65 2024-07-24 18:21:54 night
5 2024-07-23 08:27:20 DRY UPPER           0.13 2024-07-23 08:27:20   day
6 2024-07-23 18:09:40 DRY UPPER           0.16 2024-07-23 18:09:40 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new flow csv</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flow_tracker_7, </span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_7.csv"</span>, </span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the flow data</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>flow_tracker_8 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_8.csv"</span>)</span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the localEndTime column into a DateTime column</span></span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>flow_tracker_8<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(flow_tracker_8<span class="sc">$</span>localEndTime, </span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">format =</span> <span class="st">"%Y-%m-%d %H:%M:%S"</span>,</span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb97-10"><a href="#cb97-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 3:30 EST to 9:30 EST</span></span>
<span id="cb97-11"><a href="#cb97-11" aria-hidden="true" tabindex="-1"></a>flow_tracker_8 <span class="ot">&lt;-</span> flow_tracker_8 <span class="sc">%&gt;%</span></span>
<span id="cb97-12"><a href="#cb97-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb97-13"><a href="#cb97-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb97-14"><a href="#cb97-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">11</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb97-15"><a href="#cb97-15" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb97-16"><a href="#cb97-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb97-17"><a href="#cb97-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb97-18"><a href="#cb97-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-19"><a href="#cb97-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create rows representing Amethyst brook discharge and temperature by combining Buffam and Harris measurements per shift</span></span>
<span id="cb97-20"><a href="#cb97-20" aria-hidden="true" tabindex="-1"></a>amethyst_combined <span class="ot">&lt;-</span> flow_tracker_8 <span class="sc">%&gt;%</span></span>
<span id="cb97-21"><a href="#cb97-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(river <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BUFFAM"</span>, <span class="st">"HARRIS"</span>)) <span class="sc">%&gt;%</span>   <span class="co"># Filter BUFFAM and HARRIS</span></span>
<span id="cb97-22"><a href="#cb97-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(shift) <span class="sc">%&gt;%</span>                            <span class="co"># Group by shift (day/night)</span></span>
<span id="cb97-23"><a href="#cb97-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb97-24"><a href="#cb97-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> <span class="st">"AMETHYST"</span>,                          <span class="co"># Set river to AMETHYST</span></span>
<span id="cb97-25"><a href="#cb97-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">totalDischarge =</span> <span class="fu">sum</span>(totalDischarge, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="co">#, # Sum totalDischarge</span></span>
<span id="cb97-26"><a href="#cb97-26" aria-hidden="true" tabindex="-1"></a>    <span class="co">#meanTemp = mean(meanTemp, na.rm = TRUE)      # Average meanTemp</span></span>
<span id="cb97-27"><a href="#cb97-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb97-28"><a href="#cb97-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-29"><a href="#cb97-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Bind the AMETHYST rows to the original dataset</span></span>
<span id="cb97-30"><a href="#cb97-30" aria-hidden="true" tabindex="-1"></a>flow_tracker_8 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(flow_tracker_8, amethyst_combined)</span>
<span id="cb97-31"><a href="#cb97-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-32"><a href="#cb97-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb97-33"><a href="#cb97-33" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flow_tracker_8)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         localEndTime     river totalDischarge        dateTime_EST shift
1 2024-07-31 04:44:54    BUFFAM           0.54 2024-07-31 04:44:54   day
2 2024-07-31 13:43:07    BUFFAM           0.02 2024-07-31 13:43:07 night
3 2024-07-30 04:50:14    DICKEY           1.13 2024-07-30 04:50:14   day
4 2024-07-30 13:49:04    DICKEY           0.99 2024-07-30 13:49:04 night
5 2024-08-02 04:30:04 DRY UPPER           0.14 2024-08-02 04:30:04   day
6 2024-08-02 16:15:02 DRY UPPER           0.09 2024-08-02 16:15:02 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new flow csv</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flow_tracker_8, </span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_8.csv"</span>, </span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the flow data</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>flow_tracker_9 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_9.csv"</span>)</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the localEndTime column into a DateTime column</span></span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>flow_tracker_9<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(flow_tracker_9<span class="sc">$</span>localEndTime, </span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">format =</span> <span class="st">"%Y-%m-%d %H:%M:%S"</span>,</span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb100-11"><a href="#cb100-11" aria-hidden="true" tabindex="-1"></a>flow_tracker_9 <span class="ot">&lt;-</span> flow_tracker_9 <span class="sc">%&gt;%</span></span>
<span id="cb100-12"><a href="#cb100-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb100-13"><a href="#cb100-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb100-14"><a href="#cb100-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">14</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb100-15"><a href="#cb100-15" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb100-16"><a href="#cb100-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb100-17"><a href="#cb100-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb100-18"><a href="#cb100-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-19"><a href="#cb100-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create rows representing Amethyst brook discharge and temperature by combining Buffam and Harris measurements per shift</span></span>
<span id="cb100-20"><a href="#cb100-20" aria-hidden="true" tabindex="-1"></a>amethyst_combined <span class="ot">&lt;-</span> flow_tracker_9 <span class="sc">%&gt;%</span></span>
<span id="cb100-21"><a href="#cb100-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(river <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BUFFAM"</span>, <span class="st">"HARRIS"</span>)) <span class="sc">%&gt;%</span>   <span class="co"># Filter BUFFAM and HARRIS</span></span>
<span id="cb100-22"><a href="#cb100-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(shift) <span class="sc">%&gt;%</span>                            <span class="co"># Group by shift (day/night)</span></span>
<span id="cb100-23"><a href="#cb100-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb100-24"><a href="#cb100-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> <span class="st">"AMETHYST"</span>,                          <span class="co"># Set river to AMETHYST</span></span>
<span id="cb100-25"><a href="#cb100-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">totalDischarge =</span> <span class="fu">sum</span>(totalDischarge, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="co">#, # Sum totalDischarge</span></span>
<span id="cb100-26"><a href="#cb100-26" aria-hidden="true" tabindex="-1"></a>    <span class="co">#meanTemp = mean(meanTemp, na.rm = TRUE)      # Average meanTemp</span></span>
<span id="cb100-27"><a href="#cb100-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb100-28"><a href="#cb100-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-29"><a href="#cb100-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Bind the AMETHYST rows to the original dataset</span></span>
<span id="cb100-30"><a href="#cb100-30" aria-hidden="true" tabindex="-1"></a>flow_tracker_9 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(flow_tracker_9, amethyst_combined)</span>
<span id="cb100-31"><a href="#cb100-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-32"><a href="#cb100-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb100-33"><a href="#cb100-33" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flow_tracker_9)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         localEndTime     river totalDischarge        dateTime_EST shift
1 2024-08-08 08:25:54    BUFFAM           0.06 2024-08-08 08:25:54   day
2 2024-08-08 17:48:04    BUFFAM          -2.36 2024-08-08 17:48:04 night
3 2024-08-09 10:56:13    DICKEY           0.14 2024-08-09 10:56:13   day
4 2024-08-07 08:20:43 DRY UPPER           0.25 2024-08-07 08:20:43   day
5 2024-08-07 20:19:58 DRY UPPER          -0.09 2024-08-07 20:19:58 night
6 2024-08-08 09:31:11    HARRIS           5.79 2024-08-08 09:31:11   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new flow csv</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flow_tracker_9, </span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_9.csv"</span>, </span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the flow data</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>flow_tracker_10 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_10.csv"</span>)</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the localEndTime column into a DateTime column</span></span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a>flow_tracker_10<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(flow_tracker_10<span class="sc">$</span>localEndTime, </span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format =</span> <span class="st">"%Y-%m-%d %H:%M:%S"</span>,</span>
<span id="cb103-7"><a href="#cb103-7" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb103-8"><a href="#cb103-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-9"><a href="#cb103-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb103-10"><a href="#cb103-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 4:00 EST to 10:00 EST</span></span>
<span id="cb103-11"><a href="#cb103-11" aria-hidden="true" tabindex="-1"></a>flow_tracker_10 <span class="ot">&lt;-</span> flow_tracker_10 <span class="sc">%&gt;%</span></span>
<span id="cb103-12"><a href="#cb103-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb103-13"><a href="#cb103-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb103-14"><a href="#cb103-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">3</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">11</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb103-15"><a href="#cb103-15" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb103-16"><a href="#cb103-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb103-17"><a href="#cb103-17" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb103-18"><a href="#cb103-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-19"><a href="#cb103-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create rows representing Amethyst brook discharge and temperature by combining Buffam and Harris measurements per shift</span></span>
<span id="cb103-20"><a href="#cb103-20" aria-hidden="true" tabindex="-1"></a>amethyst_combined <span class="ot">&lt;-</span> flow_tracker_10 <span class="sc">%&gt;%</span></span>
<span id="cb103-21"><a href="#cb103-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(river <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BUFFAM"</span>, <span class="st">"HARRIS"</span>)) <span class="sc">%&gt;%</span>   <span class="co"># Filter BUFFAM and HARRIS</span></span>
<span id="cb103-22"><a href="#cb103-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(shift) <span class="sc">%&gt;%</span>                            <span class="co"># Group by shift (day/night)</span></span>
<span id="cb103-23"><a href="#cb103-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb103-24"><a href="#cb103-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> <span class="st">"AMETHYST"</span>,                          <span class="co"># Set river to AMETHYST</span></span>
<span id="cb103-25"><a href="#cb103-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">totalDischarge =</span> <span class="fu">sum</span>(totalDischarge, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="co">#, # Sum totalDischarge</span></span>
<span id="cb103-26"><a href="#cb103-26" aria-hidden="true" tabindex="-1"></a>    <span class="co">#meanTemp = mean(meanTemp, na.rm = TRUE)      # Average meanTemp</span></span>
<span id="cb103-27"><a href="#cb103-27" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb103-28"><a href="#cb103-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-29"><a href="#cb103-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Bind the AMETHYST rows to the original dataset</span></span>
<span id="cb103-30"><a href="#cb103-30" aria-hidden="true" tabindex="-1"></a>flow_tracker_10 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(flow_tracker_10, amethyst_combined)</span>
<span id="cb103-31"><a href="#cb103-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-32"><a href="#cb103-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb103-33"><a href="#cb103-33" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flow_tracker_10)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         localEndTime     river totalDischarge        dateTime_EST shift
1 2024-08-13 04:57:46    BUFFAM           1.22 2024-08-13 04:57:46   day
2 2024-08-13 18:18:44    BUFFAM           0.95 2024-08-13 18:18:44 night
3 2024-08-15 05:32:32    DICKEY           1.69 2024-08-15 05:32:32   day
4 2024-08-15 15:12:35    DICKEY           1.40 2024-08-15 15:12:35 night
5 2024-08-16 05:22:45 DRY UPPER           0.15 2024-08-16 05:22:45   day
6 2024-08-16 14:38:49 DRY UPPER           0.08 2024-08-16 14:38:49 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new flow csv</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flow_tracker_10, </span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_10.csv"</span>, </span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the flow data</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>flow_tracker_11 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_11.csv"</span>)</span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the localEndTime column into a DateTime column</span></span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a>flow_tracker_11<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(flow_tracker_11<span class="sc">$</span>localEndTime, </span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format =</span> <span class="st">"%Y-%m-%d %H:%M:%S"</span>,</span>
<span id="cb106-7"><a href="#cb106-7" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb106-8"><a href="#cb106-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-9"><a href="#cb106-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column </span></span>
<span id="cb106-10"><a href="#cb106-10" aria-hidden="true" tabindex="-1"></a><span class="co"># All shifts in week 11 were day shifts</span></span>
<span id="cb106-11"><a href="#cb106-11" aria-hidden="true" tabindex="-1"></a>flow_tracker_11 <span class="ot">&lt;-</span> flow_tracker_11 <span class="sc">%&gt;%</span></span>
<span id="cb106-12"><a href="#cb106-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">shift =</span> <span class="st">"day"</span>)</span>
<span id="cb106-13"><a href="#cb106-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-14"><a href="#cb106-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Create rows representing Amethyst brook discharge and temperature by combining Buffam and Harris measurements per shift</span></span>
<span id="cb106-15"><a href="#cb106-15" aria-hidden="true" tabindex="-1"></a>amethyst_combined <span class="ot">&lt;-</span> flow_tracker_11 <span class="sc">%&gt;%</span></span>
<span id="cb106-16"><a href="#cb106-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(river <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BUFFAM"</span>, <span class="st">"HARRIS"</span>)) <span class="sc">%&gt;%</span>   <span class="co"># Filter BUFFAM and HARRIS</span></span>
<span id="cb106-17"><a href="#cb106-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(shift) <span class="sc">%&gt;%</span>                            <span class="co"># Group by shift (day/night)</span></span>
<span id="cb106-18"><a href="#cb106-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb106-19"><a href="#cb106-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> <span class="st">"AMETHYST"</span>,                          <span class="co"># Set river to AMETHYST</span></span>
<span id="cb106-20"><a href="#cb106-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">totalDischarge =</span> <span class="fu">sum</span>(totalDischarge, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="co">#, # Sum totalDischarge</span></span>
<span id="cb106-21"><a href="#cb106-21" aria-hidden="true" tabindex="-1"></a>    <span class="co">#meanTemp = mean(meanTemp, na.rm = TRUE)      # Average meanTemp</span></span>
<span id="cb106-22"><a href="#cb106-22" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb106-23"><a href="#cb106-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-24"><a href="#cb106-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Bind the AMETHYST rows to the original dataset</span></span>
<span id="cb106-25"><a href="#cb106-25" aria-hidden="true" tabindex="-1"></a>flow_tracker_11 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(flow_tracker_11, amethyst_combined)</span>
<span id="cb106-26"><a href="#cb106-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-27"><a href="#cb106-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb106-28"><a href="#cb106-28" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flow_tracker_11)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         localEndTime     river totalDischarge        dateTime_EST shift
1 2024-08-20 11:41:46    BUFFAM           3.53 2024-08-20 11:41:46   day
2 2024-08-23 13:38:55    BUFFAM           0.82 2024-08-23 13:38:55   day
3 2024-08-22 09:12:22       DRY           3.65 2024-08-22 09:12:22   day
4 2024-08-20 09:56:27    HARRIS          13.48 2024-08-20 09:56:27   day
5 2024-08-23 13:17:11    HARRIS           3.87 2024-08-23 13:17:11   day
6 2024-08-21 09:25:52 UNDERHILL           1.21 2024-08-21 09:25:52   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new flow csv</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flow_tracker_11, </span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_11.csv"</span>, </span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the flow data</span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>flow_tracker_12 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_12.csv"</span>)</span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the localEndTime column into a DateTime column</span></span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a>flow_tracker_12<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(flow_tracker_12<span class="sc">$</span>localEndTime, </span>
<span id="cb109-6"><a href="#cb109-6" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format =</span> <span class="st">"%Y-%m-%d %H:%M:%S"</span>,</span>
<span id="cb109-7"><a href="#cb109-7" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb109-8"><a href="#cb109-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-9"><a href="#cb109-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column</span></span>
<span id="cb109-10"><a href="#cb109-10" aria-hidden="true" tabindex="-1"></a><span class="co"># All shifts in week 12 were day shifts</span></span>
<span id="cb109-11"><a href="#cb109-11" aria-hidden="true" tabindex="-1"></a>flow_tracker_12 <span class="ot">&lt;-</span> flow_tracker_12 <span class="sc">%&gt;%</span></span>
<span id="cb109-12"><a href="#cb109-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">shift =</span> <span class="st">"day"</span>)</span>
<span id="cb109-13"><a href="#cb109-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-14"><a href="#cb109-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb109-15"><a href="#cb109-15" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flow_tracker_12)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         localEndTime     river totalDischarge        dateTime_EST shift
1 2024-08-29 10:21:54    DICKEY           0.03 2024-08-29 10:21:54   day
2 2024-08-27 10:16:23 UNDERHILL           0.03 2024-08-27 10:16:23   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new flow csv</span></span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flow_tracker_12, </span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_12.csv"</span>, </span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define file names</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>flow_file_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"flow_tracker_1.csv"</span>, <span class="st">"flow_tracker_2.csv"</span>, <span class="st">"flow_tracker_3.csv"</span>, <span class="st">"flow_tracker_4.csv"</span>, </span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"flow_tracker_5.csv"</span>, <span class="st">"flow_tracker_6.csv"</span>, <span class="st">"flow_tracker_7.csv"</span>, <span class="st">"flow_tracker_8.csv"</span>, </span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"flow_tracker_9.csv"</span>, <span class="st">"flow_tracker_10.csv"</span>, <span class="st">"flow_tracker_11.csv"</span>, <span class="st">"flow_tracker_12.csv"</span>) </span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-6"><a href="#cb112-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an empty list to store the processed datasets</span></span>
<span id="cb112-7"><a href="#cb112-7" aria-hidden="true" tabindex="-1"></a>processed_flow_data_list <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb112-8"><a href="#cb112-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-9"><a href="#cb112-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through each stream survey file</span></span>
<span id="cb112-10"><a href="#cb112-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (file_name <span class="cf">in</span> flow_file_names) {</span>
<span id="cb112-11"><a href="#cb112-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read in the stream survey data</span></span>
<span id="cb112-12"><a href="#cb112-12" aria-hidden="true" tabindex="-1"></a>  raw_flow_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(file_name)</span>
<span id="cb112-13"><a href="#cb112-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb112-14"><a href="#cb112-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Step 1: Process the data</span></span>
<span id="cb112-15"><a href="#cb112-15" aria-hidden="true" tabindex="-1"></a>  flow_data <span class="ot">&lt;-</span> raw_flow_data <span class="sc">%&gt;%</span></span>
<span id="cb112-16"><a href="#cb112-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb112-17"><a href="#cb112-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 2: Select specific columns</span></span>
<span id="cb112-18"><a href="#cb112-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(river, totalDischarge, dateTime_EST, shift) <span class="sc">%&gt;%</span></span>
<span id="cb112-19"><a href="#cb112-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-20"><a href="#cb112-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 3: Rename columns</span></span>
<span id="cb112-21"><a href="#cb112-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="at">flowTime_EST =</span> dateTime_EST) </span>
<span id="cb112-22"><a href="#cb112-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb112-23"><a href="#cb112-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Store the processed data in the list</span></span>
<span id="cb112-24"><a href="#cb112-24" aria-hidden="true" tabindex="-1"></a>  processed_flow_data_list[[file_name]] <span class="ot">&lt;-</span> flow_data</span>
<span id="cb112-25"><a href="#cb112-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb112-26"><a href="#cb112-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Overwrite the original file with the processed data</span></span>
<span id="cb112-27"><a href="#cb112-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(flow_data, file_name, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb112-28"><a href="#cb112-28" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb112-29"><a href="#cb112-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-30"><a href="#cb112-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of each processed dataset</span></span>
<span id="cb112-31"><a href="#cb112-31" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(processed_flow_data_list)) {</span>
<span id="cb112-32"><a href="#cb112-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Data for"</span>, flow_file_names[i], <span class="st">":</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb112-33"><a href="#cb112-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">head</span>(processed_flow_data_list[[i]]))</span>
<span id="cb112-34"><a href="#cb112-34" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Data for flow_tracker_1.csv :
      river totalDischarge        flowTime_EST shift
1    BUFFAM           1.49 2024-06-11 08:32:26   day
2    BUFFAM           0.02 2024-06-11 20:26:53 night
3    DICKEY           1.35 2024-06-13 18:59:00 night
4 DRY UPPER           0.02 2024-06-14 08:57:28   day
5 DRY UPPER           0.65 2024-06-14 18:21:39 night
6    HARRIS           0.07 2024-06-11 09:42:47   day

Data for flow_tracker_2.csv :
      river totalDischarge        flowTime_EST shift
1    BUFFAM           0.01 2024-06-18 16:48:45   day
2    BUFFAM           0.02 2024-06-19 02:07:27 night
3    DICKEY           0.03 2024-06-17 12:35:22   day
4    DICKEY           1.49 2024-06-18 02:35:29 night
5 DRY UPPER           0.02 2024-06-19 12:36:08   day
6 DRY UPPER           0.30 2024-06-20 00:32:19 night

Data for flow_tracker_3.csv :
      river totalDischarge        flowTime_EST shift
1    BUFFAM           0.02 2024-06-26 10:42:10   day
2    BUFFAM           0.02 2024-06-26 17:51:16 night
3    DICKEY           0.03 2024-06-28 09:44:29   day
4    DICKEY           1.07 2024-06-28 18:41:46 night
5 DRY UPPER           0.03 2024-06-25 07:21:55   day
6 DRY UPPER           0.57 2024-06-25 19:19:38 night

Data for flow_tracker_4.csv :
      river totalDischarge        flowTime_EST shift
1    BUFFAM           0.02 2024-07-02 04:11:20   day
2    BUFFAM           0.01 2024-07-02 17:28:34 night
3    DICKEY           1.77 2024-07-01 04:39:46   day
4    DICKEY           1.34 2024-07-01 18:42:29 night
5 DRY UPPER           0.33 2024-06-30 05:23:29   day
6 DRY UPPER           0.01 2024-06-30 14:19:58 night

Data for flow_tracker_5.csv :
      river totalDischarge        flowTime_EST shift
1    BUFFAM           1.19 2024-07-11 11:21:40   day
2    BUFFAM           0.04 2024-07-11 12:00:06   day
3    BUFFAM           1.06 2024-07-11 18:15:24 night
4    DICKEY           0.07 2024-07-10 08:31:15   day
5    DICKEY           2.58 2024-07-10 18:15:15 night
6 DRY UPPER           0.00 2024-07-12 08:03:32   day

Data for flow_tracker_6.csv :
      river totalDischarge        flowTime_EST shift
1    BUFFAM           1.69 2024-07-17 04:35:30   day
2    BUFFAM           1.12 2024-07-17 14:14:36 night
3    DICKEY           1.17 2024-07-16 05:02:37   day
4    DICKEY          -1.58 2024-07-16 14:29:54 night
5 DRY UPPER           1.68 2024-07-18 04:41:46   day
6 DRY UPPER           0.60 2024-07-18 14:02:49 night

Data for flow_tracker_7.csv :
      river totalDischarge        flowTime_EST shift
1    BUFFAM           0.76 2024-07-25 12:08:40   day
2    BUFFAM           0.02 2024-07-25 18:12:05 night
3    DICKEY           1.79 2024-07-24 10:50:19   day
4    DICKEY           1.65 2024-07-24 18:21:54 night
5 DRY UPPER           0.13 2024-07-23 08:27:20   day
6 DRY UPPER           0.16 2024-07-23 18:09:40 night

Data for flow_tracker_8.csv :
      river totalDischarge        flowTime_EST shift
1    BUFFAM           0.54 2024-07-31 04:44:54   day
2    BUFFAM           0.02 2024-07-31 13:43:07 night
3    DICKEY           1.13 2024-07-30 04:50:14   day
4    DICKEY           0.99 2024-07-30 13:49:04 night
5 DRY UPPER           0.14 2024-08-02 04:30:04   day
6 DRY UPPER           0.09 2024-08-02 16:15:02 night

Data for flow_tracker_9.csv :
      river totalDischarge        flowTime_EST shift
1    BUFFAM           0.06 2024-08-08 08:25:54   day
2    BUFFAM          -2.36 2024-08-08 17:48:04 night
3    DICKEY           0.14 2024-08-09 10:56:13   day
4 DRY UPPER           0.25 2024-08-07 08:20:43   day
5 DRY UPPER          -0.09 2024-08-07 20:19:58 night
6    HARRIS           5.79 2024-08-08 09:31:11   day

Data for flow_tracker_10.csv :
      river totalDischarge        flowTime_EST shift
1    BUFFAM           1.22 2024-08-13 04:57:46   day
2    BUFFAM           0.95 2024-08-13 18:18:44 night
3    DICKEY           1.69 2024-08-15 05:32:32   day
4    DICKEY           1.40 2024-08-15 15:12:35 night
5 DRY UPPER           0.15 2024-08-16 05:22:45   day
6 DRY UPPER           0.08 2024-08-16 14:38:49 night

Data for flow_tracker_11.csv :
      river totalDischarge        flowTime_EST shift
1    BUFFAM           3.53 2024-08-20 11:41:46   day
2    BUFFAM           0.82 2024-08-23 13:38:55   day
3       DRY           3.65 2024-08-22 09:12:22   day
4    HARRIS          13.48 2024-08-20 09:56:27   day
5    HARRIS           3.87 2024-08-23 13:17:11   day
6 UNDERHILL           1.21 2024-08-21 09:25:52   day

Data for flow_tracker_12.csv :
      river totalDischarge        flowTime_EST shift
1    DICKEY           0.03 2024-08-29 10:21:54   day
2 UNDERHILL           0.03 2024-08-27 10:16:23   day</code></pre>
</div>
</div>
</section>
<section id="combine-fish-survey-and-flow-data" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="combine-fish-survey-and-flow-data"><span class="header-section-number">2.5</span> Combine fish survey and flow data</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey and flow data for week 1</span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>fish_survey_1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_1.csv"</span>)</span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a>flow_tracker_1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_1.csv"</span>)</span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-5"><a href="#cb114-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets by shift and river columns</span></span>
<span id="cb114-6"><a href="#cb114-6" aria-hidden="true" tabindex="-1"></a>fish_flow_1 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_survey_1, flow_tracker_1, </span>
<span id="cb114-7"><a href="#cb114-7" aria-hidden="true" tabindex="-1"></a>                                <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"river"</span>))</span>
<span id="cb114-8"><a href="#cb114-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-9"><a href="#cb114-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb114-10"><a href="#cb114-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST    river shift tagID power habitat habitatExtra position
1 2024-06-11 05:57:00 AMETHYST   day    59    NA  Riffle                Center
2 2024-06-11 06:08:00 AMETHYST   day    60    NA  Riffle                Center
3 2024-06-11 06:15:00   BUFFAM   day    19    NA  Riffle                Center
4 2024-06-11 06:19:00   HARRIS   day    20    NA     Run                  Left
5 2024-06-11 06:28:00   HARRIS   day    57    NA     Run                  Left
6 2024-06-11 06:34:00   HARRIS   day    12    NA   Glide                Center
  substrate substrateExtra         shade       lon      lat fishNotes source
1      Rock             NA  Fully shaded -72.46038 42.38162             iPad
2      Rock             NA  Fully shaded -72.46030 42.38136             iPad
3      Rock             NA  Fully shaded -72.46023 42.38139             iPad
4    Pebble             NA Mostly shaded -72.46015 42.38095             iPad
5      Rock             NA Mostly shaded -72.46034 42.38105             iPad
6      Rock             NA  Fully shaded -72.46009 42.38094             iPad
  totalDischarge        flowTime_EST
1           1.56                &lt;NA&gt;
2           1.56                &lt;NA&gt;
3           1.49 2024-06-11 08:32:26
4           0.07 2024-06-11 09:42:47
5           0.07 2024-06-11 09:42:47
6           0.07 2024-06-11 09:42:47</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_1, </span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_1.csv"</span>, </span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey and flow data for week 2</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>fish_survey_2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_2.csv"</span>)</span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>flow_tracker_2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_2.csv"</span>)</span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-5"><a href="#cb117-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets by shift and river columns</span></span>
<span id="cb117-6"><a href="#cb117-6" aria-hidden="true" tabindex="-1"></a>fish_flow_2 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_survey_2, flow_tracker_2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"river"</span>))</span>
<span id="cb117-7"><a href="#cb117-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-8"><a href="#cb117-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb117-9"><a href="#cb117-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST  river shift tagID power habitat  habitatExtra position
1 2024-06-17 11:33:00 DICKEY   day    31    NA    Pool                 Center
2 2024-06-17 11:57:00 DICKEY   day    46    NA     Run                  Right
3 2024-06-17 11:59:00 DICKEY   day    29    NA  Riffle  Woody_debris     Left
4 2024-06-17 12:10:00 DICKEY   day    26    NA     Run Undercut_bank    Right
5 2024-06-17 12:47:00 DICKEY   day    28    NA    Pool                   Left
6 2024-06-17 12:49:00 DICKEY   day    37    NA    Pool                  Right
  substrate substrateExtra          shade       lon      lat fishNotes source
1      Rock             NA  Mostly shaded -72.37084 42.44394             iPad
2    Pebble             NA Lightly shaded -72.37173 42.44421             iPad
3      Rock             NA   Fully shaded -72.37194 42.44430             iPad
4      Rock             NA Lightly shaded -72.37344 42.44421             iPad
5   Boulder             NA  Mostly shaded -72.37040 42.44369             iPad
6      Rock             NA  Mostly shaded -72.37038 42.44377             iPad
  totalDischarge        flowTime_EST
1           0.03 2024-06-17 12:35:22
2           0.03 2024-06-17 12:35:22
3           0.03 2024-06-17 12:35:22
4           0.03 2024-06-17 12:35:22
5           0.03 2024-06-17 12:35:22
6           0.03 2024-06-17 12:35:22</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_2, </span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_2.csv"</span>, </span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey and flow data for week 3</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>fish_survey_3 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_3.csv"</span>)</span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>flow_tracker_3 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_3.csv"</span>)</span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets by shift and river columns</span></span>
<span id="cb120-6"><a href="#cb120-6" aria-hidden="true" tabindex="-1"></a>fish_flow_3 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_survey_3, flow_tracker_3, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"river"</span>))</span>
<span id="cb120-7"><a href="#cb120-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-8"><a href="#cb120-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb120-9"><a href="#cb120-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST     river shift tagID power habitat
1 2024-06-25 05:59:00 DRY UPPER   day    55    NA    Pool
2 2024-06-25 06:02:00 DRY UPPER   day    16    NA    Pool
3 2024-06-25 06:07:00 DRY UPPER   day    53    NA    Pool
4 2024-06-25 06:11:00 DRY UPPER   day    22    NA    Pool
5 2024-06-25 06:20:00 DRY UPPER   day    21    NA    Pool
6 2024-06-25 06:21:00 DRY UPPER   day    25    NA    Pool
                habitatExtra position substrate substrateExtra          shade
1               Woody_debris   Center      Rock             NA  Mostly shaded
2               Woody_debris    Right       Mud             NA  Mostly shaded
3               Woody_debris    Right       Mud             NA  Mostly shaded
4   Root_bundle,Woody_debris     Left       Mud             NA Lightly shaded
5 Woody_debris,Undercut_bank    Right      Rock             NA  Mostly shaded
6 Undercut_bank,Woody_debris    Right      Rock             NA  Mostly shaded
        lon      lat fishNotes source totalDischarge        flowTime_EST
1 -72.50451 42.66767             iPad           0.03 2024-06-25 07:21:55
2 -72.50455 42.66774             iPad           0.03 2024-06-25 07:21:55
3 -72.50451 42.66761             iPad           0.03 2024-06-25 07:21:55
4 -72.50445 42.66767             iPad           0.03 2024-06-25 07:21:55
5 -72.50506 42.66704             iPad           0.03 2024-06-25 07:21:55
6 -72.50507 42.66704             iPad           0.03 2024-06-25 07:21:55</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_3, </span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_3.csv"</span>, </span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey and flow data for week 4</span></span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a>fish_survey_4 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_4.csv"</span>)</span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a>flow_tracker_4 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_4.csv"</span>)</span>
<span id="cb123-4"><a href="#cb123-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-5"><a href="#cb123-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets by shift and river columns</span></span>
<span id="cb123-6"><a href="#cb123-6" aria-hidden="true" tabindex="-1"></a>fish_flow_4 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_survey_4, flow_tracker_4, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"river"</span>))</span>
<span id="cb123-7"><a href="#cb123-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-8"><a href="#cb123-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb123-9"><a href="#cb123-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST     river shift tagID power habitat
1 2024-06-30 04:39:00 DRY UPPER   day    22    NA    Pool
2 2024-06-30 04:42:00 DRY UPPER   day    16    NA    Pool
3 2024-06-30 04:43:00 DRY UPPER   day    55    NA    Pool
4 2024-06-30 04:50:00 DRY UPPER   day    21    NA    Pool
5 2024-06-30 04:51:00 DRY UPPER   day    25    NA    Pool
6 2024-06-30 04:51:00 DRY UPPER   day    24    NA    Pool
                habitatExtra position substrate substrateExtra         shade
1                Root_bundle     Left        NA       Rock,Mud         Night
2               Woody_debris    Right        NA            Mud  Fully shaded
3               Woody_debris    Right        NA            Mud  Fully shaded
4 Woody_debris,Undercut_bank    Right        NA            Mud Mostly shaded
5 Undercut_bank,Woody_debris    Right        NA            Mud  Fully shaded
6 Undercut_bank,Woody_debris    Right        NA            Mud  Fully shaded
        lon      lat fishNotes source totalDischarge        flowTime_EST
1 -72.50457 42.66769             iPad           0.33 2024-06-30 05:23:29
2 -72.50448 42.66760             iPad           0.33 2024-06-30 05:23:29
3 -72.50453 42.66762             iPad           0.33 2024-06-30 05:23:29
4 -72.50514 42.66698             iPad           0.33 2024-06-30 05:23:29
5 -72.50509 42.66699             iPad           0.33 2024-06-30 05:23:29
6 -72.50508 42.66702             iPad           0.33 2024-06-30 05:23:29</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_4, </span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_4.csv"</span>, </span>
<span id="cb125-4"><a href="#cb125-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey and flow data for week 5</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>fish_survey_5 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_5.csv"</span>)</span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a>flow_tracker_5 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_5.csv"</span>)</span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-5"><a href="#cb126-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets by shift and river columns</span></span>
<span id="cb126-6"><a href="#cb126-6" aria-hidden="true" tabindex="-1"></a>fish_flow_5 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_survey_5, flow_tracker_5, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"river"</span>))</span>
<span id="cb126-7"><a href="#cb126-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-8"><a href="#cb126-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb126-9"><a href="#cb126-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST     river shift tagID power habitat  habitatExtra
1 2024-07-09 07:30:00 UNDERHILL   day    41    NA  Riffle              
2 2024-07-09 07:49:00 UNDERHILL   day    40    NA  Riffle  Woody_debris
3 2024-07-09 07:57:00 UNDERHILL   day    34    NA  Riffle              
4 2024-07-09 08:08:00 UNDERHILL   day    33    NA  Riffle Undercut_bank
5 2024-07-09 08:18:00 UNDERHILL   day    36    NA    Pool              
6 2024-07-09 08:25:00 UNDERHILL   day    27    NA  Riffle              
  position substrate   substrateExtra         shade       lon      lat
1   Center        NA             Rock  Fully shaded -72.32447 42.44488
2                 NA      Rock,Pebble Mostly shaded -72.32513 42.44510
3   Center        NA             Rock               -72.32645 42.44537
4    Right        NA             Rock Mostly shaded -72.32624 42.44533
5   Center        NA Rock,Pebble,Sand Mostly shaded -72.32752 42.44626
6   Center        NA             Rock Mostly shaded -72.32780 42.44521
                                           fishNotes source totalDischarge
1                                                      iPad           2.78
2                                                      iPad           2.78
3                                                      iPad           2.78
4                                                      iPad           2.78
5 Moved up from where we thought it might have died.   iPad           2.78
6                                                      iPad           2.78
         flowTime_EST
1 2024-07-09 09:13:28
2 2024-07-09 09:13:28
3 2024-07-09 09:13:28
4 2024-07-09 09:13:28
5 2024-07-09 09:13:28
6 2024-07-09 09:13:28</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_5, </span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_5.csv"</span>, </span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey and flow data for week 6</span></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>fish_survey_6 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_6.csv"</span>)</span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a>flow_tracker_6 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_6.csv"</span>)</span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets by shift and river columns</span></span>
<span id="cb129-6"><a href="#cb129-6" aria-hidden="true" tabindex="-1"></a>fish_flow_6 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_survey_6, flow_tracker_6, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"river"</span>))</span>
<span id="cb129-7"><a href="#cb129-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-8"><a href="#cb129-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb129-9"><a href="#cb129-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_6)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST  river shift tagID power habitat habitatExtra position
1 2024-07-16 03:49:00 DICKEY   day    31    NA  Riffle                Center
2 2024-07-16 03:58:00 DICKEY   day    28    NA    Pool                Center
3 2024-07-16 04:04:00 DICKEY   day    26    NA  Riffle                Center
4 2024-07-16 04:05:00 DICKEY   day    37    NA  Riffle                Center
5 2024-07-16 05:17:00 DICKEY   day    31    NA  Riffle                Center
6 2024-07-16 05:21:00 DICKEY   day    28    NA    Pool                Center
  substrate   substrateExtra        shade       lon      lat fishNotes source
1        NA             Rock        Night -72.37121 42.44408             iPad
2        NA         Sand,Mud        Night -72.37056 42.44364             iPad
3        NA             Rock        Night -72.37030 42.44345             iPad
4        NA             Rock Fully shaded -72.37018 42.44342             iPad
5        NA        Rock,Sand Fully shaded -72.37132 42.44393             iPad
6        NA Rock,Pebble,Sand Fully shaded -72.37059 42.44357             iPad
  totalDischarge        flowTime_EST
1           1.17 2024-07-16 05:02:37
2           1.17 2024-07-16 05:02:37
3           1.17 2024-07-16 05:02:37
4           1.17 2024-07-16 05:02:37
5           1.17 2024-07-16 05:02:37
6           1.17 2024-07-16 05:02:37</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_6, </span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_6.csv"</span>, </span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey and flow data for week 7</span></span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>fish_survey_7 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_7.csv"</span>)</span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a>flow_tracker_7 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_7.csv"</span>)</span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-5"><a href="#cb132-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets by shift and river columns</span></span>
<span id="cb132-6"><a href="#cb132-6" aria-hidden="true" tabindex="-1"></a>fish_flow_7 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_survey_7, flow_tracker_7, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"river"</span>))</span>
<span id="cb132-7"><a href="#cb132-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-8"><a href="#cb132-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb132-9"><a href="#cb132-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_7)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST     river shift tagID power habitat
1 2024-07-23 07:28:00 DRY UPPER   day  39.1    NA    Pool
2 2024-07-23 07:56:00 DRY UPPER   day  46.1    NA        
3 2024-07-23 08:07:00 DRY UPPER   day  29.1    NA  Riffle
4 2024-07-23 08:44:00 DRY UPPER   day  30.1    NA    Pool
5 2024-07-23 08:52:00 DRY UPPER   day  16.0    NA    Pool
6 2024-07-23 09:06:00 DRY UPPER   day  55.0    NA    Pool
                habitatExtra position substrate substrateExtra         shade
1               Woody_debris    Right        NA      Rock,Sand Mostly shaded
2                                            NA                             
3                                Left        NA                Mostly shaded
4               Woody_debris     Left        NA            Mud Mostly shaded
5 Woody_debris,Undercut_bank    Right        NA       Mud,Sand  Fully shaded
6               Woody_debris                 NA      Rock,Sand Mostly shaded
        lon      lat                                  fishNotes source
1 -72.50687 42.66812                                              iPad
2 -72.50700 42.66827                                       Dead   iPad
3 -72.50598 42.66837 Very shallow water. Can’t see fish or tag.   iPad
4 -72.50495 42.66817                                              iPad
5 -72.50460 42.66775                          Up under cutback.   iPad
6 -72.50408 42.66603                              Dead have tag   iPad
  totalDischarge        flowTime_EST
1           0.13 2024-07-23 08:27:20
2           0.13 2024-07-23 08:27:20
3           0.13 2024-07-23 08:27:20
4           0.13 2024-07-23 08:27:20
5           0.13 2024-07-23 08:27:20
6           0.13 2024-07-23 08:27:20</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_7, </span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_7.csv"</span>, </span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey and flow data for week 8</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>fish_survey_8 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_8.csv"</span>)</span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a>flow_tracker_8 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_8.csv"</span>)</span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets by shift and river columns</span></span>
<span id="cb135-6"><a href="#cb135-6" aria-hidden="true" tabindex="-1"></a>fish_flow_8 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_survey_8, flow_tracker_8, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"river"</span>))</span>
<span id="cb135-7"><a href="#cb135-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-8"><a href="#cb135-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb135-9"><a href="#cb135-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_8)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST  river shift tagID power habitat habitatExtra position
1 2024-07-30 04:07:00 DICKEY   day    31    NA  Riffle                 Right
2 2024-07-30 04:15:00 DICKEY   day    26    NA  Riffle                Center
3 2024-07-30 04:16:00 DICKEY   day    37    NA  Riffle                Center
4 2024-07-30 04:38:00 DICKEY   day    38    NA     Run                 Right
5 2024-07-30 04:42:00 DICKEY   day    32    NA    Pool                  Left
6 2024-07-30 05:25:00 DICKEY   day    38    NA  Riffle                  Left
  substrate substrateExtra          shade       lon      lat
1        NA    Pebble,Rock          Night -72.37116 42.44418
2        NA    Rock,Pebble          Night -72.37034 42.44352
3        NA    Rock,Pebble          Night -72.37032 42.44350
4        NA    Rock,Pebble          Night -72.37335 42.44441
5        NA         Pebble          Night -72.37354 42.44406
6        NA    Rock,Pebble Lightly shaded -72.37340 42.44449
                                               fishNotes source totalDischarge
1                                                          iPad           1.13
2                                                          iPad           1.13
3                                                          iPad           1.13
4                                                          iPad           1.13
5 Dead.found on river left side of pool buried n gravel.   iPad           1.13
6                                           May be dead    iPad           1.13
         flowTime_EST
1 2024-07-30 04:50:14
2 2024-07-30 04:50:14
3 2024-07-30 04:50:14
4 2024-07-30 04:50:14
5 2024-07-30 04:50:14
6 2024-07-30 04:50:14</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_8, </span>
<span id="cb137-3"><a href="#cb137-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_8.csv"</span>, </span>
<span id="cb137-4"><a href="#cb137-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey and flow data for week 9</span></span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>fish_survey_9 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_9.csv"</span>)</span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a>flow_tracker_9 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_9.csv"</span>)</span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets by shift and river columns</span></span>
<span id="cb138-6"><a href="#cb138-6" aria-hidden="true" tabindex="-1"></a>fish_flow_9 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_survey_9, flow_tracker_9, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"river"</span>))</span>
<span id="cb138-7"><a href="#cb138-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-8"><a href="#cb138-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb138-9"><a href="#cb138-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_9)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST     river shift tagID power habitat
1 2024-08-05 11:06:00 DRY UPPER   day    49   174    Pool
2 2024-08-05 11:35:00 DRY UPPER   day    47    NA        
3 2024-08-05 11:37:00 DRY UPPER   day    47    54        
4 2024-08-06 07:41:00 UNDERHILL   day    33    NA  Riffle
5 2024-08-06 07:47:00 UNDERHILL   day    45    NA    Pool
6 2024-08-06 07:53:00 UNDERHILL   day    44    NA    Pool
                habitatExtra position substrate      substrateExtra
1 Woody_debris,Undercut_bank                 NA Granule,Pebble,Sand
2                                            NA                    
3                                            NA                    
4               Woody_debris   Center        NA         Pebble,Rock
5                              Center        NA      Pebble,Granule
6               Woody_debris   Center        NA           Rock,Sand
           shade       lon      lat
1 Lightly shaded -72.50352 42.65114
2                -72.50353 42.65375
3                -72.50367 42.65407
4  Mostly shaded -72.32640 42.44531
5  Mostly shaded -72.32773 42.44515
6  Mostly shaded -72.32803 42.44488
                                                                         fishNotes
1              Bunch of fish swimming around, moving too much to get a good signal
2 Lost signal, signal was strongest (74) back at the clearing with the pine trees 
3                                                                                 
4                                                            Same so as last week.
5                                                                                 
6                                                                                 
  source totalDischarge        flowTime_EST
1   iPad           0.25 2024-08-07 08:20:43
2   iPad           0.25 2024-08-07 08:20:43
3   iPad           0.25 2024-08-07 08:20:43
4   iPad           0.04 2024-08-06 08:06:36
5   iPad           0.04 2024-08-06 08:06:36
6   iPad           0.04 2024-08-06 08:06:36</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_9, </span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_9.csv"</span>, </span>
<span id="cb140-4"><a href="#cb140-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey and flow data for week 10</span></span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a>fish_survey_10 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_10.csv"</span>)</span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a>flow_tracker_10 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_10.csv"</span>)</span>
<span id="cb141-4"><a href="#cb141-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-5"><a href="#cb141-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets by shift and river columns</span></span>
<span id="cb141-6"><a href="#cb141-6" aria-hidden="true" tabindex="-1"></a>fish_flow_10 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_survey_10, flow_tracker_10, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"river"</span>))</span>
<span id="cb141-7"><a href="#cb141-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-8"><a href="#cb141-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb141-9"><a href="#cb141-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_10)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST    river shift tagID power habitat habitatExtra position
1 2024-08-13 04:25:00   BUFFAM   day    60    NA     Run                Center
2 2024-08-13 04:31:00   BUFFAM   day    18    NA     Run                Center
3 2024-08-13 04:32:00   BUFFAM   day    14    NA  Riffle                Center
4 2024-08-13 04:34:00   HARRIS   day    20    NA     Run Woody_debris   Center
5 2024-08-13 04:41:00 AMETHYST   day    19    NA  Riffle                Center
6 2024-08-13 05:15:00   BUFFAM   day    60    NA     Run                Center
  substrate    substrateExtra        shade       lon      lat fishNotes source
1        NA         Sand,Rock        Night -72.45838 42.38205             iPad
2        NA Sand,Boulder,Rock        Night -72.45979 42.38119             iPad
3        NA      Rock,Boulder        Night -72.46000 42.38136             iPad
4        NA           Boulder        Night -72.46033 42.38118             iPad
5        NA              Rock        Night -72.46088 42.38150             iPad
6        NA         Sand,Rock Fully shaded -72.45866 42.38218             iPad
  totalDischarge        flowTime_EST
1           1.22 2024-08-13 04:57:46
2           1.22 2024-08-13 04:57:46
3           1.22 2024-08-13 04:57:46
4           3.16 2024-08-13 06:51:21
5           4.38                &lt;NA&gt;
6           1.22 2024-08-13 04:57:46</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_10, </span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_10.csv"</span>, </span>
<span id="cb143-4"><a href="#cb143-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey and flow data for week 11</span></span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a>fish_survey_11 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_11.csv"</span>)</span>
<span id="cb144-3"><a href="#cb144-3" aria-hidden="true" tabindex="-1"></a>flow_tracker_11 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_11.csv"</span>)</span>
<span id="cb144-4"><a href="#cb144-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-5"><a href="#cb144-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets by shift and river columns</span></span>
<span id="cb144-6"><a href="#cb144-6" aria-hidden="true" tabindex="-1"></a>fish_flow_11 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_survey_11, flow_tracker_11, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"river"</span>))</span>
<span id="cb144-7"><a href="#cb144-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-8"><a href="#cb144-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb144-9"><a href="#cb144-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_11)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST    river shift tagID power habitat habitatExtra position
1 2024-08-20 09:10:00 AMETHYST   day    19    NA  Riffle                Center
2 2024-08-20 09:39:00   HARRIS   day    20    NA  Riffle                  Left
3 2024-08-20 09:39:00   HARRIS   day    20    NA  Riffle                  Left
4 2024-08-20 09:54:00   BUFFAM   day    14    NA  Riffle                 Right
5 2024-08-20 09:54:00   BUFFAM   day    14    NA  Riffle                 Right
6 2024-08-20 10:40:00   BUFFAM   day    18    NA  Riffle                Center
  substrate       substrateExtra        shade       lon      lat fishNotes
1        NA                 Rock Fully shaded -72.46090 42.38157          
2        NA              Boulder Fully shaded -72.46016 42.38116          
3        NA              Boulder Fully shaded -72.46016 42.38116          
4        NA            Rock,Sand Fully shaded -72.46000 42.38126          
5        NA            Rock,Sand Fully shaded -72.46000 42.38126          
6        NA Rock,Boulder,Granule Fully shaded -72.45993 42.38124          
  source totalDischarge        flowTime_EST
1   iPad          21.70                &lt;NA&gt;
2   iPad          13.48 2024-08-20 09:56:27
3   iPad           3.87 2024-08-23 13:17:11
4   iPad           3.53 2024-08-20 11:41:46
5   iPad           0.82 2024-08-23 13:38:55
6   iPad           3.53 2024-08-20 11:41:46</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_11, </span>
<span id="cb146-3"><a href="#cb146-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_11.csv"</span>, </span>
<span id="cb146-4"><a href="#cb146-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey and flow data for week 12</span></span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>fish_survey_12 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_12.csv"</span>)</span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a>flow_tracker_12 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_12.csv"</span>)</span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-5"><a href="#cb147-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets by shift and river columns</span></span>
<span id="cb147-6"><a href="#cb147-6" aria-hidden="true" tabindex="-1"></a>fish_flow_12 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_survey_12, flow_tracker_12, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"river"</span>))</span>
<span id="cb147-7"><a href="#cb147-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-8"><a href="#cb147-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb147-9"><a href="#cb147-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_12)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST     river shift tagID power habitat habitatExtra position
1 2024-08-27 09:41:00 UNDERHILL   day    45    NA    Pool           NA    Right
2 2024-08-27 10:32:00 UNDERHILL   day    44    NA    Pool           NA   Center
3 2024-08-27 12:19:00 UNDERHILL   day    35    NA    Pool           NA   Center
  substrate              substrateExtra         shade       lon      lat
1        NA                   Sand,Rock  Fully shaded -72.32730 42.44535
2        NA                   Sand,Rock Mostly shaded -72.32805 42.44492
3        NA Boulder,Rock,Granule,Pebble Mostly shaded -72.32929 42.44359
                                                                              fishNotes
1                                                      Unsuccessful at finding shed tag
2                                                      Unsuccessful at finding shed tag
3 Unsuccessful at finding shed tag. It is most likely located in a hole under this rock
  source totalDischarge        flowTime_EST
1   iPad           0.03 2024-08-27 10:16:23
2   iPad           0.03 2024-08-27 10:16:23
3   iPad           0.03 2024-08-27 10:16:23</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_12, </span>
<span id="cb149-3"><a href="#cb149-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_12.csv"</span>, </span>
<span id="cb149-4"><a href="#cb149-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="preparing-lotek-data-files-for-analysis" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="preparing-lotek-data-files-for-analysis"><span class="header-section-number">2.6</span> Preparing lotek data files for analysis</h2>
<section id="lotek-receiver-000900-data" class="level3" data-number="2.6.1">
<h3 data-number="2.6.1" class="anchored" data-anchor-id="lotek-receiver-000900-data"><span class="header-section-number">2.6.1</span> Lotek receiver 000900 data</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ID Only Data ###########################################################</span></span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-3"><a href="#cb150-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the dataset</span></span>
<span id="cb150-4"><a href="#cb150-4" aria-hidden="true" tabindex="-1"></a>receiver_000900_raw_data <span class="ot">&lt;-</span> <span class="fu">read.delim</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawLotekData/000900/20240903/000900_20240903.txt"</span>)</span>
<span id="cb150-5"><a href="#cb150-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-6"><a href="#cb150-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename the single column in the dataset as "columnOne"</span></span>
<span id="cb150-7"><a href="#cb150-7" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(receiver_000900_raw_data) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"columnOne"</span>)</span>
<span id="cb150-8"><a href="#cb150-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-9"><a href="#cb150-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Detect the start of the row that says "ID Only Records:" and create a flag</span></span>
<span id="cb150-10"><a href="#cb150-10" aria-hidden="true" tabindex="-1"></a>receiver_000900_ID_data <span class="ot">&lt;-</span> receiver_000900_raw_data <span class="sc">%&gt;%</span> </span>
<span id="cb150-11"><a href="#cb150-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">column2 =</span> <span class="fu">ifelse</span>(columnOne <span class="sc">==</span> <span class="st">"ID Only Records:"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) </span>
<span id="cb150-12"><a href="#cb150-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-13"><a href="#cb150-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Detect the start of row that says "ID + GPS Positions:"</span></span>
<span id="cb150-14"><a href="#cb150-14" aria-hidden="true" tabindex="-1"></a>id_gps_row <span class="ot">&lt;-</span> <span class="fu">which</span>(receiver_000900_raw_data<span class="sc">$</span>columnOne <span class="sc">==</span> <span class="st">"ID + GPS Positions:"</span>)</span>
<span id="cb150-15"><a href="#cb150-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-16"><a href="#cb150-16" aria-hidden="true" tabindex="-1"></a><span class="co"># If "ID + GPS Positions:" is found, slice until the row before it</span></span>
<span id="cb150-17"><a href="#cb150-17" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">length</span>(id_gps_row) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb150-18"><a href="#cb150-18" aria-hidden="true" tabindex="-1"></a>  id_gps_row <span class="ot">&lt;-</span> id_gps_row[<span class="dv">1</span>] <span class="sc">-</span> <span class="dv">1</span>  <span class="co"># One row before "ID + GPS Positions:"</span></span>
<span id="cb150-19"><a href="#cb150-19" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb150-20"><a href="#cb150-20" aria-hidden="true" tabindex="-1"></a>  id_gps_row <span class="ot">&lt;-</span> <span class="fu">nrow</span>(receiver_000900_raw_data)  <span class="co"># If "ID + GPS Positions:" not found, slice till the bottom</span></span>
<span id="cb150-21"><a href="#cb150-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb150-22"><a href="#cb150-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-23"><a href="#cb150-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Slice out the ID data by detecting the start and extracting relevant rows</span></span>
<span id="cb150-24"><a href="#cb150-24" aria-hidden="true" tabindex="-1"></a>receiver_000900_ID_data <span class="ot">&lt;-</span> receiver_000900_ID_data <span class="sc">%&gt;%</span> </span>
<span id="cb150-25"><a href="#cb150-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>((<span class="fu">which</span>(<span class="fu">grepl</span>(<span class="dv">1</span>, receiver_000900_ID_data<span class="sc">$</span>column2)) <span class="sc">+</span> <span class="dv">2</span>) <span class="sc">:</span> id_gps_row)</span>
<span id="cb150-26"><a href="#cb150-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-27"><a href="#cb150-27" aria-hidden="true" tabindex="-1"></a>receiver_000900_ID_data <span class="ot">&lt;-</span> receiver_000900_ID_data <span class="sc">%&gt;%</span> </span>
<span id="cb150-28"><a href="#cb150-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Split the initial columns based on space separation</span></span>
<span id="cb150-29"><a href="#cb150-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(columnOne , </span>
<span id="cb150-30"><a href="#cb150-30" aria-hidden="true" tabindex="-1"></a>           <span class="fu">c</span>(<span class="st">"Date"</span>, <span class="st">"Time"</span>, <span class="st">"Channel"</span>, <span class="st">"Tag ID"</span>, <span class="st">"Antenna"</span>, <span class="st">"Power"</span>), </span>
<span id="cb150-31"><a href="#cb150-31" aria-hidden="true" tabindex="-1"></a>           <span class="at">extra =</span> <span class="st">"merge"</span>, </span>
<span id="cb150-32"><a href="#cb150-32" aria-hidden="true" tabindex="-1"></a>           <span class="at">sep =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">s+"</span>)</span>
<span id="cb150-33"><a href="#cb150-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb150-34"><a href="#cb150-34" aria-hidden="true" tabindex="-1"></a>receiver_000900_ID_data <span class="ot">&lt;-</span> receiver_000900_ID_data <span class="sc">%&gt;%</span> </span>
<span id="cb150-35"><a href="#cb150-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Select the columns for further processing</span></span>
<span id="cb150-36"><a href="#cb150-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">"Date"</span>, <span class="st">"Time"</span>, <span class="st">"Tag ID"</span>, <span class="st">"Power"</span>) </span>
<span id="cb150-37"><a href="#cb150-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-38"><a href="#cb150-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb150-39"><a href="#cb150-39" aria-hidden="true" tabindex="-1"></a>receiver_000900_ID_data<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(receiver_000900_ID_data<span class="sc">$</span>Date, </span>
<span id="cb150-40"><a href="#cb150-40" aria-hidden="true" tabindex="-1"></a>                                                         receiver_000900_ID_data<span class="sc">$</span>Time), </span>
<span id="cb150-41"><a href="#cb150-41" aria-hidden="true" tabindex="-1"></a>                                                   <span class="at">format=</span><span class="st">"%m/%d/%y %H:%M:%S"</span>,</span>
<span id="cb150-42"><a href="#cb150-42" aria-hidden="true" tabindex="-1"></a>                                                   <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb150-43"><a href="#cb150-43" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb150-44"><a href="#cb150-44" aria-hidden="true" tabindex="-1"></a><span class="co">#receiver_000900_ID_data &lt;- receiver_000900_ID_data %&gt;% </span></span>
<span id="cb150-45"><a href="#cb150-45" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Combine Date and Time columns into a single datetime in mdy_hms format</span></span>
<span id="cb150-46"><a href="#cb150-46" aria-hidden="true" tabindex="-1"></a>  <span class="co">#mutate(dateTime = mdy_hms(paste(Date, Time))) </span></span>
<span id="cb150-47"><a href="#cb150-47" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb150-48"><a href="#cb150-48" aria-hidden="true" tabindex="-1"></a>receiver_000900_ID_data <span class="ot">&lt;-</span> receiver_000900_ID_data <span class="sc">%&gt;%</span> </span>
<span id="cb150-49"><a href="#cb150-49" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rename "Tag ID' column as "tagID"</span></span>
<span id="cb150-50"><a href="#cb150-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span> <span class="st">"tagID"</span>, <span class="at">.cols =</span> <span class="st">`</span><span class="at">Tag ID</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb150-51"><a href="#cb150-51" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb150-52"><a href="#cb150-52" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rename "Date' column as "date"</span></span>
<span id="cb150-53"><a href="#cb150-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span> <span class="st">"date"</span>, <span class="at">.cols =</span> <span class="st">`</span><span class="at">Date</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb150-54"><a href="#cb150-54" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb150-55"><a href="#cb150-55" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rename "Power' column as "power"</span></span>
<span id="cb150-56"><a href="#cb150-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span> <span class="st">"power"</span>, <span class="at">.cols =</span> <span class="st">`</span><span class="at">Power</span><span class="st">`</span>)</span>
<span id="cb150-57"><a href="#cb150-57" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb150-58"><a href="#cb150-58" aria-hidden="true" tabindex="-1"></a>receiver_000900_ID_data <span class="ot">&lt;-</span> receiver_000900_ID_data <span class="sc">%&gt;%</span> </span>
<span id="cb150-59"><a href="#cb150-59" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Select the columns for further processing</span></span>
<span id="cb150-60"><a href="#cb150-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">"date"</span>, <span class="st">"tagID"</span>, <span class="st">"power"</span>, <span class="st">"dateTime_EST"</span>) </span>
<span id="cb150-61"><a href="#cb150-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-62"><a href="#cb150-62" aria-hidden="true" tabindex="-1"></a>receiver_000900_ID_data <span class="ot">&lt;-</span> receiver_000900_ID_data <span class="sc">%&gt;%</span></span>
<span id="cb150-63"><a href="#cb150-63" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Clean and format the data</span></span>
<span id="cb150-64"><a href="#cb150-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tagID =</span> <span class="fu">as.numeric</span>(tagID),</span>
<span id="cb150-65"><a href="#cb150-65" aria-hidden="true" tabindex="-1"></a>         <span class="at">power =</span> <span class="fu">as.numeric</span>(power),</span>
<span id="cb150-66"><a href="#cb150-66" aria-hidden="true" tabindex="-1"></a>         <span class="at">date =</span> <span class="fu">mdy</span>(date),</span>
<span id="cb150-67"><a href="#cb150-67" aria-hidden="true" tabindex="-1"></a>         <span class="at">source =</span> <span class="st">"lotek"</span>)</span>
<span id="cb150-68"><a href="#cb150-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-69"><a href="#cb150-69" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the date range</span></span>
<span id="cb150-70"><a href="#cb150-70" aria-hidden="true" tabindex="-1"></a>start_date <span class="ot">&lt;-</span> <span class="fu">ymd</span>(<span class="st">"2024-06-11"</span>)  </span>
<span id="cb150-71"><a href="#cb150-71" aria-hidden="true" tabindex="-1"></a>end_date <span class="ot">&lt;-</span> <span class="fu">ymd</span>(<span class="st">"2024-08-29"</span>)   </span>
<span id="cb150-72"><a href="#cb150-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-73"><a href="#cb150-73" aria-hidden="true" tabindex="-1"></a><span class="co"># Define specific days to filter out based on the non-tracking days on the calendar</span></span>
<span id="cb150-74"><a href="#cb150-74" aria-hidden="true" tabindex="-1"></a>days_to_exclude <span class="ot">&lt;-</span> <span class="fu">ymd</span>(<span class="fu">c</span>(<span class="st">"2024-06-21"</span>, <span class="st">"2024-06-24"</span>, <span class="st">"2024-07-04"</span>, <span class="st">"2024-07-05"</span>, </span>
<span id="cb150-75"><a href="#cb150-75" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"2024-07-08"</span>, <span class="st">"2024-07-15"</span>, <span class="st">"2024-07-22"</span>, <span class="st">"2024-07-29"</span>, </span>
<span id="cb150-76"><a href="#cb150-76" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"2024-08-12"</span>,<span class="st">"2024-08-19"</span>, <span class="st">"2024-08-28"</span>))</span>
<span id="cb150-77"><a href="#cb150-77" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb150-78"><a href="#cb150-78" aria-hidden="true" tabindex="-1"></a>receiver_000900_ID_data <span class="ot">&lt;-</span> receiver_000900_ID_data <span class="sc">%&gt;%</span> </span>
<span id="cb150-79"><a href="#cb150-79" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter by tagID range</span></span>
<span id="cb150-80"><a href="#cb150-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(tagID <span class="sc">&gt;</span> <span class="dv">10</span> <span class="sc">&amp;</span> tagID <span class="sc">&lt;</span> <span class="dv">63</span>) <span class="sc">%&gt;%</span></span>
<span id="cb150-81"><a href="#cb150-81" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb150-82"><a href="#cb150-82" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter by the date range</span></span>
<span id="cb150-83"><a href="#cb150-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(date <span class="sc">&gt;=</span> start_date <span class="sc">&amp;</span> date <span class="sc">&lt;=</span> end_date) <span class="sc">%&gt;%</span></span>
<span id="cb150-84"><a href="#cb150-84" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb150-85"><a href="#cb150-85" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter out the specified days</span></span>
<span id="cb150-86"><a href="#cb150-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(date <span class="sc">%in%</span> days_to_exclude))</span>
<span id="cb150-87"><a href="#cb150-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-88"><a href="#cb150-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-89"><a href="#cb150-89" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the date ranges for different rivers to account for retagging</span></span>
<span id="cb150-90"><a href="#cb150-90" aria-hidden="true" tabindex="-1"></a>river_date_ranges <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb150-91"><a href="#cb150-91" aria-hidden="true" tabindex="-1"></a>  <span class="at">river =</span> <span class="fu">c</span>(<span class="st">"AMETHYST"</span>, <span class="st">"UNDERHILL"</span>, <span class="st">"DICKEY"</span>, <span class="st">"DICKEY"</span>, </span>
<span id="cb150-92"><a href="#cb150-92" aria-hidden="true" tabindex="-1"></a>            <span class="st">"DRY UPPER"</span>, <span class="st">"DRY UPPER"</span>),</span>
<span id="cb150-93"><a href="#cb150-93" aria-hidden="true" tabindex="-1"></a>  <span class="at">tagID_range =</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="dv">59</span>, <span class="dv">60</span>, <span class="dv">56</span>, <span class="dv">14</span>, <span class="dv">61</span>, <span class="dv">20</span>, <span class="dv">12</span>, <span class="dv">15</span>, </span>
<span id="cb150-94"><a href="#cb150-94" aria-hidden="true" tabindex="-1"></a>                       <span class="dv">13</span>, <span class="dv">57</span>, <span class="dv">19</span>, <span class="dv">62</span>, <span class="dv">11</span>, <span class="dv">58</span>, <span class="dv">18</span>), </span>
<span id="cb150-95"><a href="#cb150-95" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">c</span>(<span class="dv">41</span>, <span class="dv">43</span>, <span class="dv">40</span>, <span class="dv">44</span>, <span class="dv">33</span>, <span class="dv">34</span>, <span class="dv">45</span>, <span class="dv">35</span>, <span class="dv">27</span>, <span class="dv">36</span>), </span>
<span id="cb150-96"><a href="#cb150-96" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">37</span>, <span class="dv">38</span>, <span class="dv">46</span>, <span class="dv">26</span>, <span class="dv">28</span>, <span class="dv">51</span>, <span class="dv">32</span>, <span class="dv">29</span>, <span class="dv">31</span>),</span>
<span id="cb150-97"><a href="#cb150-97" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">37</span>, <span class="dv">38</span>, <span class="dv">26</span>, <span class="dv">28</span>, <span class="dv">51</span>, <span class="dv">32</span>, <span class="dv">31</span>),</span>
<span id="cb150-98"><a href="#cb150-98" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">c</span>(<span class="dv">42</span>, <span class="dv">49</span>, <span class="dv">55</span>, <span class="dv">16</span>, <span class="dv">52</span>, <span class="dv">21</span>, <span class="dv">47</span>, <span class="dv">24</span>, </span>
<span id="cb150-99"><a href="#cb150-99" aria-hidden="true" tabindex="-1"></a>                       <span class="dv">48</span>, <span class="dv">22</span>, <span class="dv">17</span>, <span class="dv">25</span>, <span class="dv">54</span>, <span class="dv">23</span>, <span class="dv">53</span>),</span>
<span id="cb150-100"><a href="#cb150-100" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">c</span>(<span class="dv">29</span>, <span class="dv">30</span>, <span class="dv">46</span>, <span class="dv">39</span>)),</span>
<span id="cb150-101"><a href="#cb150-101" aria-hidden="true" tabindex="-1"></a>  <span class="at">start_date =</span> <span class="fu">ymd</span>(<span class="fu">c</span>(<span class="st">"2024-06-11"</span>, <span class="st">"2024-06-11"</span>, <span class="st">"2024-06-11"</span>, </span>
<span id="cb150-102"><a href="#cb150-102" aria-hidden="true" tabindex="-1"></a>                     <span class="st">"2024-07-18"</span>, <span class="st">"2024-06-11"</span>, <span class="st">"2024-07-18"</span>)),</span>
<span id="cb150-103"><a href="#cb150-103" aria-hidden="true" tabindex="-1"></a>  <span class="at">end_date =</span> <span class="fu">ymd</span>(<span class="fu">c</span>(<span class="st">"2024-08-29"</span>, <span class="st">"2024-08-29"</span>, <span class="st">"2024-07-17"</span>, </span>
<span id="cb150-104"><a href="#cb150-104" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"2024-08-29"</span>, <span class="st">"2024-08-29"</span>, <span class="st">"2024-08-29"</span>))</span>
<span id="cb150-105"><a href="#cb150-105" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb150-106"><a href="#cb150-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-107"><a href="#cb150-107" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to determine river based on tagID and date</span></span>
<span id="cb150-108"><a href="#cb150-108" aria-hidden="true" tabindex="-1"></a>assign_river <span class="ot">&lt;-</span> <span class="cf">function</span>(tagID, date) {</span>
<span id="cb150-109"><a href="#cb150-109" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter the river_date_ranges for matching tagID and date range</span></span>
<span id="cb150-110"><a href="#cb150-110" aria-hidden="true" tabindex="-1"></a>  river_info <span class="ot">&lt;-</span> river_date_ranges <span class="sc">%&gt;%</span></span>
<span id="cb150-111"><a href="#cb150-111" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">map_lgl</span>(tagID_range, <span class="sc">~</span> tagID <span class="sc">%in%</span> .) <span class="sc">&amp;</span> date <span class="sc">&gt;=</span> start_date <span class="sc">&amp;</span> date <span class="sc">&lt;=</span> end_date)</span>
<span id="cb150-112"><a href="#cb150-112" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb150-113"><a href="#cb150-113" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">nrow</span>(river_info) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb150-114"><a href="#cb150-114" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(river_info<span class="sc">$</span>river[<span class="dv">1</span>])  <span class="co"># Return the matching river</span></span>
<span id="cb150-115"><a href="#cb150-115" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb150-116"><a href="#cb150-116" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="st">"Unknown"</span>)  <span class="co"># Default for no match</span></span>
<span id="cb150-117"><a href="#cb150-117" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb150-118"><a href="#cb150-118" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb150-119"><a href="#cb150-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-120"><a href="#cb150-120" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure the 'date' column is in Date format</span></span>
<span id="cb150-121"><a href="#cb150-121" aria-hidden="true" tabindex="-1"></a>receiver_000900_ID_data<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">ymd</span>(receiver_000900_ID_data<span class="sc">$</span>date)</span>
<span id="cb150-122"><a href="#cb150-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-123"><a href="#cb150-123" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply the function to the data frame</span></span>
<span id="cb150-124"><a href="#cb150-124" aria-hidden="true" tabindex="-1"></a>receiver_000900_ID_data <span class="ot">&lt;-</span> receiver_000900_ID_data <span class="sc">%&gt;%</span></span>
<span id="cb150-125"><a href="#cb150-125" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">mapply</span>(assign_river, tagID, date))</span>
<span id="cb150-126"><a href="#cb150-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-127"><a href="#cb150-127" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove rows where river is "Unknown"</span></span>
<span id="cb150-128"><a href="#cb150-128" aria-hidden="true" tabindex="-1"></a>receiver_000900_ID_data <span class="ot">&lt;-</span> receiver_000900_ID_data <span class="sc">%&gt;%</span></span>
<span id="cb150-129"><a href="#cb150-129" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(river <span class="sc">!=</span> <span class="st">"Unknown"</span>)</span>
<span id="cb150-130"><a href="#cb150-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-131"><a href="#cb150-131" aria-hidden="true" tabindex="-1"></a>receiver_000900_ID_data <span class="ot">&lt;-</span> receiver_000900_ID_data <span class="sc">%&gt;%</span> </span>
<span id="cb150-132"><a href="#cb150-132" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Select the columns for the final dataframe</span></span>
<span id="cb150-133"><a href="#cb150-133" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">"tagID"</span>, <span class="st">"power"</span>, <span class="st">"dateTime_EST"</span>, <span class="st">"river"</span>, <span class="st">"date"</span>) </span>
<span id="cb150-134"><a href="#cb150-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-135"><a href="#cb150-135" aria-hidden="true" tabindex="-1"></a><span class="co"># View dataframe</span></span>
<span id="cb150-136"><a href="#cb150-136" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(receiver_000900_ID_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  tagID power        dateTime_EST     river       date
1    53    93 2024-06-25 18:53:37 DRY UPPER 2024-06-25
2    54    72 2024-06-25 18:53:39 DRY UPPER 2024-06-25
3    23   169 2024-06-25 22:50:34 DRY UPPER 2024-06-25
4    49   160 2024-06-25 22:50:35 DRY UPPER 2024-06-25
5    19   107 2024-06-26 05:23:35  AMETHYST 2024-06-26
6    59   104 2024-06-26 05:23:42  AMETHYST 2024-06-26</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ID + GPS Data ###########################################################</span></span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-3"><a href="#cb152-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the dataset</span></span>
<span id="cb152-4"><a href="#cb152-4" aria-hidden="true" tabindex="-1"></a>receiver_000900_raw_data <span class="ot">&lt;-</span> <span class="fu">read.delim</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawLotekData/000900/20240903/000900_20240903.txt"</span>)</span>
<span id="cb152-5"><a href="#cb152-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-6"><a href="#cb152-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename the single column in the dataset as "columnOne"</span></span>
<span id="cb152-7"><a href="#cb152-7" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(receiver_000900_raw_data) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"columnOne"</span>)</span>
<span id="cb152-8"><a href="#cb152-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-9"><a href="#cb152-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Detect the start of the row that says "ID + GPS Positions:" and create a flag</span></span>
<span id="cb152-10"><a href="#cb152-10" aria-hidden="true" tabindex="-1"></a>receiver_000900_GPS_data <span class="ot">&lt;-</span> receiver_000900_raw_data <span class="sc">%&gt;%</span> </span>
<span id="cb152-11"><a href="#cb152-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">column2 =</span> <span class="fu">ifelse</span>(columnOne <span class="sc">==</span> <span class="st">"ID + GPS Positions:"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) </span>
<span id="cb152-12"><a href="#cb152-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-13"><a href="#cb152-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Detect the start of row that says "End of Data" </span></span>
<span id="cb152-14"><a href="#cb152-14" aria-hidden="true" tabindex="-1"></a>end_of_data_row <span class="ot">&lt;-</span> <span class="fu">which</span>(receiver_000900_raw_data<span class="sc">$</span>columnOne <span class="sc">==</span> <span class="st">"End of Data"</span>)</span>
<span id="cb152-15"><a href="#cb152-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-16"><a href="#cb152-16" aria-hidden="true" tabindex="-1"></a><span class="co"># If "End of Data" is found, slice until the row before it</span></span>
<span id="cb152-17"><a href="#cb152-17" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">length</span>(end_of_data_row) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb152-18"><a href="#cb152-18" aria-hidden="true" tabindex="-1"></a>  end_of_data_row <span class="ot">&lt;-</span> end_of_data_row[<span class="dv">1</span>] <span class="sc">-</span> <span class="dv">1</span>  <span class="co"># One row before "End of data"</span></span>
<span id="cb152-19"><a href="#cb152-19" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb152-20"><a href="#cb152-20" aria-hidden="true" tabindex="-1"></a>  end_of_data_row <span class="ot">&lt;-</span> <span class="fu">nrow</span>(receiver_000900_raw_data)  <span class="co"># If "End of data" not found, slice till the bottom</span></span>
<span id="cb152-21"><a href="#cb152-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb152-22"><a href="#cb152-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-23"><a href="#cb152-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Slice out the GPS data by detecting the start and extracting relevant rows</span></span>
<span id="cb152-24"><a href="#cb152-24" aria-hidden="true" tabindex="-1"></a>receiver_000900_GPS_data <span class="ot">&lt;-</span> receiver_000900_GPS_data <span class="sc">%&gt;%</span> </span>
<span id="cb152-25"><a href="#cb152-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>((<span class="fu">which</span>(<span class="fu">grepl</span>(<span class="dv">1</span>, receiver_000900_GPS_data<span class="sc">$</span>column2)) <span class="sc">+</span> <span class="dv">2</span>) <span class="sc">:</span> end_of_data_row)</span>
<span id="cb152-26"><a href="#cb152-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-27"><a href="#cb152-27" aria-hidden="true" tabindex="-1"></a>receiver_000900_GPS_data <span class="ot">&lt;-</span> receiver_000900_GPS_data <span class="sc">%&gt;%</span> </span>
<span id="cb152-28"><a href="#cb152-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Split the initial columns based on space separation</span></span>
<span id="cb152-29"><a href="#cb152-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(columnOne , <span class="fu">c</span>(<span class="st">"Date"</span>, <span class="st">"Time"</span>, <span class="st">"Channel"</span>, <span class="st">"Tag ID"</span>, <span class="st">"Antenna"</span>, <span class="st">"Power"</span>), </span>
<span id="cb152-30"><a href="#cb152-30" aria-hidden="true" tabindex="-1"></a>           <span class="at">extra =</span> <span class="st">"merge"</span>, <span class="at">sep =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">s+"</span>)</span>
<span id="cb152-31"><a href="#cb152-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-32"><a href="#cb152-32" aria-hidden="true" tabindex="-1"></a>receiver_000900_GPS_data <span class="ot">&lt;-</span> receiver_000900_GPS_data <span class="sc">%&gt;%</span> </span>
<span id="cb152-33"><a href="#cb152-33" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Separate the "Power" column into power, latitude, and longitude</span></span>
<span id="cb152-34"><a href="#cb152-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(Power, <span class="fu">c</span>(<span class="st">"power"</span>, <span class="st">"lat"</span>, <span class="st">"lon"</span>), <span class="at">sep =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">s+"</span>) </span>
<span id="cb152-35"><a href="#cb152-35" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb152-36"><a href="#cb152-36" aria-hidden="true" tabindex="-1"></a>receiver_000900_GPS_data <span class="ot">&lt;-</span> receiver_000900_GPS_data <span class="sc">%&gt;%</span> </span>
<span id="cb152-37"><a href="#cb152-37" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Select the columns for further processing</span></span>
<span id="cb152-38"><a href="#cb152-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">"Date"</span>, <span class="st">"Time"</span>, <span class="st">"Tag ID"</span>, <span class="st">"power"</span>, <span class="st">"lon"</span>, <span class="st">"lat"</span>) </span>
<span id="cb152-39"><a href="#cb152-39" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb152-40"><a href="#cb152-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb152-41"><a href="#cb152-41" aria-hidden="true" tabindex="-1"></a>receiver_000900_GPS_data<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(receiver_000900_GPS_data<span class="sc">$</span>Date, </span>
<span id="cb152-42"><a href="#cb152-42" aria-hidden="true" tabindex="-1"></a>                                                          receiver_000900_GPS_data<span class="sc">$</span>Time), </span>
<span id="cb152-43"><a href="#cb152-43" aria-hidden="true" tabindex="-1"></a>                                                    <span class="at">format=</span><span class="st">"%m/%d/%y %H:%M:%S"</span>,</span>
<span id="cb152-44"><a href="#cb152-44" aria-hidden="true" tabindex="-1"></a>                                                    <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb152-45"><a href="#cb152-45" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb152-46"><a href="#cb152-46" aria-hidden="true" tabindex="-1"></a>receiver_000900_GPS_data <span class="ot">&lt;-</span> receiver_000900_GPS_data <span class="sc">%&gt;%</span> </span>
<span id="cb152-47"><a href="#cb152-47" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rename "Tag ID' column as "tagID"</span></span>
<span id="cb152-48"><a href="#cb152-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span> <span class="st">"tagID"</span>, <span class="at">.cols =</span> <span class="st">`</span><span class="at">Tag ID</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb152-49"><a href="#cb152-49" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb152-50"><a href="#cb152-50" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rename "Date' column as "date"</span></span>
<span id="cb152-51"><a href="#cb152-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span> <span class="st">"date"</span>, <span class="at">.cols =</span> <span class="st">`</span><span class="at">Date</span><span class="st">`</span>) </span>
<span id="cb152-52"><a href="#cb152-52" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb152-53"><a href="#cb152-53" aria-hidden="true" tabindex="-1"></a>receiver_000900_GPS_data <span class="ot">&lt;-</span> receiver_000900_GPS_data <span class="sc">%&gt;%</span> </span>
<span id="cb152-54"><a href="#cb152-54" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Select the columns for further processing</span></span>
<span id="cb152-55"><a href="#cb152-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">"date"</span>, <span class="st">"tagID"</span>, <span class="st">"power"</span>,<span class="st">"lon"</span>, <span class="st">"lat"</span>, <span class="st">"dateTime_EST"</span>) </span>
<span id="cb152-56"><a href="#cb152-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-57"><a href="#cb152-57" aria-hidden="true" tabindex="-1"></a>receiver_000900_GPS_data <span class="ot">&lt;-</span> receiver_000900_GPS_data <span class="sc">%&gt;%</span></span>
<span id="cb152-58"><a href="#cb152-58" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Clean and format the data</span></span>
<span id="cb152-59"><a href="#cb152-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lat =</span> <span class="fu">as.numeric</span>(lat), </span>
<span id="cb152-60"><a href="#cb152-60" aria-hidden="true" tabindex="-1"></a>         <span class="at">lon =</span> <span class="fu">as.numeric</span>(lon),</span>
<span id="cb152-61"><a href="#cb152-61" aria-hidden="true" tabindex="-1"></a>         <span class="at">tagID =</span> <span class="fu">as.numeric</span>(tagID),</span>
<span id="cb152-62"><a href="#cb152-62" aria-hidden="true" tabindex="-1"></a>         <span class="at">power =</span> <span class="fu">as.numeric</span>(power),</span>
<span id="cb152-63"><a href="#cb152-63" aria-hidden="true" tabindex="-1"></a>         <span class="at">date =</span> <span class="fu">mdy</span>(date),</span>
<span id="cb152-64"><a href="#cb152-64" aria-hidden="true" tabindex="-1"></a>         <span class="at">source =</span> <span class="st">"lotek"</span>)</span>
<span id="cb152-65"><a href="#cb152-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-66"><a href="#cb152-66" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the date range</span></span>
<span id="cb152-67"><a href="#cb152-67" aria-hidden="true" tabindex="-1"></a>start_date <span class="ot">&lt;-</span> <span class="fu">ymd</span>(<span class="st">"2024-06-11"</span>)  </span>
<span id="cb152-68"><a href="#cb152-68" aria-hidden="true" tabindex="-1"></a>end_date <span class="ot">&lt;-</span> <span class="fu">ymd</span>(<span class="st">"2024-08-29"</span>)   </span>
<span id="cb152-69"><a href="#cb152-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-70"><a href="#cb152-70" aria-hidden="true" tabindex="-1"></a><span class="co"># Define specific days to filter out based on the non-tracking days on the calendar</span></span>
<span id="cb152-71"><a href="#cb152-71" aria-hidden="true" tabindex="-1"></a>days_to_exclude <span class="ot">&lt;-</span> <span class="fu">ymd</span>(<span class="fu">c</span>(<span class="st">"2024-06-21"</span>, <span class="st">"2024-06-24"</span>, <span class="st">"2024-07-04"</span>, <span class="st">"2024-07-05"</span>, </span>
<span id="cb152-72"><a href="#cb152-72" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"2024-07-08"</span>, <span class="st">"2024-07-15"</span>, <span class="st">"2024-07-22"</span>, <span class="st">"2024-07-29"</span>, </span>
<span id="cb152-73"><a href="#cb152-73" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"2024-08-12"</span>,<span class="st">"2024-08-19"</span>, <span class="st">"2024-08-28"</span>))</span>
<span id="cb152-74"><a href="#cb152-74" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb152-75"><a href="#cb152-75" aria-hidden="true" tabindex="-1"></a>receiver_000900_GPS_data <span class="ot">&lt;-</span> receiver_000900_GPS_data <span class="sc">%&gt;%</span> </span>
<span id="cb152-76"><a href="#cb152-76" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter by tagID range</span></span>
<span id="cb152-77"><a href="#cb152-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(tagID <span class="sc">&gt;</span> <span class="dv">10</span> <span class="sc">&amp;</span> tagID <span class="sc">&lt;</span> <span class="dv">63</span>) <span class="sc">%&gt;%</span></span>
<span id="cb152-78"><a href="#cb152-78" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb152-79"><a href="#cb152-79" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter by the date range</span></span>
<span id="cb152-80"><a href="#cb152-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(date <span class="sc">&gt;=</span> start_date <span class="sc">&amp;</span> date <span class="sc">&lt;=</span> end_date) <span class="sc">%&gt;%</span></span>
<span id="cb152-81"><a href="#cb152-81" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb152-82"><a href="#cb152-82" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter out the specified days</span></span>
<span id="cb152-83"><a href="#cb152-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(date <span class="sc">%in%</span> days_to_exclude))</span>
<span id="cb152-84"><a href="#cb152-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-85"><a href="#cb152-85" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the date ranges for different rivers to account for retagging</span></span>
<span id="cb152-86"><a href="#cb152-86" aria-hidden="true" tabindex="-1"></a>river_date_ranges <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb152-87"><a href="#cb152-87" aria-hidden="true" tabindex="-1"></a>  <span class="at">river =</span> <span class="fu">c</span>(<span class="st">"AMETHYST"</span>, <span class="st">"UNDERHILL"</span>, <span class="st">"DICKEY"</span>, <span class="st">"DICKEY"</span>, </span>
<span id="cb152-88"><a href="#cb152-88" aria-hidden="true" tabindex="-1"></a>            <span class="st">"DRY UPPER"</span>, <span class="st">"DRY UPPER"</span>),</span>
<span id="cb152-89"><a href="#cb152-89" aria-hidden="true" tabindex="-1"></a>  <span class="at">tagID_range =</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="dv">59</span>, <span class="dv">60</span>, <span class="dv">56</span>, <span class="dv">14</span>, <span class="dv">61</span>, <span class="dv">20</span>, <span class="dv">12</span>, <span class="dv">15</span>, </span>
<span id="cb152-90"><a href="#cb152-90" aria-hidden="true" tabindex="-1"></a>                       <span class="dv">13</span>, <span class="dv">57</span>, <span class="dv">19</span>, <span class="dv">62</span>, <span class="dv">11</span>, <span class="dv">58</span>, <span class="dv">18</span>), </span>
<span id="cb152-91"><a href="#cb152-91" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">c</span>(<span class="dv">41</span>, <span class="dv">43</span>, <span class="dv">40</span>, <span class="dv">44</span>, <span class="dv">33</span>, <span class="dv">34</span>, <span class="dv">45</span>, <span class="dv">35</span>, <span class="dv">27</span>, <span class="dv">36</span>), </span>
<span id="cb152-92"><a href="#cb152-92" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">37</span>, <span class="dv">38</span>, <span class="dv">46</span>, <span class="dv">26</span>, <span class="dv">28</span>, <span class="dv">51</span>, <span class="dv">32</span>, <span class="dv">29</span>, <span class="dv">31</span>),</span>
<span id="cb152-93"><a href="#cb152-93" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">37</span>, <span class="dv">38</span>, <span class="dv">26</span>, <span class="dv">28</span>, <span class="dv">51</span>, <span class="dv">32</span>, <span class="dv">31</span>),</span>
<span id="cb152-94"><a href="#cb152-94" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">c</span>(<span class="dv">42</span>, <span class="dv">49</span>, <span class="dv">55</span>, <span class="dv">16</span>, <span class="dv">52</span>, <span class="dv">21</span>, <span class="dv">47</span>, <span class="dv">24</span>, </span>
<span id="cb152-95"><a href="#cb152-95" aria-hidden="true" tabindex="-1"></a>                       <span class="dv">48</span>, <span class="dv">22</span>, <span class="dv">17</span>, <span class="dv">25</span>, <span class="dv">54</span>, <span class="dv">23</span>, <span class="dv">53</span>),</span>
<span id="cb152-96"><a href="#cb152-96" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">c</span>(<span class="dv">29</span>, <span class="dv">30</span>, <span class="dv">46</span>, <span class="dv">39</span>)),</span>
<span id="cb152-97"><a href="#cb152-97" aria-hidden="true" tabindex="-1"></a>  <span class="at">start_date =</span> <span class="fu">ymd</span>(<span class="fu">c</span>(<span class="st">"2024-06-11"</span>, <span class="st">"2024-06-11"</span>, <span class="st">"2024-06-11"</span>, <span class="st">"2024-07-18"</span>, </span>
<span id="cb152-98"><a href="#cb152-98" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"2024-06-11"</span>, <span class="st">"2024-07-18"</span>)),</span>
<span id="cb152-99"><a href="#cb152-99" aria-hidden="true" tabindex="-1"></a>  <span class="at">end_date =</span> <span class="fu">ymd</span>(<span class="fu">c</span>(<span class="st">"2024-08-29"</span>, <span class="st">"2024-08-29"</span>, <span class="st">"2024-07-17"</span>, <span class="st">"2024-08-29"</span>, </span>
<span id="cb152-100"><a href="#cb152-100" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"2024-08-29"</span>, <span class="st">"2024-08-29"</span>))</span>
<span id="cb152-101"><a href="#cb152-101" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb152-102"><a href="#cb152-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-103"><a href="#cb152-103" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to determine river based on tagID and date</span></span>
<span id="cb152-104"><a href="#cb152-104" aria-hidden="true" tabindex="-1"></a>assign_river <span class="ot">&lt;-</span> <span class="cf">function</span>(tagID, date) {</span>
<span id="cb152-105"><a href="#cb152-105" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter the river_date_ranges for matching tagID and date range</span></span>
<span id="cb152-106"><a href="#cb152-106" aria-hidden="true" tabindex="-1"></a>  river_info <span class="ot">&lt;-</span> river_date_ranges <span class="sc">%&gt;%</span></span>
<span id="cb152-107"><a href="#cb152-107" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">map_lgl</span>(tagID_range, <span class="sc">~</span> tagID <span class="sc">%in%</span> .) <span class="sc">&amp;</span> date <span class="sc">&gt;=</span> start_date <span class="sc">&amp;</span> date <span class="sc">&lt;=</span> end_date)</span>
<span id="cb152-108"><a href="#cb152-108" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb152-109"><a href="#cb152-109" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">nrow</span>(river_info) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb152-110"><a href="#cb152-110" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(river_info<span class="sc">$</span>river[<span class="dv">1</span>])  <span class="co"># Return the matching river</span></span>
<span id="cb152-111"><a href="#cb152-111" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb152-112"><a href="#cb152-112" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="st">"Unknown"</span>)  <span class="co"># Default for no match</span></span>
<span id="cb152-113"><a href="#cb152-113" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb152-114"><a href="#cb152-114" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb152-115"><a href="#cb152-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-116"><a href="#cb152-116" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure the 'date' column is in Date format</span></span>
<span id="cb152-117"><a href="#cb152-117" aria-hidden="true" tabindex="-1"></a>receiver_000900_GPS_data<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">ymd</span>(receiver_000900_GPS_data<span class="sc">$</span>date)</span>
<span id="cb152-118"><a href="#cb152-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-119"><a href="#cb152-119" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply the function to the data frame</span></span>
<span id="cb152-120"><a href="#cb152-120" aria-hidden="true" tabindex="-1"></a>receiver_000900_GPS_data <span class="ot">&lt;-</span> receiver_000900_GPS_data <span class="sc">%&gt;%</span></span>
<span id="cb152-121"><a href="#cb152-121" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">mapply</span>(assign_river, tagID, date))</span>
<span id="cb152-122"><a href="#cb152-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-123"><a href="#cb152-123" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove rows where river is "Unknown"</span></span>
<span id="cb152-124"><a href="#cb152-124" aria-hidden="true" tabindex="-1"></a>receiver_000900_GPS_data <span class="ot">&lt;-</span> receiver_000900_GPS_data <span class="sc">%&gt;%</span></span>
<span id="cb152-125"><a href="#cb152-125" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(river <span class="sc">!=</span> <span class="st">"Unknown"</span>)</span>
<span id="cb152-126"><a href="#cb152-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-127"><a href="#cb152-127" aria-hidden="true" tabindex="-1"></a>receiver_000900_GPS_data <span class="ot">&lt;-</span> receiver_000900_GPS_data <span class="sc">%&gt;%</span> </span>
<span id="cb152-128"><a href="#cb152-128" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Select the columns for the final dataframe</span></span>
<span id="cb152-129"><a href="#cb152-129" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">"tagID"</span>, <span class="st">"power"</span>,<span class="st">"lon"</span>, <span class="st">"lat"</span>, <span class="st">"dateTime_EST"</span>, <span class="st">"river"</span>, <span class="st">"date"</span>)</span>
<span id="cb152-130"><a href="#cb152-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-131"><a href="#cb152-131" aria-hidden="true" tabindex="-1"></a><span class="co"># View dataframe</span></span>
<span id="cb152-132"><a href="#cb152-132" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(receiver_000900_GPS_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  tagID power       lon      lat        dateTime_EST     river       date
1    55    98 -72.50610 42.66795 2024-06-25 05:52:45 DRY UPPER 2024-06-25
2    16   103 -72.50556 42.66790 2024-06-25 05:53:15 DRY UPPER 2024-06-25
3    16   109 -72.50526 42.66778 2024-06-25 05:53:35 DRY UPPER 2024-06-25
4    55   102 -72.50514 42.66778 2024-06-25 05:53:45 DRY UPPER 2024-06-25
5    53    99 -72.50512 42.66777 2024-06-25 05:53:46 DRY UPPER 2024-06-25
6    55   121 -72.50498 42.66764 2024-06-25 05:54:05 DRY UPPER 2024-06-25</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine back into one dataframe ###########################################################</span></span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-3"><a href="#cb154-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the two final dataframes horizontally </span></span>
<span id="cb154-4"><a href="#cb154-4" aria-hidden="true" tabindex="-1"></a>receiver_000900_data <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(receiver_000900_ID_data, receiver_000900_GPS_data)</span>
<span id="cb154-5"><a href="#cb154-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-6"><a href="#cb154-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Clean workspace by removing excess variables</span></span>
<span id="cb154-7"><a href="#cb154-7" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(river_date_ranges, receiver_000900_raw_data, receiver_000900_ID_data, receiver_000900_GPS_data)</span>
<span id="cb154-8"><a href="#cb154-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-9"><a href="#cb154-9" aria-hidden="true" tabindex="-1"></a><span class="co"># View dataframe</span></span>
<span id="cb154-10"><a href="#cb154-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(receiver_000900_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  tagID power        dateTime_EST     river       date lon lat
1    53    93 2024-06-25 18:53:37 DRY UPPER 2024-06-25  NA  NA
2    54    72 2024-06-25 18:53:39 DRY UPPER 2024-06-25  NA  NA
3    23   169 2024-06-25 22:50:34 DRY UPPER 2024-06-25  NA  NA
4    49   160 2024-06-25 22:50:35 DRY UPPER 2024-06-25  NA  NA
5    19   107 2024-06-26 05:23:35  AMETHYST 2024-06-26  NA  NA
6    59   104 2024-06-26 05:23:42  AMETHYST 2024-06-26  NA  NA</code></pre>
</div>
</div>
</section>
<section id="lotek-receiver-000517-data" class="level3" data-number="2.6.2">
<h3 data-number="2.6.2" class="anchored" data-anchor-id="lotek-receiver-000517-data"><span class="header-section-number">2.6.2</span> Lotek receiver 000517 data</h3>
<p>No ID+GPS data on this receiver - No combination needed</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ID Only Data ###########################################################</span></span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-3"><a href="#cb156-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the dataset</span></span>
<span id="cb156-4"><a href="#cb156-4" aria-hidden="true" tabindex="-1"></a>receiver_000517_raw_data <span class="ot">&lt;-</span> <span class="fu">read.delim</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawLotekData/000517/20240912/000517_20240912.txt"</span>)</span>
<span id="cb156-5"><a href="#cb156-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-6"><a href="#cb156-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename the single column in the dataset as "columnOne"</span></span>
<span id="cb156-7"><a href="#cb156-7" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(receiver_000517_raw_data) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"columnOne"</span>)</span>
<span id="cb156-8"><a href="#cb156-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-9"><a href="#cb156-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Detect the start of the row that says "ID Only Records:" and create a flag</span></span>
<span id="cb156-10"><a href="#cb156-10" aria-hidden="true" tabindex="-1"></a>receiver_000517_ID_data <span class="ot">&lt;-</span> receiver_000517_raw_data <span class="sc">%&gt;%</span> </span>
<span id="cb156-11"><a href="#cb156-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">column2 =</span> <span class="fu">ifelse</span>(columnOne <span class="sc">==</span> <span class="st">"ID Only Records:"</span>, <span class="dv">1</span>, <span class="dv">0</span>)) </span>
<span id="cb156-12"><a href="#cb156-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-13"><a href="#cb156-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Detect the start of row that says "End of Data" </span></span>
<span id="cb156-14"><a href="#cb156-14" aria-hidden="true" tabindex="-1"></a>end_of_data_row <span class="ot">&lt;-</span> <span class="fu">which</span>(receiver_000517_raw_data<span class="sc">$</span>columnOne <span class="sc">==</span> <span class="st">"End of Data"</span>)</span>
<span id="cb156-15"><a href="#cb156-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-16"><a href="#cb156-16" aria-hidden="true" tabindex="-1"></a><span class="co"># If "End of Data" is found, slice until the row before it</span></span>
<span id="cb156-17"><a href="#cb156-17" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">length</span>(end_of_data_row) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb156-18"><a href="#cb156-18" aria-hidden="true" tabindex="-1"></a>  end_of_data_row <span class="ot">&lt;-</span> end_of_data_row[<span class="dv">1</span>] <span class="sc">-</span> <span class="dv">1</span>  <span class="co"># One row before "End of data"</span></span>
<span id="cb156-19"><a href="#cb156-19" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb156-20"><a href="#cb156-20" aria-hidden="true" tabindex="-1"></a>  end_of_data_row <span class="ot">&lt;-</span> <span class="fu">nrow</span>(receiver_000517_raw_data)  <span class="co"># If "End of data" not found, slice till the bottom</span></span>
<span id="cb156-21"><a href="#cb156-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb156-22"><a href="#cb156-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-23"><a href="#cb156-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Slice out the data by detecting the start and extracting relevant rows</span></span>
<span id="cb156-24"><a href="#cb156-24" aria-hidden="true" tabindex="-1"></a>receiver_000517_ID_data <span class="ot">&lt;-</span> receiver_000517_ID_data <span class="sc">%&gt;%</span> </span>
<span id="cb156-25"><a href="#cb156-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>((<span class="fu">which</span>(<span class="fu">grepl</span>(<span class="dv">1</span>, receiver_000517_ID_data<span class="sc">$</span>column2)) <span class="sc">+</span> <span class="dv">2</span>) <span class="sc">:</span> end_of_data_row)</span>
<span id="cb156-26"><a href="#cb156-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-27"><a href="#cb156-27" aria-hidden="true" tabindex="-1"></a>receiver_000517_ID_data <span class="ot">&lt;-</span> receiver_000517_ID_data <span class="sc">%&gt;%</span> </span>
<span id="cb156-28"><a href="#cb156-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Split the initial columns based on space separation</span></span>
<span id="cb156-29"><a href="#cb156-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(columnOne , <span class="fu">c</span>(<span class="st">"Date"</span>, <span class="st">"Time"</span>, <span class="st">"Channel"</span>, <span class="st">"Tag ID"</span>, <span class="st">"Antenna"</span>, <span class="st">"Power"</span>), </span>
<span id="cb156-30"><a href="#cb156-30" aria-hidden="true" tabindex="-1"></a>           <span class="at">extra =</span> <span class="st">"merge"</span>, <span class="at">sep =</span> <span class="st">"</span><span class="sc">\\</span><span class="st">s+"</span>)</span>
<span id="cb156-31"><a href="#cb156-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb156-32"><a href="#cb156-32" aria-hidden="true" tabindex="-1"></a>receiver_000517_ID_data <span class="ot">&lt;-</span> receiver_000517_ID_data <span class="sc">%&gt;%</span> </span>
<span id="cb156-33"><a href="#cb156-33" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Select the columns for further processing</span></span>
<span id="cb156-34"><a href="#cb156-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">"Date"</span>, <span class="st">"Time"</span>, <span class="st">"Tag ID"</span>, <span class="st">"Power"</span>) </span>
<span id="cb156-35"><a href="#cb156-35" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb156-36"><a href="#cb156-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb156-37"><a href="#cb156-37" aria-hidden="true" tabindex="-1"></a>receiver_000517_ID_data<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(receiver_000517_ID_data<span class="sc">$</span>Date, </span>
<span id="cb156-38"><a href="#cb156-38" aria-hidden="true" tabindex="-1"></a>                                                         receiver_000517_ID_data<span class="sc">$</span>Time), </span>
<span id="cb156-39"><a href="#cb156-39" aria-hidden="true" tabindex="-1"></a>                                                   <span class="at">format=</span><span class="st">"%m/%d/%y %H:%M:%S"</span>,</span>
<span id="cb156-40"><a href="#cb156-40" aria-hidden="true" tabindex="-1"></a>                                                   <span class="at">tz =</span> <span class="st">"EST"</span>) </span>
<span id="cb156-41"><a href="#cb156-41" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb156-42"><a href="#cb156-42" aria-hidden="true" tabindex="-1"></a>receiver_000517_ID_data <span class="ot">&lt;-</span> receiver_000517_ID_data <span class="sc">%&gt;%</span> </span>
<span id="cb156-43"><a href="#cb156-43" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rename "Tag ID' column as "tagID"</span></span>
<span id="cb156-44"><a href="#cb156-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span> <span class="st">"tagID"</span>, <span class="at">.cols =</span> <span class="st">`</span><span class="at">Tag ID</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb156-45"><a href="#cb156-45" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb156-46"><a href="#cb156-46" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rename "Date' column as "date"</span></span>
<span id="cb156-47"><a href="#cb156-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span> <span class="st">"date"</span>, <span class="at">.cols =</span> <span class="st">`</span><span class="at">Date</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb156-48"><a href="#cb156-48" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb156-49"><a href="#cb156-49" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rename "Power' column as "power"</span></span>
<span id="cb156-50"><a href="#cb156-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span> <span class="st">"power"</span>, <span class="at">.cols =</span> <span class="st">`</span><span class="at">Power</span><span class="st">`</span>)</span>
<span id="cb156-51"><a href="#cb156-51" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb156-52"><a href="#cb156-52" aria-hidden="true" tabindex="-1"></a>receiver_000517_ID_data <span class="ot">&lt;-</span> receiver_000517_ID_data <span class="sc">%&gt;%</span> </span>
<span id="cb156-53"><a href="#cb156-53" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Select the columns for further processing</span></span>
<span id="cb156-54"><a href="#cb156-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">"date"</span>, <span class="st">"tagID"</span>, <span class="st">"power"</span>, <span class="st">"dateTime_EST"</span>) </span>
<span id="cb156-55"><a href="#cb156-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-56"><a href="#cb156-56" aria-hidden="true" tabindex="-1"></a>receiver_000517_ID_data <span class="ot">&lt;-</span> receiver_000517_ID_data <span class="sc">%&gt;%</span></span>
<span id="cb156-57"><a href="#cb156-57" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Clean and format the data</span></span>
<span id="cb156-58"><a href="#cb156-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">tagID =</span> <span class="fu">as.numeric</span>(tagID),</span>
<span id="cb156-59"><a href="#cb156-59" aria-hidden="true" tabindex="-1"></a>         <span class="at">power =</span> <span class="fu">as.numeric</span>(power),</span>
<span id="cb156-60"><a href="#cb156-60" aria-hidden="true" tabindex="-1"></a>         <span class="at">date =</span> <span class="fu">mdy</span>(date),</span>
<span id="cb156-61"><a href="#cb156-61" aria-hidden="true" tabindex="-1"></a>         <span class="at">source =</span> <span class="st">"lotek"</span>)</span>
<span id="cb156-62"><a href="#cb156-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-63"><a href="#cb156-63" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the date range</span></span>
<span id="cb156-64"><a href="#cb156-64" aria-hidden="true" tabindex="-1"></a>start_date <span class="ot">&lt;-</span> <span class="fu">ymd</span>(<span class="st">"2024-06-11"</span>)  </span>
<span id="cb156-65"><a href="#cb156-65" aria-hidden="true" tabindex="-1"></a>end_date <span class="ot">&lt;-</span> <span class="fu">ymd</span>(<span class="st">"2024-08-29"</span>)   </span>
<span id="cb156-66"><a href="#cb156-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-67"><a href="#cb156-67" aria-hidden="true" tabindex="-1"></a><span class="co"># Define specific days to filter out based on the non-tracking days on the calendar</span></span>
<span id="cb156-68"><a href="#cb156-68" aria-hidden="true" tabindex="-1"></a>days_to_exclude <span class="ot">&lt;-</span> <span class="fu">ymd</span>(<span class="fu">c</span>(<span class="st">"2024-06-21"</span>, <span class="st">"2024-06-24"</span>, <span class="st">"2024-07-04"</span>, <span class="st">"2024-07-05"</span>, </span>
<span id="cb156-69"><a href="#cb156-69" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"2024-07-08"</span>, <span class="st">"2024-07-15"</span>, <span class="st">"2024-07-22"</span>, <span class="st">"2024-07-29"</span>, </span>
<span id="cb156-70"><a href="#cb156-70" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"2024-08-12"</span>,<span class="st">"2024-08-19"</span>, <span class="st">"2024-08-28"</span>))</span>
<span id="cb156-71"><a href="#cb156-71" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb156-72"><a href="#cb156-72" aria-hidden="true" tabindex="-1"></a>receiver_000517_ID_data <span class="ot">&lt;-</span> receiver_000517_ID_data <span class="sc">%&gt;%</span> </span>
<span id="cb156-73"><a href="#cb156-73" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter by tagID range</span></span>
<span id="cb156-74"><a href="#cb156-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(tagID <span class="sc">&gt;</span> <span class="dv">10</span> <span class="sc">&amp;</span> tagID <span class="sc">&lt;</span> <span class="dv">63</span>) <span class="sc">%&gt;%</span></span>
<span id="cb156-75"><a href="#cb156-75" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb156-76"><a href="#cb156-76" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter by the date range</span></span>
<span id="cb156-77"><a href="#cb156-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(date <span class="sc">&gt;=</span> start_date <span class="sc">&amp;</span> date <span class="sc">&lt;=</span> end_date) <span class="sc">%&gt;%</span></span>
<span id="cb156-78"><a href="#cb156-78" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb156-79"><a href="#cb156-79" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter out the specified days</span></span>
<span id="cb156-80"><a href="#cb156-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(date <span class="sc">%in%</span> days_to_exclude))</span>
<span id="cb156-81"><a href="#cb156-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-82"><a href="#cb156-82" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the date ranges for different rivers to account for retagging</span></span>
<span id="cb156-83"><a href="#cb156-83" aria-hidden="true" tabindex="-1"></a>river_date_ranges <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb156-84"><a href="#cb156-84" aria-hidden="true" tabindex="-1"></a>  <span class="at">river =</span> <span class="fu">c</span>(<span class="st">"AMETHYST"</span>, <span class="st">"UNDERHILL"</span>, <span class="st">"DICKEY"</span>, <span class="st">"DICKEY"</span>, </span>
<span id="cb156-85"><a href="#cb156-85" aria-hidden="true" tabindex="-1"></a>            <span class="st">"DRY UPPER"</span>, <span class="st">"DRY UPPER"</span>),</span>
<span id="cb156-86"><a href="#cb156-86" aria-hidden="true" tabindex="-1"></a>  <span class="at">tagID_range =</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="dv">59</span>, <span class="dv">60</span>, <span class="dv">56</span>, <span class="dv">14</span>, <span class="dv">61</span>, <span class="dv">20</span>, <span class="dv">12</span>, <span class="dv">15</span>, </span>
<span id="cb156-87"><a href="#cb156-87" aria-hidden="true" tabindex="-1"></a>                       <span class="dv">13</span>, <span class="dv">57</span>, <span class="dv">19</span>, <span class="dv">62</span>, <span class="dv">11</span>, <span class="dv">58</span>, <span class="dv">18</span>), </span>
<span id="cb156-88"><a href="#cb156-88" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">c</span>(<span class="dv">41</span>, <span class="dv">43</span>, <span class="dv">40</span>, <span class="dv">44</span>, <span class="dv">33</span>, <span class="dv">34</span>, <span class="dv">45</span>, <span class="dv">35</span>, <span class="dv">27</span>, <span class="dv">36</span>), </span>
<span id="cb156-89"><a href="#cb156-89" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">37</span>, <span class="dv">38</span>, <span class="dv">46</span>, <span class="dv">26</span>, <span class="dv">28</span>, <span class="dv">51</span>, <span class="dv">32</span>, <span class="dv">29</span>, <span class="dv">31</span>),</span>
<span id="cb156-90"><a href="#cb156-90" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">37</span>, <span class="dv">38</span>, <span class="dv">26</span>, <span class="dv">28</span>, <span class="dv">51</span>, <span class="dv">32</span>, <span class="dv">31</span>),</span>
<span id="cb156-91"><a href="#cb156-91" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">c</span>(<span class="dv">42</span>, <span class="dv">49</span>, <span class="dv">55</span>, <span class="dv">16</span>, <span class="dv">52</span>, <span class="dv">21</span>, <span class="dv">47</span>, <span class="dv">24</span>, </span>
<span id="cb156-92"><a href="#cb156-92" aria-hidden="true" tabindex="-1"></a>                       <span class="dv">48</span>, <span class="dv">22</span>, <span class="dv">17</span>, <span class="dv">25</span>, <span class="dv">54</span>, <span class="dv">23</span>, <span class="dv">53</span>),</span>
<span id="cb156-93"><a href="#cb156-93" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">c</span>(<span class="dv">29</span>, <span class="dv">30</span>, <span class="dv">46</span>, <span class="dv">39</span>)),</span>
<span id="cb156-94"><a href="#cb156-94" aria-hidden="true" tabindex="-1"></a>  <span class="at">start_date =</span> <span class="fu">ymd</span>(<span class="fu">c</span>(<span class="st">"2024-06-11"</span>, <span class="st">"2024-06-11"</span>, <span class="st">"2024-06-11"</span>, <span class="st">"2024-07-18"</span>, </span>
<span id="cb156-95"><a href="#cb156-95" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"2024-06-11"</span>, <span class="st">"2024-07-18"</span>)),</span>
<span id="cb156-96"><a href="#cb156-96" aria-hidden="true" tabindex="-1"></a>  <span class="at">end_date =</span> <span class="fu">ymd</span>(<span class="fu">c</span>(<span class="st">"2024-08-29"</span>, <span class="st">"2024-08-29"</span>, <span class="st">"2024-07-17"</span>, <span class="st">"2024-08-29"</span>, </span>
<span id="cb156-97"><a href="#cb156-97" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"2024-08-29"</span>, <span class="st">"2024-08-29"</span>))</span>
<span id="cb156-98"><a href="#cb156-98" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb156-99"><a href="#cb156-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-100"><a href="#cb156-100" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to determine river based on tagID and date</span></span>
<span id="cb156-101"><a href="#cb156-101" aria-hidden="true" tabindex="-1"></a>assign_river <span class="ot">&lt;-</span> <span class="cf">function</span>(tagID, date) {</span>
<span id="cb156-102"><a href="#cb156-102" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter the river_date_ranges for matching tagID and date range</span></span>
<span id="cb156-103"><a href="#cb156-103" aria-hidden="true" tabindex="-1"></a>  river_info <span class="ot">&lt;-</span> river_date_ranges <span class="sc">%&gt;%</span></span>
<span id="cb156-104"><a href="#cb156-104" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="fu">map_lgl</span>(tagID_range, <span class="sc">~</span> tagID <span class="sc">%in%</span> .) <span class="sc">&amp;</span> date <span class="sc">&gt;=</span> start_date <span class="sc">&amp;</span> date <span class="sc">&lt;=</span> end_date)</span>
<span id="cb156-105"><a href="#cb156-105" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb156-106"><a href="#cb156-106" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">nrow</span>(river_info) <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb156-107"><a href="#cb156-107" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(river_info<span class="sc">$</span>river[<span class="dv">1</span>])  <span class="co"># Return the matching river</span></span>
<span id="cb156-108"><a href="#cb156-108" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb156-109"><a href="#cb156-109" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="st">"Unknown"</span>)  <span class="co"># Default for no match</span></span>
<span id="cb156-110"><a href="#cb156-110" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb156-111"><a href="#cb156-111" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb156-112"><a href="#cb156-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-113"><a href="#cb156-113" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure the 'date' column is in Date format</span></span>
<span id="cb156-114"><a href="#cb156-114" aria-hidden="true" tabindex="-1"></a>receiver_000517_ID_data<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">ymd</span>(receiver_000517_ID_data<span class="sc">$</span>date)</span>
<span id="cb156-115"><a href="#cb156-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-116"><a href="#cb156-116" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply the function to the data frame</span></span>
<span id="cb156-117"><a href="#cb156-117" aria-hidden="true" tabindex="-1"></a>receiver_000517_ID_data <span class="ot">&lt;-</span> receiver_000517_ID_data <span class="sc">%&gt;%</span></span>
<span id="cb156-118"><a href="#cb156-118" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">mapply</span>(assign_river, tagID, date))</span>
<span id="cb156-119"><a href="#cb156-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-120"><a href="#cb156-120" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove rows where river is "Unknown"</span></span>
<span id="cb156-121"><a href="#cb156-121" aria-hidden="true" tabindex="-1"></a>receiver_000517_ID_data <span class="ot">&lt;-</span> receiver_000517_ID_data <span class="sc">%&gt;%</span></span>
<span id="cb156-122"><a href="#cb156-122" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(river <span class="sc">!=</span> <span class="st">"Unknown"</span>)</span>
<span id="cb156-123"><a href="#cb156-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-124"><a href="#cb156-124" aria-hidden="true" tabindex="-1"></a>receiver_000517_ID_data <span class="ot">&lt;-</span> receiver_000517_ID_data <span class="sc">%&gt;%</span> </span>
<span id="cb156-125"><a href="#cb156-125" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Select the columns for the final dataframe</span></span>
<span id="cb156-126"><a href="#cb156-126" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">"tagID"</span>, <span class="st">"power"</span>, <span class="st">"dateTime_EST"</span>, <span class="st">"river"</span>, <span class="st">"date"</span>) </span>
<span id="cb156-127"><a href="#cb156-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-128"><a href="#cb156-128" aria-hidden="true" tabindex="-1"></a><span class="co"># Clean workspace by removing excess variables</span></span>
<span id="cb156-129"><a href="#cb156-129" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(receiver_000517_raw_data, river_date_ranges)</span>
<span id="cb156-130"><a href="#cb156-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-131"><a href="#cb156-131" aria-hidden="true" tabindex="-1"></a><span class="co"># View dataframe</span></span>
<span id="cb156-132"><a href="#cb156-132" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(receiver_000517_ID_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  tagID power        dateTime_EST     river       date
1    33   178 2024-08-01 12:50:02 UNDERHILL 2024-08-01
2    33   190 2024-08-01 12:50:22 UNDERHILL 2024-08-01
3    33   170 2024-08-01 12:50:42 UNDERHILL 2024-08-01
4    33   175 2024-08-01 12:51:02 UNDERHILL 2024-08-01
5    33   166 2024-08-01 12:51:22 UNDERHILL 2024-08-01
6    33   187 2024-08-01 12:51:42 UNDERHILL 2024-08-01</code></pre>
</div>
</div>
</section>
<section id="combine-all-data-from-all-receivers" class="level3" data-number="2.6.3">
<h3 data-number="2.6.3" class="anchored" data-anchor-id="combine-all-data-from-all-receivers"><span class="header-section-number">2.6.3</span> Combine all data from all receivers</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine multiple receivers into one dataframe ########################################</span></span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb158-3"><a href="#cb158-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the two final dataframes horizontally</span></span>
<span id="cb158-4"><a href="#cb158-4" aria-hidden="true" tabindex="-1"></a>receiver_data_all <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(receiver_000900_data, receiver_000517_ID_data)</span>
<span id="cb158-5"><a href="#cb158-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb158-6"><a href="#cb158-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Clean workspace by removing excess variables</span></span>
<span id="cb158-7"><a href="#cb158-7" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(receiver_000900_data, receiver_000517_ID_data)</span>
<span id="cb158-8"><a href="#cb158-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb158-9"><a href="#cb158-9" aria-hidden="true" tabindex="-1"></a><span class="co"># View dataframe</span></span>
<span id="cb158-10"><a href="#cb158-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(receiver_data_all)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  tagID power        dateTime_EST     river       date lon lat
1    53    93 2024-06-25 18:53:37 DRY UPPER 2024-06-25  NA  NA
2    54    72 2024-06-25 18:53:39 DRY UPPER 2024-06-25  NA  NA
3    23   169 2024-06-25 22:50:34 DRY UPPER 2024-06-25  NA  NA
4    49   160 2024-06-25 22:50:35 DRY UPPER 2024-06-25  NA  NA
5    19   107 2024-06-26 05:23:35  AMETHYST 2024-06-26  NA  NA
6    59   104 2024-06-26 05:23:42  AMETHYST 2024-06-26  NA  NA</code></pre>
</div>
</div>
</section>
<section id="add-day-and-night-shift-differentiation-into-receiver-data" class="level3" data-number="2.6.4">
<h3 data-number="2.6.4" class="anchored" data-anchor-id="add-day-and-night-shift-differentiation-into-receiver-data"><span class="header-section-number">2.6.4</span> Add day and night shift differentiation into receiver data</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a>receiver_data_all <span class="ot">&lt;-</span> receiver_data_all <span class="sc">%&gt;%</span></span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb160-3"><a href="#cb160-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb160-4"><a href="#cb160-4" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Define shift for week 1</span></span>
<span id="cb160-5"><a href="#cb160-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">date</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-06-11"</span>) <span class="sc">&amp;</span> <span class="fu">date</span>(dateTime_EST) <span class="sc">&lt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-06-14"</span>) <span class="sc">&amp;</span></span>
<span id="cb160-6"><a href="#cb160-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">12</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb160-7"><a href="#cb160-7" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb160-8"><a href="#cb160-8" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Define shift for week 2</span></span>
<span id="cb160-9"><a href="#cb160-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">date</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-06-17"</span>) <span class="sc">&amp;</span> <span class="fu">date</span>(dateTime_EST) <span class="sc">&lt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-06-20"</span>) <span class="sc">&amp;</span></span>
<span id="cb160-10"><a href="#cb160-10" aria-hidden="true" tabindex="-1"></a>      <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">10</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">18</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb160-11"><a href="#cb160-11" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb160-12"><a href="#cb160-12" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Define shift for week 3</span></span>
<span id="cb160-13"><a href="#cb160-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">date</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-06-25"</span>) <span class="sc">&amp;</span> <span class="fu">date</span>(dateTime_EST) <span class="sc">&lt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-06-28"</span>) <span class="sc">&amp;</span></span>
<span id="cb160-14"><a href="#cb160-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">12</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb160-15"><a href="#cb160-15" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb160-16"><a href="#cb160-16" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Define shift for week 4</span></span>
<span id="cb160-17"><a href="#cb160-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">date</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-06-30"</span>) <span class="sc">&amp;</span> <span class="fu">date</span>(dateTime_EST) <span class="sc">&lt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-07-03"</span>) <span class="sc">&amp;</span></span>
<span id="cb160-18"><a href="#cb160-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">10</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb160-19"><a href="#cb160-19" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb160-20"><a href="#cb160-20" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Define shift for week 5</span></span>
<span id="cb160-21"><a href="#cb160-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">date</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-07-09"</span>) <span class="sc">&amp;</span> <span class="fu">date</span>(dateTime_EST) <span class="sc">&lt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-07-12"</span>) <span class="sc">&amp;</span></span>
<span id="cb160-22"><a href="#cb160-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">14</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb160-23"><a href="#cb160-23" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb160-24"><a href="#cb160-24" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Define shift for week 6</span></span>
<span id="cb160-25"><a href="#cb160-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">date</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-07-16"</span>) <span class="sc">&amp;</span> <span class="fu">date</span>(dateTime_EST) <span class="sc">&lt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-07-19"</span>) <span class="sc">&amp;</span></span>
<span id="cb160-26"><a href="#cb160-26" aria-hidden="true" tabindex="-1"></a>      <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">10</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb160-27"><a href="#cb160-27" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb160-28"><a href="#cb160-28" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Define shift for week 7</span></span>
<span id="cb160-29"><a href="#cb160-29" aria-hidden="true" tabindex="-1"></a>      <span class="fu">date</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-07-23"</span>) <span class="sc">&amp;</span> <span class="fu">date</span>(dateTime_EST) <span class="sc">&lt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-07-26"</span>) <span class="sc">&amp;</span></span>
<span id="cb160-30"><a href="#cb160-30" aria-hidden="true" tabindex="-1"></a>      <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">14</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb160-31"><a href="#cb160-31" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb160-32"><a href="#cb160-32" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Define shift for week 8</span></span>
<span id="cb160-33"><a href="#cb160-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">date</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-07-30"</span>) <span class="sc">&amp;</span> <span class="fu">date</span>(dateTime_EST) <span class="sc">&lt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-08-02"</span>) <span class="sc">&amp;</span></span>
<span id="cb160-34"><a href="#cb160-34" aria-hidden="true" tabindex="-1"></a>      <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">11</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb160-35"><a href="#cb160-35" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb160-36"><a href="#cb160-36" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Define shift for supplementary tracking on August 5, 2024</span></span>
<span id="cb160-37"><a href="#cb160-37" aria-hidden="true" tabindex="-1"></a>      <span class="fu">date</span>(dateTime_EST) <span class="sc">==</span> <span class="fu">ymd</span>(<span class="st">"2024-08-05"</span>) <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb160-38"><a href="#cb160-38" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb160-39"><a href="#cb160-39" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Define shift for week 9</span></span>
<span id="cb160-40"><a href="#cb160-40" aria-hidden="true" tabindex="-1"></a>      <span class="fu">date</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-08-06"</span>) <span class="sc">&amp;</span> <span class="fu">date</span>(dateTime_EST) <span class="sc">&lt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-08-09"</span>) <span class="sc">&amp;</span></span>
<span id="cb160-41"><a href="#cb160-41" aria-hidden="true" tabindex="-1"></a>      <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">14</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb160-42"><a href="#cb160-42" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb160-43"><a href="#cb160-43" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Define shift for week 10</span></span>
<span id="cb160-44"><a href="#cb160-44" aria-hidden="true" tabindex="-1"></a>      <span class="fu">date</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-08-13"</span>) <span class="sc">&amp;</span> <span class="fu">date</span>(dateTime_EST) <span class="sc">&lt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-08-16"</span>) <span class="sc">&amp;</span></span>
<span id="cb160-45"><a href="#cb160-45" aria-hidden="true" tabindex="-1"></a>      <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">3</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">11</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb160-46"><a href="#cb160-46" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb160-47"><a href="#cb160-47" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Define shift for week 11</span></span>
<span id="cb160-48"><a href="#cb160-48" aria-hidden="true" tabindex="-1"></a>      <span class="fu">date</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-08-20"</span>) <span class="sc">&amp;</span> <span class="fu">date</span>(dateTime_EST) <span class="sc">&lt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-08-23"</span>) <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb160-49"><a href="#cb160-49" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb160-50"><a href="#cb160-50" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Define shift for week 12</span></span>
<span id="cb160-51"><a href="#cb160-51" aria-hidden="true" tabindex="-1"></a>      <span class="fu">date</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-08-26"</span>) <span class="sc">&amp;</span> <span class="fu">date</span>(dateTime_EST) <span class="sc">&lt;=</span> <span class="fu">ymd</span>(<span class="st">"2024-08-29"</span>) <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb160-52"><a href="#cb160-52" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb160-53"><a href="#cb160-53" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Default to night shift for all other times</span></span>
<span id="cb160-54"><a href="#cb160-54" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span></span>
<span id="cb160-55"><a href="#cb160-55" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb160-56"><a href="#cb160-56" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb160-57"><a href="#cb160-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-58"><a href="#cb160-58" aria-hidden="true" tabindex="-1"></a>receiver_data_all <span class="ot">&lt;-</span> receiver_data_all <span class="sc">%&gt;%</span></span>
<span id="cb160-59"><a href="#cb160-59" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rename column</span></span>
<span id="cb160-60"><a href="#cb160-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">trackedTime_EST =</span> dateTime_EST,</span>
<span id="cb160-61"><a href="#cb160-61" aria-hidden="true" tabindex="-1"></a>         <span class="at">source =</span> <span class="st">"receiver"</span>)</span>
<span id="cb160-62"><a href="#cb160-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-63"><a href="#cb160-63" aria-hidden="true" tabindex="-1"></a>receiver_data_all <span class="ot">&lt;-</span> receiver_data_all <span class="sc">%&gt;%</span> </span>
<span id="cb160-64"><a href="#cb160-64" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Select the columns for the final dataframe</span></span>
<span id="cb160-65"><a href="#cb160-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">"date"</span>, <span class="st">"trackedTime_EST"</span>, <span class="st">"river"</span>, <span class="st">"shift"</span>, <span class="st">"tagID"</span>, <span class="st">"power"</span>, <span class="st">"lon"</span>, <span class="st">"lat"</span>, <span class="st">"source"</span>)</span>
<span id="cb160-66"><a href="#cb160-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-67"><a href="#cb160-67" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(receiver_data_all)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>        date     trackedTime_EST     river shift tagID power lon lat   source
1 2024-06-25 2024-06-25 18:53:37 DRY UPPER night    53    93  NA  NA receiver
2 2024-06-25 2024-06-25 18:53:39 DRY UPPER night    54    72  NA  NA receiver
3 2024-06-25 2024-06-25 22:50:34 DRY UPPER night    23   169  NA  NA receiver
4 2024-06-25 2024-06-25 22:50:35 DRY UPPER night    49   160  NA  NA receiver
5 2024-06-26 2024-06-26 05:23:35  AMETHYST   day    19   107  NA  NA receiver
6 2024-06-26 2024-06-26 05:23:42  AMETHYST   day    59   104  NA  NA receiver</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write the dataframe into a csv</span></span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(receiver_data_all, </span>
<span id="cb162-3"><a href="#cb162-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_all.csv"</span>, </span>
<span id="cb162-4"><a href="#cb162-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: Define specific date ranges for each week</span></span>
<span id="cb163-2"><a href="#cb163-2" aria-hidden="true" tabindex="-1"></a>week_ranges <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb163-3"><a href="#cb163-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">week_name =</span> <span class="fu">c</span>(<span class="st">"week_1"</span>, <span class="st">"week_2"</span>, <span class="st">"week_3"</span>, <span class="st">"week_4"</span>, <span class="st">"week_5"</span>, <span class="st">"week_6"</span>, <span class="st">"week_7"</span>, <span class="st">"week_8"</span>, <span class="st">"week_9"</span>, <span class="st">"week_10"</span>, <span class="st">"week_11"</span>, <span class="st">"week_12"</span>),  </span>
<span id="cb163-4"><a href="#cb163-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">start_date =</span> <span class="fu">ymd</span>(<span class="fu">c</span>(<span class="st">"2024-06-11"</span>, <span class="st">"2024-06-17"</span>, <span class="st">"2024-06-25"</span>, <span class="st">"2024-06-30"</span>, <span class="st">"2024-07-09"</span>, <span class="st">"2024-07-16"</span>, <span class="st">"2024-07-23"</span>, <span class="st">"2024-07-30"</span>, <span class="st">"2024-08-05"</span>, <span class="st">"2024-08-13"</span>, <span class="st">"2024-08-20"</span>, <span class="st">"2024-08-26"</span>)),</span>
<span id="cb163-5"><a href="#cb163-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">end_date =</span> <span class="fu">ymd</span>(<span class="fu">c</span>(<span class="st">"2024-06-14"</span>, <span class="st">"2024-06-20"</span>, <span class="st">"2024-06-28"</span>, <span class="st">"2024-07-03"</span>, <span class="st">"2024-07-12"</span>, <span class="st">"2024-07-19"</span>, <span class="st">"2024-07-26"</span>, <span class="st">"2024-08-02"</span>, <span class="st">"2024-08-09"</span>, <span class="st">"2024-08-16"</span>, <span class="st">"2024-08-23"</span>, <span class="st">"2024-08-29"</span>))</span>
<span id="cb163-6"><a href="#cb163-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb163-7"><a href="#cb163-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-8"><a href="#cb163-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialize a counter for naming datasets</span></span>
<span id="cb163-9"><a href="#cb163-9" aria-hidden="true" tabindex="-1"></a>counter <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb163-10"><a href="#cb163-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-11"><a href="#cb163-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Loop through each date range and filter the dataset</span></span>
<span id="cb163-12"><a href="#cb163-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(week_ranges)) {</span>
<span id="cb163-13"><a href="#cb163-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Filter the dataset for each specified date range</span></span>
<span id="cb163-14"><a href="#cb163-14" aria-hidden="true" tabindex="-1"></a>  weekly_receiver_data <span class="ot">&lt;-</span> receiver_data_all <span class="sc">%&gt;%</span></span>
<span id="cb163-15"><a href="#cb163-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(date <span class="sc">&gt;=</span> week_ranges<span class="sc">$</span>start_date[i] <span class="sc">&amp;</span> date <span class="sc">&lt;=</span> week_ranges<span class="sc">$</span>end_date[i]) <span class="sc">%&gt;%</span></span>
<span id="cb163-16"><a href="#cb163-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb163-17"><a href="#cb163-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Remove the 'date' column before saving the CSV</span></span>
<span id="cb163-18"><a href="#cb163-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>date)</span>
<span id="cb163-19"><a href="#cb163-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb163-20"><a href="#cb163-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Dynamically name each week's data (e.g., receiver_data_1, receiver_data_2, ...)</span></span>
<span id="cb163-21"><a href="#cb163-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">assign</span>(<span class="fu">paste0</span>(<span class="st">"receiver_data_"</span>, counter), weekly_receiver_data)</span>
<span id="cb163-22"><a href="#cb163-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb163-23"><a href="#cb163-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Optional: Save the dataset to a CSV file</span></span>
<span id="cb163-24"><a href="#cb163-24" aria-hidden="true" tabindex="-1"></a>  file_name <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"receiver_data_"</span>, counter, <span class="st">".csv"</span>)</span>
<span id="cb163-25"><a href="#cb163-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(weekly_receiver_data, <span class="at">file =</span> file_name, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb163-26"><a href="#cb163-26" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb163-27"><a href="#cb163-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Display the first few rows of the created datasets</span></span>
<span id="cb163-28"><a href="#cb163-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Data for"</span>, file_name, <span class="st">":</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb163-29"><a href="#cb163-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">head</span>(weekly_receiver_data))  <span class="co"># Print the first few rows of each weekly dataset</span></span>
<span id="cb163-30"><a href="#cb163-30" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb163-31"><a href="#cb163-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Increment the counter</span></span>
<span id="cb163-32"><a href="#cb163-32" aria-hidden="true" tabindex="-1"></a>  counter <span class="ot">&lt;-</span> counter <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb163-33"><a href="#cb163-33" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Data for receiver_data_1.csv :
[1] trackedTime_EST river           shift           tagID          
[5] power           lon             lat             source         
&lt;0 rows&gt; (or 0-length row.names)

Data for receiver_data_2.csv :
[1] trackedTime_EST river           shift           tagID          
[5] power           lon             lat             source         
&lt;0 rows&gt; (or 0-length row.names)

Data for receiver_data_3.csv :
      trackedTime_EST     river shift tagID power lon lat   source
1 2024-06-25 18:53:37 DRY UPPER night    53    93  NA  NA receiver
2 2024-06-25 18:53:39 DRY UPPER night    54    72  NA  NA receiver
3 2024-06-25 22:50:34 DRY UPPER night    23   169  NA  NA receiver
4 2024-06-25 22:50:35 DRY UPPER night    49   160  NA  NA receiver
5 2024-06-26 05:23:35  AMETHYST   day    19   107  NA  NA receiver
6 2024-06-26 05:23:42  AMETHYST   day    59   104  NA  NA receiver

Data for receiver_data_4.csv :
      trackedTime_EST     river shift tagID power lon lat   source
1 2024-06-30 04:16:00  AMETHYST   day    15    16  NA  NA receiver
2 2024-06-30 04:26:11 DRY UPPER   day    55   109  NA  NA receiver
3 2024-06-30 04:26:16 DRY UPPER   day    22   114  NA  NA receiver
4 2024-06-30 04:26:27 DRY UPPER   day    16   106  NA  NA receiver
5 2024-06-30 04:26:36 DRY UPPER   day    22   123  NA  NA receiver
6 2024-06-30 04:26:51 DRY UPPER   day    55   105  NA  NA receiver

Data for receiver_data_5.csv :
      trackedTime_EST     river shift tagID power lon lat   source
1 2024-07-09 09:25:20 UNDERHILL   day    35   118  NA  NA receiver
2 2024-07-09 10:04:53 UNDERHILL   day    33   188  NA  NA receiver
3 2024-07-09 12:02:11 UNDERHILL   day    27   132  NA  NA receiver
4 2024-07-09 12:15:44 UNDERHILL   day    36   152  NA  NA receiver
5 2024-07-09 17:27:19 UNDERHILL night    41   108  NA  NA receiver
6 2024-07-09 17:27:39 UNDERHILL night    41   102  NA  NA receiver

Data for receiver_data_6.csv :
      trackedTime_EST  river shift tagID power lon lat   source
1 2024-07-16 05:10:38 DICKEY   day    37    71  NA  NA receiver
2 2024-07-16 06:52:51 DICKEY   day    31   132  NA  NA receiver
3 2024-07-16 08:12:34 DICKEY   day    32    76  NA  NA receiver
4 2024-07-16 08:12:35 DICKEY   day    38   111  NA  NA receiver
5 2024-07-16 13:06:08 DICKEY night    31   133  NA  NA receiver
6 2024-07-16 13:06:28 DICKEY night    31   122  NA  NA receiver

Data for receiver_data_7.csv :
      trackedTime_EST     river shift tagID power lon lat   source
1 2024-07-23 08:42:36 DRY UPPER   day    16    81  NA  NA receiver
2 2024-07-23 08:43:36 DRY UPPER   day    16   116  NA  NA receiver
3 2024-07-23 08:43:56 DRY UPPER   day    16   168  NA  NA receiver
4 2024-07-23 08:44:36 DRY UPPER   day    16   167  NA  NA receiver
5 2024-07-23 08:52:16 DRY UPPER   day    16   150  NA  NA receiver
6 2024-07-23 08:52:36 DRY UPPER   day    16   157  NA  NA receiver

Data for receiver_data_8.csv :
      trackedTime_EST    river shift tagID power lon lat   source
1 2024-07-30 13:17:03 AMETHYST night    15    24  NA  NA receiver
2 2024-07-30 15:13:02   DICKEY night    31   202  NA  NA receiver
3 2024-07-30 15:14:52   DICKEY night    26   159  NA  NA receiver
4 2024-07-30 15:15:04   DICKEY night    37   170  NA  NA receiver
5 2024-07-30 16:58:00   DICKEY night    31   202  NA  NA receiver
6 2024-07-30 17:00:02   DICKEY night    37   145  NA  NA receiver

Data for receiver_data_9.csv :
      trackedTime_EST     river shift tagID power lon lat   source
1 2024-08-06 08:01:51 UNDERHILL   day    35   180  NA  NA receiver
2 2024-08-06 08:34:47 UNDERHILL   day    35   121  NA  NA receiver
3 2024-08-06 08:35:07 UNDERHILL   day    35   170  NA  NA receiver
4 2024-08-06 08:36:30 UNDERHILL   day    35   207  NA  NA receiver
5 2024-08-06 08:46:04 UNDERHILL   day    44   123  NA  NA receiver
6 2024-08-06 08:46:24 UNDERHILL   day    44   156  NA  NA receiver

Data for receiver_data_10.csv :
      trackedTime_EST    river shift tagID power lon lat   source
1 2024-08-13 04:17:33 AMETHYST   day    18    97  NA  NA receiver
2 2024-08-13 04:17:40 AMETHYST   day    14   133  NA  NA receiver
3 2024-08-13 04:17:53 AMETHYST   day    18   101  NA  NA receiver
4 2024-08-13 04:18:00 AMETHYST   day    14   111  NA  NA receiver
5 2024-08-13 05:26:57 AMETHYST   day    19   188  NA  NA receiver
6 2024-08-13 06:04:32 AMETHYST   day    60   197  NA  NA receiver

Data for receiver_data_11.csv :
      trackedTime_EST    river shift tagID power lon lat   source
1 2024-08-20 08:50:34 AMETHYST   day    20    99  NA  NA receiver
2 2024-08-20 08:50:46 AMETHYST   day    14   105  NA  NA receiver
3 2024-08-20 08:50:54 AMETHYST   day    20    87  NA  NA receiver
4 2024-08-20 08:50:55 AMETHYST   day    18    74  NA  NA receiver
5 2024-08-20 08:51:07 AMETHYST   day    14    91  NA  NA receiver
6 2024-08-20 08:51:15 AMETHYST   day    18    78  NA  NA receiver

Data for receiver_data_12.csv :
      trackedTime_EST     river shift tagID power lon lat   source
1 2024-08-27 09:16:33 DRY UPPER   day    16    39  NA  NA receiver
2 2024-08-27 09:21:27 UNDERHILL   day    45   120  NA  NA receiver
3 2024-08-27 09:22:07 UNDERHILL   day    45   139  NA  NA receiver
4 2024-08-27 09:22:28 UNDERHILL   day    45   171  NA  NA receiver
5 2024-08-27 09:22:47 UNDERHILL   day    45   205  NA  NA receiver
6 2024-08-27 09:23:07 UNDERHILL   day    45   168  NA  NA receiver</code></pre>
</div>
</div>
</section>
</section>
<section id="combine-fish-survey-and-receiver-data" class="level2" data-number="2.7">
<h2 data-number="2.7" class="anchored" data-anchor-id="combine-fish-survey-and-receiver-data"><span class="header-section-number">2.7</span> Combine fish survey and receiver data</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="co"># No receiver data for this week yet #########################</span></span>
<span id="cb165-2"><a href="#cb165-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-3"><a href="#cb165-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish_flow survey and receiver data for week 1</span></span>
<span id="cb165-4"><a href="#cb165-4" aria-hidden="true" tabindex="-1"></a>fish_flow_1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_1.csv"</span>)</span>
<span id="cb165-5"><a href="#cb165-5" aria-hidden="true" tabindex="-1"></a>receiver_data_1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_1.csv"</span>)</span>
<span id="cb165-6"><a href="#cb165-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-7"><a href="#cb165-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets horizontally</span></span>
<span id="cb165-8"><a href="#cb165-8" aria-hidden="true" tabindex="-1"></a><span class="co">#fish_flow_receiver_1 &lt;- bind_rows(fish_flow_1, receiver_data_1)</span></span>
<span id="cb165-9"><a href="#cb165-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-10"><a href="#cb165-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Temporarily rename fish_flow dataset as fish_flow_receiver dataset until there is receiver data available for this week</span></span>
<span id="cb165-11"><a href="#cb165-11" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_1 <span class="ot">&lt;-</span> fish_flow_1</span>
<span id="cb165-12"><a href="#cb165-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-13"><a href="#cb165-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb165-14"><a href="#cb165-14" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST    river shift tagID power habitat habitatExtra position
1 2024-06-11 05:57:00 AMETHYST   day    59    NA  Riffle                Center
2 2024-06-11 06:08:00 AMETHYST   day    60    NA  Riffle                Center
3 2024-06-11 06:15:00   BUFFAM   day    19    NA  Riffle                Center
4 2024-06-11 06:19:00   HARRIS   day    20    NA     Run                  Left
5 2024-06-11 06:28:00   HARRIS   day    57    NA     Run                  Left
6 2024-06-11 06:34:00   HARRIS   day    12    NA   Glide                Center
  substrate substrateExtra         shade       lon      lat fishNotes source
1      Rock             NA  Fully shaded -72.46038 42.38162             iPad
2      Rock             NA  Fully shaded -72.46030 42.38136             iPad
3      Rock             NA  Fully shaded -72.46023 42.38139             iPad
4    Pebble             NA Mostly shaded -72.46015 42.38095             iPad
5      Rock             NA Mostly shaded -72.46034 42.38105             iPad
6      Rock             NA  Fully shaded -72.46009 42.38094             iPad
  totalDischarge        flowTime_EST
1           1.56                &lt;NA&gt;
2           1.56                &lt;NA&gt;
3           1.49 2024-06-11 08:32:26
4           0.07 2024-06-11 09:42:47
5           0.07 2024-06-11 09:42:47
6           0.07 2024-06-11 09:42:47</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_1, </span>
<span id="cb167-3"><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_1.csv"</span>, </span>
<span id="cb167-4"><a href="#cb167-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="co"># No receiver data for this week yet #########################</span></span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-3"><a href="#cb168-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish_flow survey and receiver data for week 2</span></span>
<span id="cb168-4"><a href="#cb168-4" aria-hidden="true" tabindex="-1"></a>fish_flow_2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_2.csv"</span>)</span>
<span id="cb168-5"><a href="#cb168-5" aria-hidden="true" tabindex="-1"></a>receiver_data_2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_2.csv"</span>)</span>
<span id="cb168-6"><a href="#cb168-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-7"><a href="#cb168-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets horizontally</span></span>
<span id="cb168-8"><a href="#cb168-8" aria-hidden="true" tabindex="-1"></a><span class="co">#fish_flow_receiver_2 &lt;- bind_rows(fish_flow_2, receiver_data_2)</span></span>
<span id="cb168-9"><a href="#cb168-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-10"><a href="#cb168-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Temporarily rename fish_flow dataset as fish_flow_receiver dataset until there is receiver data available for this week</span></span>
<span id="cb168-11"><a href="#cb168-11" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_2 <span class="ot">&lt;-</span> fish_flow_2</span>
<span id="cb168-12"><a href="#cb168-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-13"><a href="#cb168-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb168-14"><a href="#cb168-14" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST  river shift tagID power habitat  habitatExtra position
1 2024-06-17 11:33:00 DICKEY   day    31    NA    Pool                 Center
2 2024-06-17 11:57:00 DICKEY   day    46    NA     Run                  Right
3 2024-06-17 11:59:00 DICKEY   day    29    NA  Riffle  Woody_debris     Left
4 2024-06-17 12:10:00 DICKEY   day    26    NA     Run Undercut_bank    Right
5 2024-06-17 12:47:00 DICKEY   day    28    NA    Pool                   Left
6 2024-06-17 12:49:00 DICKEY   day    37    NA    Pool                  Right
  substrate substrateExtra          shade       lon      lat fishNotes source
1      Rock             NA  Mostly shaded -72.37084 42.44394             iPad
2    Pebble             NA Lightly shaded -72.37173 42.44421             iPad
3      Rock             NA   Fully shaded -72.37194 42.44430             iPad
4      Rock             NA Lightly shaded -72.37344 42.44421             iPad
5   Boulder             NA  Mostly shaded -72.37040 42.44369             iPad
6      Rock             NA  Mostly shaded -72.37038 42.44377             iPad
  totalDischarge        flowTime_EST
1           0.03 2024-06-17 12:35:22
2           0.03 2024-06-17 12:35:22
3           0.03 2024-06-17 12:35:22
4           0.03 2024-06-17 12:35:22
5           0.03 2024-06-17 12:35:22
6           0.03 2024-06-17 12:35:22</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb170-2"><a href="#cb170-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_2, </span>
<span id="cb170-3"><a href="#cb170-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_2.csv"</span>, </span>
<span id="cb170-4"><a href="#cb170-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish_flow survey and receiver data for week 3</span></span>
<span id="cb171-2"><a href="#cb171-2" aria-hidden="true" tabindex="-1"></a>fish_flow_3 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_3.csv"</span>)</span>
<span id="cb171-3"><a href="#cb171-3" aria-hidden="true" tabindex="-1"></a>receiver_data_3 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_3.csv"</span>)</span>
<span id="cb171-4"><a href="#cb171-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-5"><a href="#cb171-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets horizontally</span></span>
<span id="cb171-6"><a href="#cb171-6" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_3 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(fish_flow_3, receiver_data_3)</span>
<span id="cb171-7"><a href="#cb171-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-8"><a href="#cb171-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb171-9"><a href="#cb171-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST     river shift tagID power habitat
1 2024-06-25 05:59:00 DRY UPPER   day    55    NA    Pool
2 2024-06-25 06:02:00 DRY UPPER   day    16    NA    Pool
3 2024-06-25 06:07:00 DRY UPPER   day    53    NA    Pool
4 2024-06-25 06:11:00 DRY UPPER   day    22    NA    Pool
5 2024-06-25 06:20:00 DRY UPPER   day    21    NA    Pool
6 2024-06-25 06:21:00 DRY UPPER   day    25    NA    Pool
                habitatExtra position substrate substrateExtra          shade
1               Woody_debris   Center      Rock             NA  Mostly shaded
2               Woody_debris    Right       Mud             NA  Mostly shaded
3               Woody_debris    Right       Mud             NA  Mostly shaded
4   Root_bundle,Woody_debris     Left       Mud             NA Lightly shaded
5 Woody_debris,Undercut_bank    Right      Rock             NA  Mostly shaded
6 Undercut_bank,Woody_debris    Right      Rock             NA  Mostly shaded
        lon      lat fishNotes source totalDischarge        flowTime_EST
1 -72.50451 42.66767             iPad           0.03 2024-06-25 07:21:55
2 -72.50455 42.66774             iPad           0.03 2024-06-25 07:21:55
3 -72.50451 42.66761             iPad           0.03 2024-06-25 07:21:55
4 -72.50445 42.66767             iPad           0.03 2024-06-25 07:21:55
5 -72.50506 42.66704             iPad           0.03 2024-06-25 07:21:55
6 -72.50507 42.66704             iPad           0.03 2024-06-25 07:21:55</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb173-2"><a href="#cb173-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_3, </span>
<span id="cb173-3"><a href="#cb173-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_3.csv"</span>, </span>
<span id="cb173-4"><a href="#cb173-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish_flow survey and receiver data for week 4</span></span>
<span id="cb174-2"><a href="#cb174-2" aria-hidden="true" tabindex="-1"></a>fish_flow_4 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_4.csv"</span>)</span>
<span id="cb174-3"><a href="#cb174-3" aria-hidden="true" tabindex="-1"></a>receiver_data_4 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_4.csv"</span>)</span>
<span id="cb174-4"><a href="#cb174-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-5"><a href="#cb174-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets horizontally</span></span>
<span id="cb174-6"><a href="#cb174-6" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_4 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(fish_flow_4, receiver_data_4)</span>
<span id="cb174-7"><a href="#cb174-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-8"><a href="#cb174-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb174-9"><a href="#cb174-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST     river shift tagID power habitat
1 2024-06-30 04:39:00 DRY UPPER   day    22    NA    Pool
2 2024-06-30 04:42:00 DRY UPPER   day    16    NA    Pool
3 2024-06-30 04:43:00 DRY UPPER   day    55    NA    Pool
4 2024-06-30 04:50:00 DRY UPPER   day    21    NA    Pool
5 2024-06-30 04:51:00 DRY UPPER   day    25    NA    Pool
6 2024-06-30 04:51:00 DRY UPPER   day    24    NA    Pool
                habitatExtra position substrate substrateExtra         shade
1                Root_bundle     Left        NA       Rock,Mud         Night
2               Woody_debris    Right        NA            Mud  Fully shaded
3               Woody_debris    Right        NA            Mud  Fully shaded
4 Woody_debris,Undercut_bank    Right        NA            Mud Mostly shaded
5 Undercut_bank,Woody_debris    Right        NA            Mud  Fully shaded
6 Undercut_bank,Woody_debris    Right        NA            Mud  Fully shaded
        lon      lat fishNotes source totalDischarge        flowTime_EST
1 -72.50457 42.66769             iPad           0.33 2024-06-30 05:23:29
2 -72.50448 42.66760             iPad           0.33 2024-06-30 05:23:29
3 -72.50453 42.66762             iPad           0.33 2024-06-30 05:23:29
4 -72.50514 42.66698             iPad           0.33 2024-06-30 05:23:29
5 -72.50509 42.66699             iPad           0.33 2024-06-30 05:23:29
6 -72.50508 42.66702             iPad           0.33 2024-06-30 05:23:29</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb176"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb176-2"><a href="#cb176-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_4, </span>
<span id="cb176-3"><a href="#cb176-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_4.csv"</span>, </span>
<span id="cb176-4"><a href="#cb176-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish_flow survey and receiver data for week 5</span></span>
<span id="cb177-2"><a href="#cb177-2" aria-hidden="true" tabindex="-1"></a>fish_flow_5 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_5.csv"</span>)</span>
<span id="cb177-3"><a href="#cb177-3" aria-hidden="true" tabindex="-1"></a>receiver_data_5 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_5.csv"</span>)</span>
<span id="cb177-4"><a href="#cb177-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-5"><a href="#cb177-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets horizontally</span></span>
<span id="cb177-6"><a href="#cb177-6" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_5 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(fish_flow_5, receiver_data_5)</span>
<span id="cb177-7"><a href="#cb177-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-8"><a href="#cb177-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb177-9"><a href="#cb177-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST     river shift tagID power habitat  habitatExtra
1 2024-07-09 07:30:00 UNDERHILL   day    41    NA  Riffle              
2 2024-07-09 07:49:00 UNDERHILL   day    40    NA  Riffle  Woody_debris
3 2024-07-09 07:57:00 UNDERHILL   day    34    NA  Riffle              
4 2024-07-09 08:08:00 UNDERHILL   day    33    NA  Riffle Undercut_bank
5 2024-07-09 08:18:00 UNDERHILL   day    36    NA    Pool              
6 2024-07-09 08:25:00 UNDERHILL   day    27    NA  Riffle              
  position substrate   substrateExtra         shade       lon      lat
1   Center        NA             Rock  Fully shaded -72.32447 42.44488
2                 NA      Rock,Pebble Mostly shaded -72.32513 42.44510
3   Center        NA             Rock               -72.32645 42.44537
4    Right        NA             Rock Mostly shaded -72.32624 42.44533
5   Center        NA Rock,Pebble,Sand Mostly shaded -72.32752 42.44626
6   Center        NA             Rock Mostly shaded -72.32780 42.44521
                                           fishNotes source totalDischarge
1                                                      iPad           2.78
2                                                      iPad           2.78
3                                                      iPad           2.78
4                                                      iPad           2.78
5 Moved up from where we thought it might have died.   iPad           2.78
6                                                      iPad           2.78
         flowTime_EST
1 2024-07-09 09:13:28
2 2024-07-09 09:13:28
3 2024-07-09 09:13:28
4 2024-07-09 09:13:28
5 2024-07-09 09:13:28
6 2024-07-09 09:13:28</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb179-2"><a href="#cb179-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_5, </span>
<span id="cb179-3"><a href="#cb179-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_5.csv"</span>, </span>
<span id="cb179-4"><a href="#cb179-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish_flow survey and receiver data for week 6</span></span>
<span id="cb180-2"><a href="#cb180-2" aria-hidden="true" tabindex="-1"></a>fish_flow_6 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_6.csv"</span>)</span>
<span id="cb180-3"><a href="#cb180-3" aria-hidden="true" tabindex="-1"></a>receiver_data_6 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_6.csv"</span>)</span>
<span id="cb180-4"><a href="#cb180-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-5"><a href="#cb180-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets horizontally</span></span>
<span id="cb180-6"><a href="#cb180-6" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_6 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(fish_flow_6, receiver_data_6)</span>
<span id="cb180-7"><a href="#cb180-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-8"><a href="#cb180-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb180-9"><a href="#cb180-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_6)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST  river shift tagID power habitat habitatExtra position
1 2024-07-16 03:49:00 DICKEY   day    31    NA  Riffle                Center
2 2024-07-16 03:58:00 DICKEY   day    28    NA    Pool                Center
3 2024-07-16 04:04:00 DICKEY   day    26    NA  Riffle                Center
4 2024-07-16 04:05:00 DICKEY   day    37    NA  Riffle                Center
5 2024-07-16 05:17:00 DICKEY   day    31    NA  Riffle                Center
6 2024-07-16 05:21:00 DICKEY   day    28    NA    Pool                Center
  substrate   substrateExtra        shade       lon      lat fishNotes source
1        NA             Rock        Night -72.37121 42.44408             iPad
2        NA         Sand,Mud        Night -72.37056 42.44364             iPad
3        NA             Rock        Night -72.37030 42.44345             iPad
4        NA             Rock Fully shaded -72.37018 42.44342             iPad
5        NA        Rock,Sand Fully shaded -72.37132 42.44393             iPad
6        NA Rock,Pebble,Sand Fully shaded -72.37059 42.44357             iPad
  totalDischarge        flowTime_EST
1           1.17 2024-07-16 05:02:37
2           1.17 2024-07-16 05:02:37
3           1.17 2024-07-16 05:02:37
4           1.17 2024-07-16 05:02:37
5           1.17 2024-07-16 05:02:37
6           1.17 2024-07-16 05:02:37</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb182"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb182-2"><a href="#cb182-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_6, </span>
<span id="cb182-3"><a href="#cb182-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_6.csv"</span>, </span>
<span id="cb182-4"><a href="#cb182-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish_flow survey and receiver data for week 7</span></span>
<span id="cb183-2"><a href="#cb183-2" aria-hidden="true" tabindex="-1"></a>fish_flow_7 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_7.csv"</span>)</span>
<span id="cb183-3"><a href="#cb183-3" aria-hidden="true" tabindex="-1"></a>receiver_data_7 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_7.csv"</span>)</span>
<span id="cb183-4"><a href="#cb183-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-5"><a href="#cb183-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets horizontally</span></span>
<span id="cb183-6"><a href="#cb183-6" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_7 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(fish_flow_7, receiver_data_7)</span>
<span id="cb183-7"><a href="#cb183-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-8"><a href="#cb183-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb183-9"><a href="#cb183-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_7)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST     river shift tagID power habitat
1 2024-07-23 07:28:00 DRY UPPER   day  39.1    NA    Pool
2 2024-07-23 07:56:00 DRY UPPER   day  46.1    NA        
3 2024-07-23 08:07:00 DRY UPPER   day  29.1    NA  Riffle
4 2024-07-23 08:44:00 DRY UPPER   day  30.1    NA    Pool
5 2024-07-23 08:52:00 DRY UPPER   day  16.0    NA    Pool
6 2024-07-23 09:06:00 DRY UPPER   day  55.0    NA    Pool
                habitatExtra position substrate substrateExtra         shade
1               Woody_debris    Right        NA      Rock,Sand Mostly shaded
2                                            NA                             
3                                Left        NA                Mostly shaded
4               Woody_debris     Left        NA            Mud Mostly shaded
5 Woody_debris,Undercut_bank    Right        NA       Mud,Sand  Fully shaded
6               Woody_debris                 NA      Rock,Sand Mostly shaded
        lon      lat                                  fishNotes source
1 -72.50687 42.66812                                              iPad
2 -72.50700 42.66827                                       Dead   iPad
3 -72.50598 42.66837 Very shallow water. Can’t see fish or tag.   iPad
4 -72.50495 42.66817                                              iPad
5 -72.50460 42.66775                          Up under cutback.   iPad
6 -72.50408 42.66603                              Dead have tag   iPad
  totalDischarge        flowTime_EST
1           0.13 2024-07-23 08:27:20
2           0.13 2024-07-23 08:27:20
3           0.13 2024-07-23 08:27:20
4           0.13 2024-07-23 08:27:20
5           0.13 2024-07-23 08:27:20
6           0.13 2024-07-23 08:27:20</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb185-2"><a href="#cb185-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_7, </span>
<span id="cb185-3"><a href="#cb185-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_7.csv"</span>, </span>
<span id="cb185-4"><a href="#cb185-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb186"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish_flow survey and receiver data for week 8</span></span>
<span id="cb186-2"><a href="#cb186-2" aria-hidden="true" tabindex="-1"></a>fish_flow_8 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_8.csv"</span>)</span>
<span id="cb186-3"><a href="#cb186-3" aria-hidden="true" tabindex="-1"></a>receiver_data_8 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_8.csv"</span>)</span>
<span id="cb186-4"><a href="#cb186-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb186-5"><a href="#cb186-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets horizontally</span></span>
<span id="cb186-6"><a href="#cb186-6" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_8 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(fish_flow_8, receiver_data_8)</span>
<span id="cb186-7"><a href="#cb186-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb186-8"><a href="#cb186-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb186-9"><a href="#cb186-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_8)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST  river shift tagID power habitat habitatExtra position
1 2024-07-30 04:07:00 DICKEY   day    31    NA  Riffle                 Right
2 2024-07-30 04:15:00 DICKEY   day    26    NA  Riffle                Center
3 2024-07-30 04:16:00 DICKEY   day    37    NA  Riffle                Center
4 2024-07-30 04:38:00 DICKEY   day    38    NA     Run                 Right
5 2024-07-30 04:42:00 DICKEY   day    32    NA    Pool                  Left
6 2024-07-30 05:25:00 DICKEY   day    38    NA  Riffle                  Left
  substrate substrateExtra          shade       lon      lat
1        NA    Pebble,Rock          Night -72.37116 42.44418
2        NA    Rock,Pebble          Night -72.37034 42.44352
3        NA    Rock,Pebble          Night -72.37032 42.44350
4        NA    Rock,Pebble          Night -72.37335 42.44441
5        NA         Pebble          Night -72.37354 42.44406
6        NA    Rock,Pebble Lightly shaded -72.37340 42.44449
                                               fishNotes source totalDischarge
1                                                          iPad           1.13
2                                                          iPad           1.13
3                                                          iPad           1.13
4                                                          iPad           1.13
5 Dead.found on river left side of pool buried n gravel.   iPad           1.13
6                                           May be dead    iPad           1.13
         flowTime_EST
1 2024-07-30 04:50:14
2 2024-07-30 04:50:14
3 2024-07-30 04:50:14
4 2024-07-30 04:50:14
5 2024-07-30 04:50:14
6 2024-07-30 04:50:14</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb188-2"><a href="#cb188-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_8, </span>
<span id="cb188-3"><a href="#cb188-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_8.csv"</span>, </span>
<span id="cb188-4"><a href="#cb188-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish_flow survey and receiver data for week 9</span></span>
<span id="cb189-2"><a href="#cb189-2" aria-hidden="true" tabindex="-1"></a>fish_flow_9 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_9.csv"</span>)</span>
<span id="cb189-3"><a href="#cb189-3" aria-hidden="true" tabindex="-1"></a>receiver_data_9 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_9.csv"</span>)</span>
<span id="cb189-4"><a href="#cb189-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-5"><a href="#cb189-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets horizontally</span></span>
<span id="cb189-6"><a href="#cb189-6" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_9 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(fish_flow_9, receiver_data_9)</span>
<span id="cb189-7"><a href="#cb189-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb189-8"><a href="#cb189-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb189-9"><a href="#cb189-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_9)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST     river shift tagID power habitat
1 2024-08-05 11:06:00 DRY UPPER   day    49   174    Pool
2 2024-08-05 11:35:00 DRY UPPER   day    47    NA        
3 2024-08-05 11:37:00 DRY UPPER   day    47    54        
4 2024-08-06 07:41:00 UNDERHILL   day    33    NA  Riffle
5 2024-08-06 07:47:00 UNDERHILL   day    45    NA    Pool
6 2024-08-06 07:53:00 UNDERHILL   day    44    NA    Pool
                habitatExtra position substrate      substrateExtra
1 Woody_debris,Undercut_bank                 NA Granule,Pebble,Sand
2                                            NA                    
3                                            NA                    
4               Woody_debris   Center        NA         Pebble,Rock
5                              Center        NA      Pebble,Granule
6               Woody_debris   Center        NA           Rock,Sand
           shade       lon      lat
1 Lightly shaded -72.50352 42.65114
2                -72.50353 42.65375
3                -72.50367 42.65407
4  Mostly shaded -72.32640 42.44531
5  Mostly shaded -72.32773 42.44515
6  Mostly shaded -72.32803 42.44488
                                                                         fishNotes
1              Bunch of fish swimming around, moving too much to get a good signal
2 Lost signal, signal was strongest (74) back at the clearing with the pine trees 
3                                                                                 
4                                                            Same so as last week.
5                                                                                 
6                                                                                 
  source totalDischarge        flowTime_EST
1   iPad           0.25 2024-08-07 08:20:43
2   iPad           0.25 2024-08-07 08:20:43
3   iPad           0.25 2024-08-07 08:20:43
4   iPad           0.04 2024-08-06 08:06:36
5   iPad           0.04 2024-08-06 08:06:36
6   iPad           0.04 2024-08-06 08:06:36</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb191"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb191-2"><a href="#cb191-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_9, </span>
<span id="cb191-3"><a href="#cb191-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_9.csv"</span>, </span>
<span id="cb191-4"><a href="#cb191-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb192"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb192-1"><a href="#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish_flow survey and receiver data for week 10</span></span>
<span id="cb192-2"><a href="#cb192-2" aria-hidden="true" tabindex="-1"></a>fish_flow_10 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_10.csv"</span>)</span>
<span id="cb192-3"><a href="#cb192-3" aria-hidden="true" tabindex="-1"></a>receiver_data_10 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_10.csv"</span>)</span>
<span id="cb192-4"><a href="#cb192-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-5"><a href="#cb192-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets horizontally</span></span>
<span id="cb192-6"><a href="#cb192-6" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_10 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(fish_flow_10, receiver_data_10)</span>
<span id="cb192-7"><a href="#cb192-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-8"><a href="#cb192-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb192-9"><a href="#cb192-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_10)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST    river shift tagID power habitat habitatExtra position
1 2024-08-13 04:25:00   BUFFAM   day    60    NA     Run                Center
2 2024-08-13 04:31:00   BUFFAM   day    18    NA     Run                Center
3 2024-08-13 04:32:00   BUFFAM   day    14    NA  Riffle                Center
4 2024-08-13 04:34:00   HARRIS   day    20    NA     Run Woody_debris   Center
5 2024-08-13 04:41:00 AMETHYST   day    19    NA  Riffle                Center
6 2024-08-13 05:15:00   BUFFAM   day    60    NA     Run                Center
  substrate    substrateExtra        shade       lon      lat fishNotes source
1        NA         Sand,Rock        Night -72.45838 42.38205             iPad
2        NA Sand,Boulder,Rock        Night -72.45979 42.38119             iPad
3        NA      Rock,Boulder        Night -72.46000 42.38136             iPad
4        NA           Boulder        Night -72.46033 42.38118             iPad
5        NA              Rock        Night -72.46088 42.38150             iPad
6        NA         Sand,Rock Fully shaded -72.45866 42.38218             iPad
  totalDischarge        flowTime_EST
1           1.22 2024-08-13 04:57:46
2           1.22 2024-08-13 04:57:46
3           1.22 2024-08-13 04:57:46
4           3.16 2024-08-13 06:51:21
5           4.38                &lt;NA&gt;
6           1.22 2024-08-13 04:57:46</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb194"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb194-2"><a href="#cb194-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_10, </span>
<span id="cb194-3"><a href="#cb194-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_10.csv"</span>, </span>
<span id="cb194-4"><a href="#cb194-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb195"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb195-1"><a href="#cb195-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish_flow survey and receiver data for week 11</span></span>
<span id="cb195-2"><a href="#cb195-2" aria-hidden="true" tabindex="-1"></a>fish_flow_11 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_11.csv"</span>)</span>
<span id="cb195-3"><a href="#cb195-3" aria-hidden="true" tabindex="-1"></a>receiver_data_11 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_11.csv"</span>)</span>
<span id="cb195-4"><a href="#cb195-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-5"><a href="#cb195-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets horizontally</span></span>
<span id="cb195-6"><a href="#cb195-6" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_11 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(fish_flow_11, receiver_data_11)</span>
<span id="cb195-7"><a href="#cb195-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-8"><a href="#cb195-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb195-9"><a href="#cb195-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_11)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST    river shift tagID power habitat habitatExtra position
1 2024-08-20 09:10:00 AMETHYST   day    19    NA  Riffle                Center
2 2024-08-20 09:39:00   HARRIS   day    20    NA  Riffle                  Left
3 2024-08-20 09:39:00   HARRIS   day    20    NA  Riffle                  Left
4 2024-08-20 09:54:00   BUFFAM   day    14    NA  Riffle                 Right
5 2024-08-20 09:54:00   BUFFAM   day    14    NA  Riffle                 Right
6 2024-08-20 10:40:00   BUFFAM   day    18    NA  Riffle                Center
  substrate       substrateExtra        shade       lon      lat fishNotes
1        NA                 Rock Fully shaded -72.46090 42.38157          
2        NA              Boulder Fully shaded -72.46016 42.38116          
3        NA              Boulder Fully shaded -72.46016 42.38116          
4        NA            Rock,Sand Fully shaded -72.46000 42.38126          
5        NA            Rock,Sand Fully shaded -72.46000 42.38126          
6        NA Rock,Boulder,Granule Fully shaded -72.45993 42.38124          
  source totalDischarge        flowTime_EST
1   iPad          21.70                &lt;NA&gt;
2   iPad          13.48 2024-08-20 09:56:27
3   iPad           3.87 2024-08-23 13:17:11
4   iPad           3.53 2024-08-20 11:41:46
5   iPad           0.82 2024-08-23 13:38:55
6   iPad           3.53 2024-08-20 11:41:46</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb197"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb197-2"><a href="#cb197-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_11, </span>
<span id="cb197-3"><a href="#cb197-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_11.csv"</span>, </span>
<span id="cb197-4"><a href="#cb197-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb198"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb198-1"><a href="#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish_flow survey and receiver data for week 12</span></span>
<span id="cb198-2"><a href="#cb198-2" aria-hidden="true" tabindex="-1"></a>fish_flow_12 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_12.csv"</span>)</span>
<span id="cb198-3"><a href="#cb198-3" aria-hidden="true" tabindex="-1"></a>receiver_data_12 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_12.csv"</span>)</span>
<span id="cb198-4"><a href="#cb198-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb198-5"><a href="#cb198-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets horizontally</span></span>
<span id="cb198-6"><a href="#cb198-6" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_12 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(fish_flow_12, receiver_data_12)</span>
<span id="cb198-7"><a href="#cb198-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb198-8"><a href="#cb198-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb198-9"><a href="#cb198-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_12)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST     river shift tagID power habitat habitatExtra position
1 2024-08-27 09:41:00 UNDERHILL   day    45    NA    Pool           NA    Right
2 2024-08-27 10:32:00 UNDERHILL   day    44    NA    Pool           NA   Center
3 2024-08-27 12:19:00 UNDERHILL   day    35    NA    Pool           NA   Center
4 2024-08-27 09:16:33 DRY UPPER   day    16    39    &lt;NA&gt;           NA     &lt;NA&gt;
5 2024-08-27 09:21:27 UNDERHILL   day    45   120    &lt;NA&gt;           NA     &lt;NA&gt;
6 2024-08-27 09:22:07 UNDERHILL   day    45   139    &lt;NA&gt;           NA     &lt;NA&gt;
  substrate              substrateExtra         shade       lon      lat
1        NA                   Sand,Rock  Fully shaded -72.32730 42.44535
2        NA                   Sand,Rock Mostly shaded -72.32805 42.44492
3        NA Boulder,Rock,Granule,Pebble Mostly shaded -72.32929 42.44359
4        NA                        &lt;NA&gt;          &lt;NA&gt;        NA       NA
5        NA                        &lt;NA&gt;          &lt;NA&gt;        NA       NA
6        NA                        &lt;NA&gt;          &lt;NA&gt;        NA       NA
                                                                              fishNotes
1                                                      Unsuccessful at finding shed tag
2                                                      Unsuccessful at finding shed tag
3 Unsuccessful at finding shed tag. It is most likely located in a hole under this rock
4                                                                                  &lt;NA&gt;
5                                                                                  &lt;NA&gt;
6                                                                                  &lt;NA&gt;
    source totalDischarge        flowTime_EST
1     iPad           0.03 2024-08-27 10:16:23
2     iPad           0.03 2024-08-27 10:16:23
3     iPad           0.03 2024-08-27 10:16:23
4 receiver             NA                &lt;NA&gt;
5 receiver             NA                &lt;NA&gt;
6 receiver             NA                &lt;NA&gt;</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb200"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb200-1"><a href="#cb200-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb200-2"><a href="#cb200-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_12, </span>
<span id="cb200-3"><a href="#cb200-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_12.csv"</span>, </span>
<span id="cb200-4"><a href="#cb200-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="preparing-stream-surveys" class="level2" data-number="2.8">
<h2 data-number="2.8" class="anchored" data-anchor-id="preparing-stream-surveys"><span class="header-section-number">2.8</span> Preparing Stream Surveys</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb201"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb201-1"><a href="#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the stream survey data</span></span>
<span id="cb201-2"><a href="#cb201-2" aria-hidden="true" tabindex="-1"></a>stream_survey_1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 1.csv"</span>)</span>
<span id="cb201-3"><a href="#cb201-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb201-4"><a href="#cb201-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb201-5"><a href="#cb201-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb201-6"><a href="#cb201-6" aria-hidden="true" tabindex="-1"></a>stream_survey_1<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(stream_survey_1<span class="sc">$</span>date, </span>
<span id="cb201-7"><a href="#cb201-7" aria-hidden="true" tabindex="-1"></a>                                <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb201-8"><a href="#cb201-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb201-9"><a href="#cb201-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and start time into a DateTime column</span></span>
<span id="cb201-10"><a href="#cb201-10" aria-hidden="true" tabindex="-1"></a>stream_survey_1<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(stream_survey_1<span class="sc">$</span>date, </span>
<span id="cb201-11"><a href="#cb201-11" aria-hidden="true" tabindex="-1"></a>                                                 stream_survey_1<span class="sc">$</span>startTime), </span>
<span id="cb201-12"><a href="#cb201-12" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>,</span>
<span id="cb201-13"><a href="#cb201-13" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb201-14"><a href="#cb201-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb201-15"><a href="#cb201-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb201-16"><a href="#cb201-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 5:00 EST to 11:00 EST</span></span>
<span id="cb201-17"><a href="#cb201-17" aria-hidden="true" tabindex="-1"></a>stream_survey_1 <span class="ot">&lt;-</span> stream_survey_1 <span class="sc">%&gt;%</span></span>
<span id="cb201-18"><a href="#cb201-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb201-19"><a href="#cb201-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb201-20"><a href="#cb201-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">12</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb201-21"><a href="#cb201-21" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb201-22"><a href="#cb201-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb201-23"><a href="#cb201-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb201-24"><a href="#cb201-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb201-25"><a href="#cb201-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb201-26"><a href="#cb201-26" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stream_survey_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1       10 194410b8-fad1-4f4a-b9ae-db931320a22a 6/11/2024 9:02:30 PM
2       11 996e0001-368b-469e-be69-b35706f03225 6/12/2024 5:34:05 AM
3       12 d39f1e05-fdb2-4ec7-a8d7-cdc09af42fa1 6/12/2024 8:53:37 PM
4       13 bba7b0ae-0b1a-4d98-a9d9-3e1879fbd191 6/13/2024 4:58:33 AM
5       14 14ae17cc-97c4-46f0-a402-fe006e67630d 6/13/2024 8:52:46 PM
6       15 dbbc0edb-a111-4ad3-80ad-4ba1cedeefdd 6/14/2024 5:06:20 AM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 6/18/2024 7:49:31 PM
2 jpilchik@contractor.usgs.gov_USGS 7/15/2024 1:21:10 PM
3 jpilchik@contractor.usgs.gov_USGS 7/15/2024 1:57:10 PM
4 jpilchik@contractor.usgs.gov_USGS 7/15/2024 1:36:13 PM
5 jpilchik@contractor.usgs.gov_USGS 7/15/2024 1:14:33 PM
6 jpilchik@contractor.usgs.gov_USGS 7/15/2024 6:01:58 PM
                             Editor           stream       date  time airTemp
1 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-06-11 16:01      71
2 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-06-11 17:13      68
3 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-06-12 05:25      71
4 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-06-12 18:55      68
5 jpilchik@contractor.usgs.gov_USGS    Dickey (DCKY) 2024-06-13 04:17      80
6 jpilchik@contractor.usgs.gov_USGS    Dickey (DCKY) 2024-06-13 17:47      78
                       cloud  precip startTime endTime                 iso
1 Partly cloudy/partly sunny No rain     06:30   12:00 AMTH202406111000EST
2                     Cloudy No rain     17:14   23:20 AMTH202406111723EST
3                      Clear No rain     05:26   10:58 UNDH202406120734EST
4  Mostly sunny/mostly clear No rain     18:55   22:52 UNDH202406121908EST
5                      Clear No rain     05:35   10:17 DCKY202406130851EST
6  Mostly sunny/mostly clear No rain     17:48   22:44 DCKY202406131748EST
  Notes isoTime downstreamGPS downstreamGain upstreamGPS upstreamGain         x
1    NA   10:00            NA             NA          NA           NA   0.00000
2    NA   17:23            NA             NA          NA           NA -72.46031
3    NA   07:34            NA             NA          NA           NA -72.32535
4    NA   19:08            NA             NA          NA           NA   0.00000
5    NA   08:51            NA             NA          NA           NA   0.00000
6    NA   17:48            NA             NA          NA           NA   0.00000
         y        dateTime_EST shift
1  0.00000 2024-06-11 06:30:00   day
2 42.38131 2024-06-11 17:14:00 night
3 42.44498 2024-06-12 05:26:00   day
4  0.00000 2024-06-12 18:55:00 night
5  0.00000 2024-06-13 05:35:00   day
6  0.00000 2024-06-13 17:48:00 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb203"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb203-2"><a href="#cb203-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(stream_survey_1, </span>
<span id="cb203-3"><a href="#cb203-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_1.csv"</span>, </span>
<span id="cb203-4"><a href="#cb203-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb204"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb204-1"><a href="#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the stream survey data</span></span>
<span id="cb204-2"><a href="#cb204-2" aria-hidden="true" tabindex="-1"></a>stream_survey_2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 2.csv"</span>)</span>
<span id="cb204-3"><a href="#cb204-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-4"><a href="#cb204-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb204-5"><a href="#cb204-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb204-6"><a href="#cb204-6" aria-hidden="true" tabindex="-1"></a>stream_survey_2<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(stream_survey_2<span class="sc">$</span>date, </span>
<span id="cb204-7"><a href="#cb204-7" aria-hidden="true" tabindex="-1"></a>                                <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb204-8"><a href="#cb204-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-9"><a href="#cb204-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and start time into a DateTime column</span></span>
<span id="cb204-10"><a href="#cb204-10" aria-hidden="true" tabindex="-1"></a>stream_survey_2<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(stream_survey_2<span class="sc">$</span>date, </span>
<span id="cb204-11"><a href="#cb204-11" aria-hidden="true" tabindex="-1"></a>                                                 stream_survey_2<span class="sc">$</span>startTime), </span>
<span id="cb204-12"><a href="#cb204-12" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>,</span>
<span id="cb204-13"><a href="#cb204-13" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb204-14"><a href="#cb204-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-15"><a href="#cb204-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb204-16"><a href="#cb204-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 11:00 EST to 17:00 EST</span></span>
<span id="cb204-17"><a href="#cb204-17" aria-hidden="true" tabindex="-1"></a>stream_survey_2 <span class="ot">&lt;-</span> stream_survey_2 <span class="sc">%&gt;%</span></span>
<span id="cb204-18"><a href="#cb204-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb204-19"><a href="#cb204-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb204-20"><a href="#cb204-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">10</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">18</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb204-21"><a href="#cb204-21" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb204-22"><a href="#cb204-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb204-23"><a href="#cb204-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb204-24"><a href="#cb204-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-25"><a href="#cb204-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb204-26"><a href="#cb204-26" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stream_survey_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID          CreationDate
1       18 abf3a63a-078e-4b3e-a676-d1f9b5a9cbc6  6/18/2024 2:57:48 AM
2       19 ce55f5cf-afe7-45e1-826f-56eb864ff94f 6/18/2024 11:22:40 AM
3       20 15d07f1a-9b82-46f3-a0f6-2c3a908d733d  6/19/2024 3:01:27 AM
4       21 658180f3-dbd8-436f-af75-81a163a59887 6/19/2024 10:24:55 AM
5       22 bf046215-97fe-4a1a-9a60-98b4c5f4849d  6/20/2024 3:32:05 AM
6       23 6e9a6bd8-6d27-401d-8b8c-eacb583d9af6 6/20/2024 10:39:52 AM
                            Creator              EditDate
1 jpilchik@contractor.usgs.gov_USGS  7/15/2024 1:39:28 PM
2 jpilchik@contractor.usgs.gov_USGS 6/18/2024 11:22:40 AM
3 jpilchik@contractor.usgs.gov_USGS  6/19/2024 3:01:27 AM
4 jpilchik@contractor.usgs.gov_USGS 6/19/2024 10:24:55 AM
5 jpilchik@contractor.usgs.gov_USGS  6/20/2024 3:32:05 AM
6 jpilchik@contractor.usgs.gov_USGS 6/20/2024 10:39:52 AM
                             Editor          stream       date  time airTemp
1 jpilchik@contractor.usgs.gov_USGS   Dickey (DCKY) 2024-06-17 11:25      79
2 jpilchik@contractor.usgs.gov_USGS   Dickey (DCKY) 2024-06-17 23:46      65
3 jpilchik@contractor.usgs.gov_USGS Amethyst (AMTH) 2024-06-18 11:09      87
4 jpilchik@contractor.usgs.gov_USGS Amethyst (AMTH) 2024-06-18 23:38      70
5 jpilchik@contractor.usgs.gov_USGS      Dry (DRYU) 2024-06-19 11:05      90
6 jpilchik@contractor.usgs.gov_USGS      Dry (DRYU) 2024-06-19 23:42      78
                       cloud  precip startTime endTime                 iso
1 Partly cloudy/partly sunny No rain     11:26   17:00 DCKY202406171330EST
2                      Clear No rain     23:45   04:55 DCKY202406180137EST
3                      Clear No rain     11:18   17:00 AMTH202406181622EST
4                      Clear No rain     23:40   04:33 AMTH202406182348EST
5                      Clear No rain     11:06   16:00 DRYU202406191125EST
6                      Clear No rain     23:42   05:07 DRYU202406192346EST
  Notes isoTime downstreamGPS downstreamGain upstreamGPS upstreamGain         x
1    NA   13:30            NA             NA          NA           NA -72.37172
2    NA   01:37            NA             NA          NA           NA -72.37179
3    NA   16:22            NA             NA          NA           NA -72.46521
4    NA   23:48            NA             NA          NA           NA -72.46050
5    NA   11:25            NA             NA          NA           NA -72.50835
6    NA   23:46            NA             NA          NA           NA -72.50595
         y        dateTime_EST shift
1 42.44369 2024-06-17 11:26:00   day
2 42.44426 2024-06-17 23:45:00 night
3 42.38022 2024-06-18 11:18:00   day
4 42.38134 2024-06-18 23:40:00 night
5 42.66846 2024-06-19 11:06:00   day
6 42.66847 2024-06-19 23:42:00 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb206"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb206-2"><a href="#cb206-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(stream_survey_2, </span>
<span id="cb206-3"><a href="#cb206-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_2.csv"</span>, </span>
<span id="cb206-4"><a href="#cb206-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb207"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb207-1"><a href="#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the stream survey data</span></span>
<span id="cb207-2"><a href="#cb207-2" aria-hidden="true" tabindex="-1"></a>stream_survey_3 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 3.csv"</span>)</span>
<span id="cb207-3"><a href="#cb207-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb207-4"><a href="#cb207-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb207-5"><a href="#cb207-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb207-6"><a href="#cb207-6" aria-hidden="true" tabindex="-1"></a>stream_survey_3<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(stream_survey_3<span class="sc">$</span>date, </span>
<span id="cb207-7"><a href="#cb207-7" aria-hidden="true" tabindex="-1"></a>                                <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb207-8"><a href="#cb207-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb207-9"><a href="#cb207-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and start time into a DateTime column</span></span>
<span id="cb207-10"><a href="#cb207-10" aria-hidden="true" tabindex="-1"></a>stream_survey_3<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(stream_survey_3<span class="sc">$</span>date, </span>
<span id="cb207-11"><a href="#cb207-11" aria-hidden="true" tabindex="-1"></a>                                                 stream_survey_3<span class="sc">$</span>startTime), </span>
<span id="cb207-12"><a href="#cb207-12" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>,</span>
<span id="cb207-13"><a href="#cb207-13" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb207-14"><a href="#cb207-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb207-15"><a href="#cb207-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb207-16"><a href="#cb207-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 5:00 EST to 11:00 EST</span></span>
<span id="cb207-17"><a href="#cb207-17" aria-hidden="true" tabindex="-1"></a>stream_survey_3 <span class="ot">&lt;-</span> stream_survey_3 <span class="sc">%&gt;%</span></span>
<span id="cb207-18"><a href="#cb207-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb207-19"><a href="#cb207-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb207-20"><a href="#cb207-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">12</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb207-21"><a href="#cb207-21" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb207-22"><a href="#cb207-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb207-23"><a href="#cb207-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb207-24"><a href="#cb207-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb207-25"><a href="#cb207-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb207-26"><a href="#cb207-26" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stream_survey_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1       26 e9430b87-ef0c-4960-8ad1-a995995af43c 6/25/2024 9:26:49 PM
2       27 cd25042b-a084-45e8-aa62-cd2a7c6fd8d5 6/26/2024 4:39:50 AM
3       28 3661f0c9-d52f-4c69-ba15-13f5fc71e195 6/26/2024 9:01:04 PM
4       29 372ecdb0-8c48-4efa-81fc-e750f08d230b 6/27/2024 3:54:12 AM
5       30 6f74a604-be50-4425-b683-084c84de2d1f 6/27/2024 9:01:19 PM
6       31 eaa32524-f44b-489d-9825-d642aa04e554 6/28/2024 4:54:10 AM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 6/25/2024 9:26:49 PM
2 jpilchik@contractor.usgs.gov_USGS 6/26/2024 4:39:50 AM
3 jpilchik@contractor.usgs.gov_USGS 6/26/2024 9:01:04 PM
4 jpilchik@contractor.usgs.gov_USGS 6/27/2024 3:54:12 AM
5 jpilchik@contractor.usgs.gov_USGS 6/27/2024 9:01:19 PM
6 jpilchik@contractor.usgs.gov_USGS 6/28/2024 4:54:10 AM
                             Editor           stream       date  time airTemp
1 jpilchik@contractor.usgs.gov_USGS       Dry (DRYU) 2024-06-25 05:43      57
2 jpilchik@contractor.usgs.gov_USGS       Dry (DRYU) 2024-06-25 17:21      82
3 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-06-26 05:25      70
4 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-06-26 17:18      82
5 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-06-27 05:17      66
6 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-06-27 17:27      87
                      cloud  precip startTime endTime                  iso
1                     Clear No rain     05:44   10:44  DRYU202406250610EST
2                    Cloudy No rain     17:21   23:05  DRYU202406251745EST
3 Mostly sunny/mostly clear No rain     05:25   11:06  AMTH202406261101EST
4                    Cloudy No rain     17:14   21:57  AMTH202406261915EST
5                    Cloudy No rain     05:18   10:30 UNDH20240627 0807EST
6                    Cloudy No rain     17:27   22:50  UNDH202406271916EST
                                                                                                                                    Notes
1 Did not get to the stream on time because the batteries were corroded in the receiver so had to go back to lab and get other receiver. 
2                                                                                                                                        
3                                                                                                                                        
4                                                                                                                                        
5                                                                                                                                        
6                                                                                                                                        
  isoTime                       downstreamGPS downstreamGain
1   06:10             42.6353974. -72.4967190             65
2   17:45   Lat: 42.665107 long: 72.5031943 W             75
3   11:01      42 degrees 23N, 72 degrees 28W             74
4   19:15  Lat-42.3792386’N Long-72.4633786’W             90
5   08:07                                                 NA
6   19:16 Lat: 42.27’N Long: 72.19’W +/-4.8 m             55
                                                                  upstreamGPS
1                                                      42.6694251 -72.5074050
2                        Lat: 42.6683114 degrees N Long: 72.5066514 degrees W
3                                              42 degrees 23N, 72 degrees 27W
4 Buffim: lat-42.23’N long-72.28’W Harris: lat-42.3807166’N long-72.4581883’W
5                                                                            
6                                        Lat: 42.27’N Long: 72.20’W +/- 4.6 m
  upstreamGain         x        y        dateTime_EST shift
1           55   0.00000  0.00000 2024-06-25 05:44:00   day
2           85   0.00000  0.00000 2024-06-25 17:21:00 night
3           75   0.00000  0.00000 2024-06-26 05:25:00   day
4           85 -72.45935 42.38128 2024-06-26 17:14:00 night
5           NA -72.32505 42.44505 2024-06-27 05:18:00   day
6           60   0.00000  0.00000 2024-06-27 17:27:00 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb209"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb209-1"><a href="#cb209-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb209-2"><a href="#cb209-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(stream_survey_3, </span>
<span id="cb209-3"><a href="#cb209-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_3.csv"</span>, </span>
<span id="cb209-4"><a href="#cb209-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb210"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb210-1"><a href="#cb210-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the stream survey data</span></span>
<span id="cb210-2"><a href="#cb210-2" aria-hidden="true" tabindex="-1"></a>stream_survey_4 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 4.csv"</span>)</span>
<span id="cb210-3"><a href="#cb210-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb210-4"><a href="#cb210-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb210-5"><a href="#cb210-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb210-6"><a href="#cb210-6" aria-hidden="true" tabindex="-1"></a>stream_survey_4<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(stream_survey_4<span class="sc">$</span>date, </span>
<span id="cb210-7"><a href="#cb210-7" aria-hidden="true" tabindex="-1"></a>                                <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb210-8"><a href="#cb210-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb210-9"><a href="#cb210-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and start time into a DateTime column</span></span>
<span id="cb210-10"><a href="#cb210-10" aria-hidden="true" tabindex="-1"></a>stream_survey_4<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(stream_survey_4<span class="sc">$</span>date, </span>
<span id="cb210-11"><a href="#cb210-11" aria-hidden="true" tabindex="-1"></a>                                                 stream_survey_4<span class="sc">$</span>startTime), </span>
<span id="cb210-12"><a href="#cb210-12" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>,</span>
<span id="cb210-13"><a href="#cb210-13" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb210-14"><a href="#cb210-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb210-15"><a href="#cb210-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb210-16"><a href="#cb210-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 3:00 EST to 9:00 EST</span></span>
<span id="cb210-17"><a href="#cb210-17" aria-hidden="true" tabindex="-1"></a>stream_survey_4 <span class="ot">&lt;-</span> stream_survey_4 <span class="sc">%&gt;%</span></span>
<span id="cb210-18"><a href="#cb210-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb210-19"><a href="#cb210-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb210-20"><a href="#cb210-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">10</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb210-21"><a href="#cb210-21" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb210-22"><a href="#cb210-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb210-23"><a href="#cb210-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb210-24"><a href="#cb210-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb210-25"><a href="#cb210-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb210-26"><a href="#cb210-26" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stream_survey_4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1       34 cee16e3a-308a-4584-a9c4-0fb03105afd7 6/30/2024 2:29:49 PM
2       35 3bf39ed4-ecb0-4394-8343-8dd7213871e1  7/1/2024 7:03:31 AM
3       36 b363696b-4c8e-4455-85d4-c7ba7a39db51  7/1/2024 2:28:43 PM
4       37 c894eaea-07c6-4870-b479-9d90ad9b6899  7/2/2024 6:58:57 AM
5       38 56e53988-6efe-4ba1-8fe3-52f2556011ca  7/2/2024 3:05:35 PM
6       39 5608a117-4ffe-4b49-a740-7fdb0912ec52  7/3/2024 7:14:44 AM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 6/30/2024 2:29:49 PM
2 jpilchik@contractor.usgs.gov_USGS  7/1/2024 7:03:31 AM
3 jpilchik@contractor.usgs.gov_USGS  7/1/2024 2:28:43 PM
4 jpilchik@contractor.usgs.gov_USGS  7/2/2024 6:58:57 AM
5 jpilchik@contractor.usgs.gov_USGS  7/2/2024 3:05:35 PM
6 jpilchik@contractor.usgs.gov_USGS  7/8/2024 1:18:23 PM
                             Editor          stream       date  time airTemp
1 jpilchik@contractor.usgs.gov_USGS      Dry (DRYU) 2024-06-30 03:56      71
2 jpilchik@contractor.usgs.gov_USGS      Dry (DRYU) 2024-06-30 13:33      75
3 jpilchik@contractor.usgs.gov_USGS   Dickey (DCKY) 2024-07-01 03:32      59
4 jpilchik@contractor.usgs.gov_USGS   Dickey (DCKY) 2024-07-01 13:25      80
5 jpilchik@contractor.usgs.gov_USGS Amethyst (AMTH) 2024-07-02 03:22      64
6 jpilchik@contractor.usgs.gov_USGS Amethyst (AMTH) 2024-07-02 13:00      82
                       cloud  precip startTime endTime                 iso
1                     Cloudy No rain     03:57   08:55 DRYU202406300528EST
2                     Cloudy No rain     13:34          DRYU20240631428EST
3                      Clear No rain     03:28   08:37  DCKY20240701445EST
4 Partly cloudy/partly sunny No rain     13:19   18:47 DCKY202407011412EST
5                      Clear No rain     03:23         AMTH202407020529EST
6                      Clear No rain     13:00   18:18  Amth20240701333EST
                                                      Notes isoTime
1                                                             05:28
2                                                             14:28
3                                                             04:45
4 38 is way up by hunt road, 29s thermal tag was recovered    14:12
5                                                             05:29
6                                                    \n\n\n   13:33
                         downstreamGPS downstreamGain
1 Lat: 42.6626558 N Long: 72.5044938 W             85
2            42.6683792 N 72.5062250 W             74
3 Lat: 42.4443189 N Long: 72.3720856 W             80
4              42.4442662   72.3717833             65
5            42.3792378 N 72.4631544 W             75
6   Lat:42.3806414 N Long:72.4654265 W             75
                                                                             upstreamGPS
1                                                   Lat: 42.6688089 N Long: 72.5073252 W
2                                                              42.6683792 N 72.5062250 W
3                                                   Lat: 42.4416066 N Long: 72.3683132 W
4                                                                42.4408761   72.3676351
5                                                             42.3807546 N. 72.4584560 W
6 Harris: Lat- 42.3806381N Long- 72.4586440 W Buffim: Lat-42.3820960 N Long-72.4583184 W
  upstreamGain         x        y        dateTime_EST shift
1           90 -72.50618 42.66849 2024-06-30 03:57:00   day
2           74 -72.50456 42.66771 2024-06-30 13:34:00 night
3           80 -72.37191 42.44431 2024-07-01 03:28:00   day
4           70 -72.37122 42.44379 2024-07-01 13:19:00 night
5           75   0.00000  0.00000 2024-07-02 03:23:00   day
6           65 -72.45964 42.38119 2024-07-02 13:00:00 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb212"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb212-1"><a href="#cb212-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb212-2"><a href="#cb212-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(stream_survey_4, </span>
<span id="cb212-3"><a href="#cb212-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_4.csv"</span>, </span>
<span id="cb212-4"><a href="#cb212-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb213"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the stream survey data</span></span>
<span id="cb213-2"><a href="#cb213-2" aria-hidden="true" tabindex="-1"></a>stream_survey_5 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 5.csv"</span>)</span>
<span id="cb213-3"><a href="#cb213-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb213-4"><a href="#cb213-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb213-5"><a href="#cb213-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb213-6"><a href="#cb213-6" aria-hidden="true" tabindex="-1"></a>stream_survey_5<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(stream_survey_5<span class="sc">$</span>date, </span>
<span id="cb213-7"><a href="#cb213-7" aria-hidden="true" tabindex="-1"></a>                                <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb213-8"><a href="#cb213-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb213-9"><a href="#cb213-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and start time into a DateTime column</span></span>
<span id="cb213-10"><a href="#cb213-10" aria-hidden="true" tabindex="-1"></a>stream_survey_5<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(stream_survey_5<span class="sc">$</span>date, </span>
<span id="cb213-11"><a href="#cb213-11" aria-hidden="true" tabindex="-1"></a>                                                 stream_survey_5<span class="sc">$</span>startTime), </span>
<span id="cb213-12"><a href="#cb213-12" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>,</span>
<span id="cb213-13"><a href="#cb213-13" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb213-14"><a href="#cb213-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb213-15"><a href="#cb213-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb213-16"><a href="#cb213-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb213-17"><a href="#cb213-17" aria-hidden="true" tabindex="-1"></a>stream_survey_5 <span class="ot">&lt;-</span> stream_survey_5 <span class="sc">%&gt;%</span></span>
<span id="cb213-18"><a href="#cb213-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb213-19"><a href="#cb213-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb213-20"><a href="#cb213-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">14</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb213-21"><a href="#cb213-21" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb213-22"><a href="#cb213-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb213-23"><a href="#cb213-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb213-24"><a href="#cb213-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb213-25"><a href="#cb213-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb213-26"><a href="#cb213-26" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stream_survey_5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1       42 6869fc9a-9842-4aa9-83a8-76a3f3a57dba  7/9/2024 9:01:43 PM
2       43 d85f66d1-d689-4bc4-a718-a9c99af79321 7/10/2024 1:51:21 AM
3       44 1a44dffa-9703-4dbd-b750-6c73f7244214 7/10/2024 9:00:51 PM
4       45 98aa054b-02e0-4c15-8917-4210691f10b6 7/11/2024 4:42:52 AM
5       46 af3a3fdc-6eba-46fe-8048-f8b5c3870a30 7/11/2024 8:57:14 PM
6       47 e70b72b5-7372-437c-9131-171b7d4cf1ae 7/12/2024 4:30:10 AM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS  7/9/2024 9:01:43 PM
2 jpilchik@contractor.usgs.gov_USGS 7/10/2024 1:51:21 AM
3 jpilchik@contractor.usgs.gov_USGS 7/10/2024 9:00:51 PM
4 jpilchik@contractor.usgs.gov_USGS 7/11/2024 4:42:52 AM
5 jpilchik@contractor.usgs.gov_USGS 7/11/2024 8:57:14 PM
6 jpilchik@contractor.usgs.gov_USGS 7/12/2024 4:30:10 AM
                             Editor           stream       date  time airTemp
1 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-07-09 07:27      71
2 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-07-09 18:46      75
3 jpilchik@contractor.usgs.gov_USGS    Dickey (DCKY) 2024-07-10 07:13      83
4 jpilchik@contractor.usgs.gov_USGS    Dickey (DCKY) 2024-07-10 17:16      81
5 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-07-11 12:38      81
6 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-07-11 17:25      83
                       cloud        precip startTime endTime
1                     Cloudy Moderate rain     07:28   12:39
2              Mostly cloudy Moderate rain     17:30   19:49
3                     Cloudy       No rain     07:13   12:43
4 Partly cloudy/partly sunny       No rain     17:16   22:47
5                     Cloudy     Weak rain     07:43   12:25
6 Partly cloudy/partly sunny       No rain     17:22   22:37
                                                            iso
1                                           UNDH202407090734EST
2                                           UNDH202407091730EST
3                                            DCKY20240710749EST
4                                                              
5                                            AMTH20240711946EST
6 BUFF202407112026EST, HARR202407112031EST, AMTH202407112036EST
                      Notes isoTime                       downstreamGPS
1                             07:27           42.4445523 N 72.3210041 W
2 Thunder most of the night   17:30                                    
3                             07:49           42.4419963.   -72.3735598
4                             17:16 Lat:42.4439807 N Long: 72.3735109 W
5                             09:46           42.3791708 N 72.4632400 W
6                             20:26  Lat: 42.3802241 N Long: 72.4623015
  downstreamGain                                               upstreamGPS
1             75                                 42.4436600 W 72.3295537 N
2             NA                                                          
3             74                                 42.4373994 N 72.3647180 W
4             50                       Lat: 42.4422845 N Long:72.3691477 W
5             75                                 42.3807002 N 72.4582711 W
6             85 Buffim- Lat: 42.3821137 N Long: 72.4566635 W Harris- Lat:
  upstreamGain         x        y        dateTime_EST shift
1           75 -72.32492 42.44495 2024-07-09 07:28:00   day
2           NA -72.32516 42.44489 2024-07-09 17:30:00 night
3           74   0.00000  0.00000 2024-07-10 07:13:00   day
4           80   0.00000  0.00000 2024-07-10 17:16:00 night
5           75   0.00000  0.00000 2024-07-11 07:43:00   day
6           85 -72.45936 42.38138 2024-07-11 17:22:00 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb215"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb215-1"><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb215-2"><a href="#cb215-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(stream_survey_5, </span>
<span id="cb215-3"><a href="#cb215-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_5.csv"</span>, </span>
<span id="cb215-4"><a href="#cb215-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb216"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb216-1"><a href="#cb216-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the stream survey data</span></span>
<span id="cb216-2"><a href="#cb216-2" aria-hidden="true" tabindex="-1"></a>stream_survey_6 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 6.csv"</span>)</span>
<span id="cb216-3"><a href="#cb216-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb216-4"><a href="#cb216-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb216-5"><a href="#cb216-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb216-6"><a href="#cb216-6" aria-hidden="true" tabindex="-1"></a>stream_survey_6<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(stream_survey_6<span class="sc">$</span>date, </span>
<span id="cb216-7"><a href="#cb216-7" aria-hidden="true" tabindex="-1"></a>                                <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb216-8"><a href="#cb216-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb216-9"><a href="#cb216-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and start time into a DateTime column</span></span>
<span id="cb216-10"><a href="#cb216-10" aria-hidden="true" tabindex="-1"></a>stream_survey_6<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(stream_survey_6<span class="sc">$</span>date, </span>
<span id="cb216-11"><a href="#cb216-11" aria-hidden="true" tabindex="-1"></a>                                                 stream_survey_6<span class="sc">$</span>startTime), </span>
<span id="cb216-12"><a href="#cb216-12" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>,</span>
<span id="cb216-13"><a href="#cb216-13" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb216-14"><a href="#cb216-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb216-15"><a href="#cb216-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb216-16"><a href="#cb216-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 3:00 EST to 9:00 EST</span></span>
<span id="cb216-17"><a href="#cb216-17" aria-hidden="true" tabindex="-1"></a>stream_survey_6 <span class="ot">&lt;-</span> stream_survey_6 <span class="sc">%&gt;%</span></span>
<span id="cb216-18"><a href="#cb216-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb216-19"><a href="#cb216-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb216-20"><a href="#cb216-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">10</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb216-21"><a href="#cb216-21" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb216-22"><a href="#cb216-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb216-23"><a href="#cb216-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb216-24"><a href="#cb216-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb216-25"><a href="#cb216-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb216-26"><a href="#cb216-26" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stream_survey_6)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1       50 92649e1a-735a-40a0-b5b0-669692c32274 7/16/2024 2:45:20 PM
2       51 5ad895f1-b196-4dfd-9e9e-94d03bb7d746 7/17/2024 7:02:22 AM
3       52 a940133f-af11-4ff8-bc3e-bf1ff15c764b 7/17/2024 3:14:01 PM
4       53 7159dfaf-5da1-4c60-a16b-74a5a92e08e3 7/18/2024 7:40:51 AM
5       54 51389fe5-0685-4886-a482-304570f5f6d2 7/18/2024 3:04:41 PM
6       55 7a8e5449-b58c-41a1-963f-2c9928220baf 7/19/2024 7:01:36 AM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 7/16/2024 2:45:20 PM
2 jpilchik@contractor.usgs.gov_USGS 7/17/2024 7:02:22 AM
3 jpilchik@contractor.usgs.gov_USGS 7/17/2024 3:14:01 PM
4 jpilchik@contractor.usgs.gov_USGS 7/22/2024 1:54:20 PM
5 jpilchik@contractor.usgs.gov_USGS 7/22/2024 1:52:02 PM
6 jpilchik@contractor.usgs.gov_USGS 7/19/2024 7:01:36 AM
                             Editor          stream       date  time airTemp
1 jpilchik@contractor.usgs.gov_USGS   Dickey (DCKY) 2024-07-16 03:35      70
2 jpilchik@contractor.usgs.gov_USGS   Dickey (DCKY) 2024-07-16 13:12      85
3 jpilchik@contractor.usgs.gov_USGS Amethyst (AMTH) 2024-07-17 03:40      74
4 jpilchik@contractor.usgs.gov_USGS Amethyst (AMTH) 2024-07-17 13:21      88
5 jpilchik@contractor.usgs.gov_USGS      Dry (DRYU) 2024-07-18 03:44      68
6 jpilchik@contractor.usgs.gov_USGS      Dry (DRYU) 2024-07-18 12:55      83
                      cloud  precip startTime endTime
1                    Cloudy No rain     03:35   08:55
2 Mostly sunny/mostly clear No rain     13:13   18:08
3                     Clear No rain     03:44   09:00
4                     Clear No rain     13:25   16:45
5             Mostly cloudy No rain     03:45   09:12
6                     Clear No rain     12:55   18:27
                                                              iso
1                                             DCKY202407160347EST
2                                             DCKY202407161444EST
3   BUFF202407170440EST, HARR202407170601EST, AMTH202407170611EST
4 AMTH202407171527EST ,  BUFF02407171527EST , HARR202407171530EST
5                                             DRYU202407180447EST
6                                             DRYU202407181425EST
                                                     Notes isoTime
1                                                            03:47
2                                                            14:44
3                                                            04:40
4          Had to leave early because of bad thunderstorms   15:27
5 Walked all the way to lower dry looking for missing fis.   04:47
6                                                            14:25
                                                downstreamGPS downstreamGain
1                                   42.4422631.N 72.3733436 W             70
2                    Lat: 42.27 +/-7.6 N Long: 72.22 +/-7.6 W             80
3                                   42.1794043 N 72.4630898 W             75
4 42.3812014 N 72.4601705 W Harris: 42.3807410 N 72.4587332 W             80
5                                     42.6586850 N 72.5041881             75
6                                   42.6626352 N 72.5044535 W             75
                           upstreamGPS upstreamGain         x        y
1             42.4374180 N 72.346902 W           75 -72.37124 42.44404
2       42.4430367 LAT. 72.3700836 LON           80   0.00000  0.00000
3            42.3807796 N 72.4584831 W           75 -72.45965 42.38116
4            42.3820773 N 72.4585361 W           80   0.00000  0.00000
5            42.6691445 N 72.5075889 W           75   0.00000  0.00000
6 Lat: 42.6691061 N Long: 72.5075635 W           75   0.00000  0.00000
         dateTime_EST shift
1 2024-07-16 03:35:00   day
2 2024-07-16 13:13:00 night
3 2024-07-17 03:44:00   day
4 2024-07-17 13:25:00 night
5 2024-07-18 03:45:00   day
6 2024-07-18 12:55:00 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb218"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb218-1"><a href="#cb218-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb218-2"><a href="#cb218-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(stream_survey_6, </span>
<span id="cb218-3"><a href="#cb218-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_6.csv"</span>, </span>
<span id="cb218-4"><a href="#cb218-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb219"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb219-1"><a href="#cb219-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the stream survey data</span></span>
<span id="cb219-2"><a href="#cb219-2" aria-hidden="true" tabindex="-1"></a>stream_survey_7 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 7.csv"</span>)</span>
<span id="cb219-3"><a href="#cb219-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb219-4"><a href="#cb219-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb219-5"><a href="#cb219-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb219-6"><a href="#cb219-6" aria-hidden="true" tabindex="-1"></a>stream_survey_7<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(stream_survey_7<span class="sc">$</span>date, </span>
<span id="cb219-7"><a href="#cb219-7" aria-hidden="true" tabindex="-1"></a>                                <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb219-8"><a href="#cb219-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb219-9"><a href="#cb219-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and start time into a DateTime column</span></span>
<span id="cb219-10"><a href="#cb219-10" aria-hidden="true" tabindex="-1"></a>stream_survey_7<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(stream_survey_7<span class="sc">$</span>date, </span>
<span id="cb219-11"><a href="#cb219-11" aria-hidden="true" tabindex="-1"></a>                                                 stream_survey_7<span class="sc">$</span>startTime), </span>
<span id="cb219-12"><a href="#cb219-12" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>,</span>
<span id="cb219-13"><a href="#cb219-13" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb219-14"><a href="#cb219-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb219-15"><a href="#cb219-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb219-16"><a href="#cb219-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb219-17"><a href="#cb219-17" aria-hidden="true" tabindex="-1"></a>stream_survey_7 <span class="ot">&lt;-</span> stream_survey_7 <span class="sc">%&gt;%</span></span>
<span id="cb219-18"><a href="#cb219-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb219-19"><a href="#cb219-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb219-20"><a href="#cb219-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">14</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb219-21"><a href="#cb219-21" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb219-22"><a href="#cb219-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb219-23"><a href="#cb219-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb219-24"><a href="#cb219-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb219-25"><a href="#cb219-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb219-26"><a href="#cb219-26" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stream_survey_7)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1       58 8d80e210-e334-4e7d-9f9e-e378637bc01f 7/23/2024 9:37:18 PM
2       59 df7093f9-fe03-4f17-b25f-a5f30cbeb213 7/24/2024 4:01:09 AM
3       60 8ccd1f89-e854-4804-9f15-9b62eecd96ed 7/24/2024 9:05:36 PM
4       61 a6b6cd96-6f06-48e7-bec8-2f81884ca2b1 7/25/2024 4:40:41 AM
5       62 849f9605-680e-4b0c-92ef-efa4612d134d 7/25/2024 9:04:38 PM
6       63 ad37290a-2764-4280-bb2c-e2c02bee83ef 7/26/2024 4:45:13 AM
                            Creator              EditDate
1 jpilchik@contractor.usgs.gov_USGS  7/23/2024 9:37:18 PM
2 jpilchik@contractor.usgs.gov_USGS  7/24/2024 4:01:09 AM
3 jpilchik@contractor.usgs.gov_USGS 7/29/2024 12:39:19 PM
4 jpilchik@contractor.usgs.gov_USGS 7/29/2024 12:35:30 PM
5 jpilchik@contractor.usgs.gov_USGS 7/29/2024 12:36:38 PM
6 jpilchik@contractor.usgs.gov_USGS  7/26/2024 4:45:13 AM
                             Editor          stream       date  time airTemp
1 jpilchik@contractor.usgs.gov_USGS      Dry (DRYU) 2024-07-23 07:27      83
2 jpilchik@contractor.usgs.gov_USGS      Dry (DRYU) 2024-07-23 17:23      71
3 jpilchik@contractor.usgs.gov_USGS   Dickey (DCKY) 2024-07-24 09:27      78
4 jpilchik@contractor.usgs.gov_USGS   Dickey (DCKY) 2024-07-24 17:10      75
5 jpilchik@contractor.usgs.gov_USGS Amethyst (AMTH) 2024-07-25 07:19      72
6 jpilchik@contractor.usgs.gov_USGS Amethyst (AMTH) 2024-07-25 17:15      77
          cloud        precip startTime endTime
1 Mostly cloudy Moderate rain     07:27   13:24
2        Cloudy       No rain     17:13   22:43
3        Cloudy     Weak rain     07:22   12:44
4        Cloudy       No rain     17:12   22:44
5 Mostly cloudy       No rain     07:19   12:53
6        Cloudy       No rain     17:16   22:43
                                                            iso
1                                           DRYU202407230833EST
2                                           DRYU202407231815EST
3                                           DCKY202407241048EST
4                                           DCKY202407241830EST
5 AMTH202407250833EST, HARR202407250833EST, BUFF202407250833EST
6 HARR202407251920EST, AMTH202407252037EST, BUFF202407251815EST
                                  Notes isoTime
1                                         08:33
2 There were a ton of 999/ error codes.   18:15
3                                         10:48
4                                         18:30
5                                         08:33
6                                         18:15
                         downstreamGPS downstreamGain
1          42.6342708 N , 72.4923600 W             60
2 Lat:42.6587346 N Long: 72.50041230 W             75
3            42.4422556 N 72.3734784 W             75
4 Lat: 42.4439420 N Long: 72.3734095 W             75
5            42.3811548 N 72.4602750 W             80
6 Lat: 42.3794408 N Long: 72.4629074 W             75
                                                                                upstreamGPS
1                                                                   42.6682103 N 72.5069701
2                                                      Lat: 42.6688091 N Long: 72.5076269 W
3                                                                42.4373149 N 72.3546576 W 
4                                                       Lat:42.4429939 N Long: 72.3700608 W
5                                                                 42.3020057 N 72.4583703 W
6 Buffim- Lat: 42.3820122 N Long: 72.4584062 W Harris- Lat: 42.3805896 N Long: 72.4587733 W
  upstreamGain         x        y        dateTime_EST shift
1           75 -72.50764 42.66884 2024-07-23 07:27:00   day
2           80   0.00000  0.00000 2024-07-23 17:13:00 night
3           75 -72.37160 42.44381 2024-07-24 07:22:00   day
4           75 -72.37159 42.44394 2024-07-24 17:12:00 night
5           80   0.00000  0.00000 2024-07-25 07:19:00   day
6           75   0.00000  0.00000 2024-07-25 17:16:00 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb221"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb221-1"><a href="#cb221-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb221-2"><a href="#cb221-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(stream_survey_7, </span>
<span id="cb221-3"><a href="#cb221-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_7.csv"</span>, </span>
<span id="cb221-4"><a href="#cb221-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb222"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb222-1"><a href="#cb222-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the stream survey data</span></span>
<span id="cb222-2"><a href="#cb222-2" aria-hidden="true" tabindex="-1"></a>stream_survey_8 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 8.csv"</span>)</span>
<span id="cb222-3"><a href="#cb222-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb222-4"><a href="#cb222-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb222-5"><a href="#cb222-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb222-6"><a href="#cb222-6" aria-hidden="true" tabindex="-1"></a>stream_survey_8<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(stream_survey_8<span class="sc">$</span>date, </span>
<span id="cb222-7"><a href="#cb222-7" aria-hidden="true" tabindex="-1"></a>                                <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb222-8"><a href="#cb222-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb222-9"><a href="#cb222-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and start time into a DateTime column</span></span>
<span id="cb222-10"><a href="#cb222-10" aria-hidden="true" tabindex="-1"></a>stream_survey_8<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(stream_survey_8<span class="sc">$</span>date, </span>
<span id="cb222-11"><a href="#cb222-11" aria-hidden="true" tabindex="-1"></a>                                                 stream_survey_8<span class="sc">$</span>startTime), </span>
<span id="cb222-12"><a href="#cb222-12" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>,</span>
<span id="cb222-13"><a href="#cb222-13" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb222-14"><a href="#cb222-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb222-15"><a href="#cb222-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb222-16"><a href="#cb222-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 3:30 EST to 9:30 EST</span></span>
<span id="cb222-17"><a href="#cb222-17" aria-hidden="true" tabindex="-1"></a>stream_survey_8 <span class="ot">&lt;-</span> stream_survey_8 <span class="sc">%&gt;%</span></span>
<span id="cb222-18"><a href="#cb222-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb222-19"><a href="#cb222-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb222-20"><a href="#cb222-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">11</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb222-21"><a href="#cb222-21" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb222-22"><a href="#cb222-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb222-23"><a href="#cb222-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb222-24"><a href="#cb222-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb222-25"><a href="#cb222-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb222-26"><a href="#cb222-26" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stream_survey_8)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1       66 1346e477-c5ec-40de-83f8-eb61532d3beb 7/30/2024 2:43:27 PM
2       67 85842531-864a-4d9c-bc8c-f307ddf49db8 7/31/2024 7:35:34 AM
3       68 4299598b-2e8a-4b7b-bb73-21768b48378a 7/31/2024 3:05:02 PM
4       69 4e6e99bd-b136-43e3-b7bc-1599b46b7592  8/1/2024 7:34:47 AM
5       70 c812273a-d64a-407d-ad22-a0ce77c6054a  8/1/2024 3:21:53 PM
6       71 51be0e33-f712-47f0-a9cf-625d20637117  8/2/2024 8:08:35 AM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 7/30/2024 2:43:27 PM
2 jpilchik@contractor.usgs.gov_USGS 7/31/2024 7:35:34 AM
3 jpilchik@contractor.usgs.gov_USGS 8/5/2024 12:43:56 PM
4 jpilchik@contractor.usgs.gov_USGS  8/1/2024 7:34:47 AM
5 jpilchik@contractor.usgs.gov_USGS  8/1/2024 3:21:53 PM
6 jpilchik@contractor.usgs.gov_USGS 8/5/2024 12:43:19 PM
                             Editor           stream       date  time airTemp
1 jpilchik@contractor.usgs.gov_USGS    Dickey (DCKY) 2024-07-30 03:50      67
2 jpilchik@contractor.usgs.gov_USGS    Dickey (DCKY) 2024-07-30 12:53      78
3 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-07-31 04:10      79
4 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-07-31 13:06      82
5 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-08-01 03:50      72
6 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-08-01 13:04      87
                       cloud        precip startTime endTime
1                     Cloudy       No rain     03:50   08:56
2                     Cloudy       No rain     12:54   18:24
3                     Cloudy Moderate rain     03:50   08:06
4                     Cloudy       No rain     13:01   16:10
5                      Clear       No rain     03:51   09:27
6 Partly cloudy/partly sunny       No rain     13:04   18:32
                                                          iso Notes isoTime
1                                         DCKY202407300503EST    NA   05:03
2                                         DCKY202407301355EST    NA   13:55
3 HARR202407310650EST AMTH202407310658EST BUFF202407310447EST    NA   04:47
4 AMTH202407311451EST BUFF202407311447EST HARR202407311447EST    NA   14:47
5                                         UNDH202408010442EST    NA   04:42
6                                         UNDH202408011308EST    NA   13:08
                              downstreamGPS downstreamGain
1                 42.4421397 N 72.3133907 W             70
2      Lat: 42.4439938 N Long: 72.3734079 W             80
3                 42.3815085 N 72.4605129 W             70
4      Lat: 42.3802102 N Long: 72.4625902 W             80
5 42.4442400 degrees N 72.3233604 degrees W             70
6      Lat: 42.4444746 N Long: 72.3209563 W             80
                                                                                upstreamGPS
1                                                                  42.4373330 N 72.3646411W
2                                                                 42.4436114 N 72.3703450 W
3                                                                 42.3807633 N 72.4584379 W
4 Buffim- Lat: 42.3818780 N Long: 72.4583519 W Harris- Lat: 42.3805731 N Long: 72.4586648 W
5                                                                 42.4456778 N 72.3323930 W
6                                                                    42.4455316, 72.3324642
  upstreamGain         x        y        dateTime_EST shift
1           70 -72.37105 42.44398 2024-07-30 03:50:00   day
2           80   0.00000  0.00000 2024-07-30 12:54:00 night
3           70 -72.45820 42.38193 2024-07-31 03:50:00   day
4           80 -72.46045 42.38189 2024-07-31 13:01:00 night
5           70 -72.32501 42.44502 2024-08-01 03:51:00   day
6           80   0.00000  0.00000 2024-08-01 13:04:00 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb224"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb224-1"><a href="#cb224-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb224-2"><a href="#cb224-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(stream_survey_8, </span>
<span id="cb224-3"><a href="#cb224-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_8.csv"</span>, </span>
<span id="cb224-4"><a href="#cb224-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb225"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb225-1"><a href="#cb225-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the stream survey data</span></span>
<span id="cb225-2"><a href="#cb225-2" aria-hidden="true" tabindex="-1"></a>stream_survey_9 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 9.csv"</span>)</span>
<span id="cb225-3"><a href="#cb225-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb225-4"><a href="#cb225-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb225-5"><a href="#cb225-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb225-6"><a href="#cb225-6" aria-hidden="true" tabindex="-1"></a>stream_survey_9<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(stream_survey_9<span class="sc">$</span>date, </span>
<span id="cb225-7"><a href="#cb225-7" aria-hidden="true" tabindex="-1"></a>                                <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb225-8"><a href="#cb225-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb225-9"><a href="#cb225-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and start time into a DateTime column</span></span>
<span id="cb225-10"><a href="#cb225-10" aria-hidden="true" tabindex="-1"></a>stream_survey_9<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(stream_survey_9<span class="sc">$</span>date, </span>
<span id="cb225-11"><a href="#cb225-11" aria-hidden="true" tabindex="-1"></a>                                                 stream_survey_9<span class="sc">$</span>startTime), </span>
<span id="cb225-12"><a href="#cb225-12" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>,</span>
<span id="cb225-13"><a href="#cb225-13" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb225-14"><a href="#cb225-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb225-15"><a href="#cb225-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb225-16"><a href="#cb225-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb225-17"><a href="#cb225-17" aria-hidden="true" tabindex="-1"></a>stream_survey_9 <span class="ot">&lt;-</span> stream_survey_9 <span class="sc">%&gt;%</span></span>
<span id="cb225-18"><a href="#cb225-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb225-19"><a href="#cb225-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb225-20"><a href="#cb225-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">14</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb225-21"><a href="#cb225-21" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb225-22"><a href="#cb225-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb225-23"><a href="#cb225-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb225-24"><a href="#cb225-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb225-25"><a href="#cb225-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb225-26"><a href="#cb225-26" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stream_survey_9)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID        CreationDate
1       74 84a095f0-173b-481a-ad36-7a694fc62817 8/6/2024 6:25:06 PM
2       75 8dea0b01-0296-492d-94df-d04b0e1cbfe4 8/7/2024 3:57:33 AM
3       76 b0d49014-c729-4005-8bdb-473fa689f1f9 8/7/2024 5:59:47 PM
4       77 a337d5fe-7fa6-4a86-a91a-6a4a551d9714 8/8/2024 3:32:39 AM
5       78 7749d8e8-fa66-489b-90b4-9414eec942cd 8/8/2024 8:28:14 PM
6       79 487107fc-84cf-4fc1-ae59-e25dfa60e24f 8/9/2024 3:15:51 AM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS  8/6/2024 6:25:06 PM
2 jpilchik@contractor.usgs.gov_USGS  8/7/2024 3:57:33 AM
3 jpilchik@contractor.usgs.gov_USGS  8/7/2024 5:59:47 PM
4 jpilchik@contractor.usgs.gov_USGS  8/8/2024 3:32:39 AM
5 jpilchik@contractor.usgs.gov_USGS  8/8/2024 8:28:14 PM
6 jpilchik@contractor.usgs.gov_USGS 8/13/2024 8:37:31 PM
                             Editor           stream       date  time airTemp
1 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-08-06 07:20      72
2 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-08-06 17:00      73
3 jpilchik@contractor.usgs.gov_USGS       Dry (DRYU) 2024-08-07 06:59      60
4 jpilchik@contractor.usgs.gov_USGS       Dry (DRYU) 2024-08-07 17:14      75
5 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-08-08 07:32      63
6 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-08-08 17:05      73
                      cloud        precip startTime endTime
1                    Cloudy     Weak rain     07:25   12:23
2                    Cloudy     Weak rain     17:59   22:13
3                    Cloudy     Weak rain     07:19   12:43
4 Mostly sunny/mostly clear       No rain     17:14   22:12
5             Mostly cloudy       No rain     07:35   13:34
6                    Cloudy Moderate rain     17:00   22:17
                                                          iso
1                                         UNDH202408060810EST
2                                         UNDH202408061801EST
3                                          DRY202408071031EST
4                                         DRYU202408072002EST
5  BUFF20240801040EST HARR202408081041EST AMTH202408081045EST
6 BUFF202408082007EST HARR202408082026EST AMTH202408082013EST
                                                                                                                  Notes
1 Found a dead fish, cut it open to make sure it wasn’t a tagged fish and there wasn’t a dead tag inside (no tag found)
2                                                                                                                      
3                                                                                                                      
4                                                                                                                    \n
5                                                                                                                      
6                                                                                                                      
  isoTime                              downstreamGPS downstreamGain
1   08:10 42.4442161 degrees N, 72.3234504 degrees W             70
2   18:01        Lat:42.4442383 N Long: 72.3236331 W             80
3   10:31 42.6586929 degrees N, 72.5041623 degrees W             70
4   20:02           Lat 42.6619051.  Lon 72.50446738             80
5   10:40                   42.3794084 N 72.4628350W             70
6   20:07              Lat 42.3813265 Lon 72.4609471             80
                                                                upstreamGPS
1                                42.4459050 degrees N, 72.3317080 degrees W
2                                           Lat 42.4436998. Long 72.3297100
3                                42.6680512 degrees N, 72.5067974 degrees W
4                                             Lat 42.6684551 Lon 72.5079943
5                                                 42.3808097 N 72.4584604 W
6 Buffum lat 42.3821350 Lon 72.4585148 harris lat 42.3813420 Lon 72.4589892
  upstreamGain         x        y        dateTime_EST shift
1           70 -72.32503 42.44526 2024-08-06 07:25:00   day
2           45 -72.32493 42.44484 2024-08-06 17:59:00 night
3           70   0.00000  0.00000 2024-08-07 07:19:00   day
4           80 -72.50564 42.66836 2024-08-07 17:14:00 night
5           70   0.00000  0.00000 2024-08-08 07:35:00   day
6           80   0.00000  0.00000 2024-08-08 17:00:00 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb227"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb227-1"><a href="#cb227-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb227-2"><a href="#cb227-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(stream_survey_9, </span>
<span id="cb227-3"><a href="#cb227-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_9.csv"</span>, </span>
<span id="cb227-4"><a href="#cb227-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb228"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb228-1"><a href="#cb228-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the stream survey data</span></span>
<span id="cb228-2"><a href="#cb228-2" aria-hidden="true" tabindex="-1"></a>stream_survey_10 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 10.csv"</span>)</span>
<span id="cb228-3"><a href="#cb228-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb228-4"><a href="#cb228-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb228-5"><a href="#cb228-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb228-6"><a href="#cb228-6" aria-hidden="true" tabindex="-1"></a>stream_survey_10<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(stream_survey_10<span class="sc">$</span>date, </span>
<span id="cb228-7"><a href="#cb228-7" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb228-8"><a href="#cb228-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb228-9"><a href="#cb228-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and start time into a DateTime column</span></span>
<span id="cb228-10"><a href="#cb228-10" aria-hidden="true" tabindex="-1"></a>stream_survey_10<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(stream_survey_10<span class="sc">$</span>date, </span>
<span id="cb228-11"><a href="#cb228-11" aria-hidden="true" tabindex="-1"></a>                                                  stream_survey_10<span class="sc">$</span>startTime), </span>
<span id="cb228-12"><a href="#cb228-12" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>,</span>
<span id="cb228-13"><a href="#cb228-13" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb228-14"><a href="#cb228-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb228-15"><a href="#cb228-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb228-16"><a href="#cb228-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 4:00 EST to 10:00 EST</span></span>
<span id="cb228-17"><a href="#cb228-17" aria-hidden="true" tabindex="-1"></a>stream_survey_10 <span class="ot">&lt;-</span> stream_survey_10 <span class="sc">%&gt;%</span></span>
<span id="cb228-18"><a href="#cb228-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb228-19"><a href="#cb228-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb228-20"><a href="#cb228-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime_EST) <span class="sc">&gt;=</span> <span class="dv">3</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime_EST) <span class="sc">&lt;</span> <span class="dv">11</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb228-21"><a href="#cb228-21" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb228-22"><a href="#cb228-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb228-23"><a href="#cb228-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb228-24"><a href="#cb228-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb228-25"><a href="#cb228-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb228-26"><a href="#cb228-26" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stream_survey_10)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1       81 7fcbbe73-7c22-4c6e-9e40-844d4102aa1f 8/13/2024 2:23:51 PM
2       82 986c88d3-f7d1-450a-997e-bfd67a39a8b9 8/14/2024 8:07:54 AM
3       83 ee287240-dd14-4b5c-993c-666e2de4fd65 8/14/2024 2:38:12 PM
4       84 beed0318-efdc-4713-a3be-a899684ae7bd 8/15/2024 8:05:58 AM
5       85 6e03d36e-f517-42e1-a1a0-de8ac8868ff5 8/15/2024 3:16:01 PM
6       86 21a1ee25-b5dc-4a25-9677-21f72af8d4ea 8/16/2024 8:37:13 AM
                            Creator              EditDate
1 jpilchik@contractor.usgs.gov_USGS 8/19/2024 12:52:31 PM
2 jpilchik@contractor.usgs.gov_USGS  8/14/2024 8:07:54 AM
3 jpilchik@contractor.usgs.gov_USGS 8/19/2024 12:47:14 PM
4 jpilchik@contractor.usgs.gov_USGS  8/15/2024 8:05:58 AM
5 jpilchik@contractor.usgs.gov_USGS  8/15/2024 3:16:01 PM
6 jpilchik@contractor.usgs.gov_USGS  8/16/2024 8:37:13 AM
                             Editor           stream       date  time airTemp
1 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-08-13 04:16      63
2 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-08-13 13:07      79
3 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-08-14 04:07      58
4 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-08-14 13:19      79
5 jpilchik@contractor.usgs.gov_USGS    Dickey (DCKY) 2024-08-15 04:16      60
6 jpilchik@contractor.usgs.gov_USGS    Dickey (DCKY) 2024-08-15 13:04      80
                       cloud  precip startTime endTime
1                      Clear No rain     04:16   09:26
2 Partly cloudy/partly sunny No rain     13:07   19:02
3                      Clear No rain     04:08   09:23
4 Partly cloudy/partly sunny No rain     13:19   18:42
5                      Clear No rain     04:17   09:27
6              Mostly cloudy No rain     13:04   16:14
                                                            iso Notes isoTime
1   BUFF202408130524EST HARR202408130510EST AMTH202408130516EST    NA   05:10
2 BUFF202408131516EST, AMTH202408131520EST, HARR202408131523EST    NA   15:16
3                                           UNDH202408140454EST    NA   04:54
4                                           UNDH202408141620EST    NA   16:20
5                                           DCKY202408150535EST    NA   05:35
6                                           DCKY202408151517EST    NA   15:17
                         downstreamGPS downstreamGain
1 Lat: 42.3808032 N Long: 72.4615415 W             80
2               42.3802433, 72.4651203             75
3 Lat: 42.4368660 N Long: 72.3214536 W             75
4               42.4447508, 72.3208196             75
5  Lat:42.4444510 N Long: 72.3733538 W             80
6               42.4423240, 72.3733392             75
                                                upstreamGPS upstreamGain
1                      Lat: 42.3820586 N Long: 72.4585239 W           80
2 HARR 42.3803763, 72.4535804;  BUFF 42.3836141, 72.4561609           75
3                      Lat: 42.4438604 N Long: 72.3296500 W           75
4                                    42.4435654, 72.3298756           75
5                      Lat: 42.4435049 N Long: 72.3703123 W           80
6                                    42.4375408, 72.3650235           75
          x        y        dateTime_EST shift
1   0.00000  0.00000 2024-08-13 04:16:00   day
2   0.00000  0.00000 2024-08-13 13:07:00 night
3   0.00000  0.00000 2024-08-14 04:08:00   day
4 -72.32504 42.44505 2024-08-14 13:19:00 night
5 -72.37136 42.44378 2024-08-15 04:17:00   day
6   0.00000  0.00000 2024-08-15 13:04:00 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb230"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb230-1"><a href="#cb230-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb230-2"><a href="#cb230-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(stream_survey_10, </span>
<span id="cb230-3"><a href="#cb230-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_10.csv"</span>, </span>
<span id="cb230-4"><a href="#cb230-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb231"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb231-1"><a href="#cb231-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the stream survey data</span></span>
<span id="cb231-2"><a href="#cb231-2" aria-hidden="true" tabindex="-1"></a>stream_survey_11 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 11.csv"</span>)</span>
<span id="cb231-3"><a href="#cb231-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb231-4"><a href="#cb231-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb231-5"><a href="#cb231-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb231-6"><a href="#cb231-6" aria-hidden="true" tabindex="-1"></a>stream_survey_11<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(stream_survey_11<span class="sc">$</span>date, </span>
<span id="cb231-7"><a href="#cb231-7" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb231-8"><a href="#cb231-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb231-9"><a href="#cb231-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and start time into a DateTime column</span></span>
<span id="cb231-10"><a href="#cb231-10" aria-hidden="true" tabindex="-1"></a>stream_survey_11<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(stream_survey_11<span class="sc">$</span>date, </span>
<span id="cb231-11"><a href="#cb231-11" aria-hidden="true" tabindex="-1"></a>                                                  stream_survey_11<span class="sc">$</span>startTime), </span>
<span id="cb231-12"><a href="#cb231-12" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>,</span>
<span id="cb231-13"><a href="#cb231-13" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb231-14"><a href="#cb231-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb231-15"><a href="#cb231-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column </span></span>
<span id="cb231-16"><a href="#cb231-16" aria-hidden="true" tabindex="-1"></a><span class="co"># All shifts in week 11 were day shifts</span></span>
<span id="cb231-17"><a href="#cb231-17" aria-hidden="true" tabindex="-1"></a>stream_survey_11 <span class="ot">&lt;-</span> stream_survey_11 <span class="sc">%&gt;%</span></span>
<span id="cb231-18"><a href="#cb231-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">shift =</span> <span class="st">"day"</span>)</span>
<span id="cb231-19"><a href="#cb231-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb231-20"><a href="#cb231-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb231-21"><a href="#cb231-21" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stream_survey_11)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1       89 b7de34af-f9e3-47b9-b6a3-bf89b1dc556b 8/20/2024 6:44:07 PM
2       90 32604089-0f3d-41d6-939b-4cbdf32d8dce 8/21/2024 6:39:18 PM
3       91 fcde118a-5d63-460a-a477-dd67a4cd688a 8/22/2024 9:50:02 PM
4       92 20759715-9907-4e3f-b40f-4bf642f461fc 8/23/2024 7:52:09 PM
                            Creator              EditDate
1 jpilchik@contractor.usgs.gov_USGS  8/20/2024 6:44:07 PM
2 jpilchik@contractor.usgs.gov_USGS 8/29/2024 12:11:09 PM
3 jpilchik@contractor.usgs.gov_USGS 8/29/2024 12:12:20 PM
4 jpilchik@contractor.usgs.gov_USGS  8/23/2024 7:52:09 PM
                             Editor           stream       date  time airTemp
1 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-08-20 09:31      68
2 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-08-21 08:25      63
3 jpilchik@contractor.usgs.gov_USGS       Dry (DRYU) 2024-08-22 07:55      60
4 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-08-23 11:15      73
   cloud  precip startTime endTime
1 Cloudy No rain     09:00   13:37
2  Clear No rain     08:25   13:00
3  Clear No rain     07:55   16:30
4  Clear No rain     09:00   13:57
                                                            iso
1 BUFF202408201044EST, AMTH202408201047EST, HARR202408200947EST
2                                           UNDH202408210929EST
3                                           DRYU202408220918EST
4 BUFF202408231125EST, HARR202408231130EST, AMTH202408231150EST
                    Notes isoTime downstreamGPS downstreamGain upstreamGPS
1                           09:47            NA             NA          NA
2 Day of fish collection    09:29            NA             NA          NA
3                           09:18            NA             NA          NA
4                           11:25            NA             NA          NA
  upstreamGain         x        y        dateTime_EST shift
1           NA -72.46077 42.38147 2024-08-20 09:00:00   day
2           NA -72.32425 42.44456 2024-08-21 08:25:00   day
3           NA -72.50821 42.66856 2024-08-22 07:55:00   day
4           NA   0.00000  0.00000 2024-08-23 09:00:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb233"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb233-1"><a href="#cb233-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb233-2"><a href="#cb233-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(stream_survey_11, </span>
<span id="cb233-3"><a href="#cb233-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_11.csv"</span>, </span>
<span id="cb233-4"><a href="#cb233-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb234"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb234-1"><a href="#cb234-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the stream survey data</span></span>
<span id="cb234-2"><a href="#cb234-2" aria-hidden="true" tabindex="-1"></a>stream_survey_12 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 12.csv"</span>)</span>
<span id="cb234-3"><a href="#cb234-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb234-4"><a href="#cb234-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb234-5"><a href="#cb234-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb234-6"><a href="#cb234-6" aria-hidden="true" tabindex="-1"></a>stream_survey_12<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(stream_survey_12<span class="sc">$</span>date, </span>
<span id="cb234-7"><a href="#cb234-7" aria-hidden="true" tabindex="-1"></a>                                 <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb234-8"><a href="#cb234-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb234-9"><a href="#cb234-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Combining the date and start time into a DateTime column</span></span>
<span id="cb234-10"><a href="#cb234-10" aria-hidden="true" tabindex="-1"></a>stream_survey_12<span class="sc">$</span>dateTime_EST <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(stream_survey_12<span class="sc">$</span>date, </span>
<span id="cb234-11"><a href="#cb234-11" aria-hidden="true" tabindex="-1"></a>                                                  stream_survey_12<span class="sc">$</span>startTime), </span>
<span id="cb234-12"><a href="#cb234-12" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>,</span>
<span id="cb234-13"><a href="#cb234-13" aria-hidden="true" tabindex="-1"></a>                                            <span class="at">tz =</span> <span class="st">"EST"</span>)</span>
<span id="cb234-14"><a href="#cb234-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb234-15"><a href="#cb234-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column</span></span>
<span id="cb234-16"><a href="#cb234-16" aria-hidden="true" tabindex="-1"></a><span class="co"># All shifts in week 12 were day shifts</span></span>
<span id="cb234-17"><a href="#cb234-17" aria-hidden="true" tabindex="-1"></a>stream_survey_12 <span class="ot">&lt;-</span> stream_survey_12 <span class="sc">%&gt;%</span></span>
<span id="cb234-18"><a href="#cb234-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">shift =</span> <span class="st">"day"</span>)</span>
<span id="cb234-19"><a href="#cb234-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb234-20"><a href="#cb234-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb234-21"><a href="#cb234-21" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stream_survey_12)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1       93 fe88f142-5937-4bd6-a4fc-71dfd7a6664a 8/29/2024 5:34:57 PM
2       95 e68186aa-b432-4de7-8357-b010a63d2a90 8/29/2024 5:34:59 PM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 8/29/2024 5:34:57 PM
2 jpilchik@contractor.usgs.gov_USGS 8/29/2024 5:34:59 PM
                             Editor           stream       date  time airTemp
1 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-08-27 09:25      80
2 jpilchik@contractor.usgs.gov_USGS    Dickey (DCKY) 2024-08-29 09:34      67
          cloud  precip startTime endTime                 iso Notes isoTime
1         Clear No rain     09:04   12:48 UNDH202408271016EST    NA   10:16
2 Mostly cloudy No rain     09:35   12:00 DCKY202408291022EST    NA   10:22
  downstreamGPS downstreamGain upstreamGPS upstreamGain         x        y
1            NA             NA          NA           NA -72.32731 42.44535
2            NA             NA          NA           NA   0.00000  0.00000
         dateTime_EST shift
1 2024-08-27 09:04:00   day
2 2024-08-29 09:35:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb236"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb236-1"><a href="#cb236-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb236-2"><a href="#cb236-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(stream_survey_12, </span>
<span id="cb236-3"><a href="#cb236-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_12.csv"</span>, </span>
<span id="cb236-4"><a href="#cb236-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb237"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb237-1"><a href="#cb237-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define file names</span></span>
<span id="cb237-2"><a href="#cb237-2" aria-hidden="true" tabindex="-1"></a>stream_file_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"stream_survey_1.csv"</span>, <span class="st">"stream_survey_2.csv"</span>, <span class="st">"stream_survey_3.csv"</span>, <span class="st">"stream_survey_4.csv"</span>, </span>
<span id="cb237-3"><a href="#cb237-3" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"stream_survey_5.csv"</span>, <span class="st">"stream_survey_6.csv"</span>, <span class="st">"stream_survey_7.csv"</span>, <span class="st">"stream_survey_8.csv"</span>, </span>
<span id="cb237-4"><a href="#cb237-4" aria-hidden="true" tabindex="-1"></a>                       <span class="st">"stream_survey_9.csv"</span>, <span class="st">"stream_survey_10.csv"</span>, <span class="st">"stream_survey_11.csv"</span>, <span class="st">"stream_survey_12.csv"</span>) </span>
<span id="cb237-5"><a href="#cb237-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb237-6"><a href="#cb237-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a lookup table for stream names</span></span>
<span id="cb237-7"><a href="#cb237-7" aria-hidden="true" tabindex="-1"></a>stream_name_lookup <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb237-8"><a href="#cb237-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">abbreviation =</span> <span class="fu">c</span>(<span class="st">"Dickey (DCKY)"</span>, <span class="st">"Amethyst (AMTH)"</span>, </span>
<span id="cb237-9"><a href="#cb237-9" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"Underhill (UNDH)"</span>, <span class="st">"Dry (DRYU)"</span>),  <span class="co"># List all abbreviations</span></span>
<span id="cb237-10"><a href="#cb237-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">full_name =</span> <span class="fu">c</span>(<span class="st">"DICKEY"</span>, <span class="st">"AMETHYST"</span>, </span>
<span id="cb237-11"><a href="#cb237-11" aria-hidden="true" tabindex="-1"></a>                <span class="st">"UNDERHILL"</span>, <span class="st">"DRY UPPER"</span>)  <span class="co"># Corresponding full names</span></span>
<span id="cb237-12"><a href="#cb237-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb237-13"><a href="#cb237-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb237-14"><a href="#cb237-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an empty list to store the processed datasets</span></span>
<span id="cb237-15"><a href="#cb237-15" aria-hidden="true" tabindex="-1"></a>processed_stream_data_list <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb237-16"><a href="#cb237-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb237-17"><a href="#cb237-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through each stream survey file</span></span>
<span id="cb237-18"><a href="#cb237-18" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (file_name <span class="cf">in</span> stream_file_names) {</span>
<span id="cb237-19"><a href="#cb237-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb237-20"><a href="#cb237-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read in the stream survey data</span></span>
<span id="cb237-21"><a href="#cb237-21" aria-hidden="true" tabindex="-1"></a>  raw_stream_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(file_name)</span>
<span id="cb237-22"><a href="#cb237-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb237-23"><a href="#cb237-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Step 1: Process the data</span></span>
<span id="cb237-24"><a href="#cb237-24" aria-hidden="true" tabindex="-1"></a>  stream_data <span class="ot">&lt;-</span> raw_stream_data <span class="sc">%&gt;%</span></span>
<span id="cb237-25"><a href="#cb237-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb237-26"><a href="#cb237-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 2: Select specific columns</span></span>
<span id="cb237-27"><a href="#cb237-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(stream, airTemp, cloud, precip, startTime, endTime, iso, Notes, </span>
<span id="cb237-28"><a href="#cb237-28" aria-hidden="true" tabindex="-1"></a>           isoTime, downstreamGPS, downstreamGain, upstreamGPS, upstreamGain, shift) <span class="sc">%&gt;%</span></span>
<span id="cb237-29"><a href="#cb237-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb237-30"><a href="#cb237-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 3: Rename columns</span></span>
<span id="cb237-31"><a href="#cb237-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(</span>
<span id="cb237-32"><a href="#cb237-32" aria-hidden="true" tabindex="-1"></a>      <span class="at">streamNotes =</span> Notes,</span>
<span id="cb237-33"><a href="#cb237-33" aria-hidden="true" tabindex="-1"></a>      <span class="at">river =</span> stream,</span>
<span id="cb237-34"><a href="#cb237-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">startTime_EST =</span> startTime,</span>
<span id="cb237-35"><a href="#cb237-35" aria-hidden="true" tabindex="-1"></a>      <span class="at">endTime_EST =</span> endTime,</span>
<span id="cb237-36"><a href="#cb237-36" aria-hidden="true" tabindex="-1"></a>      <span class="at">isoID =</span> iso,</span>
<span id="cb237-37"><a href="#cb237-37" aria-hidden="true" tabindex="-1"></a>      <span class="at">isoTime_EST =</span> isoTime) <span class="sc">%&gt;%</span></span>
<span id="cb237-38"><a href="#cb237-38" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb237-39"><a href="#cb237-39" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 4: Rewrite stream names</span></span>
<span id="cb237-40"><a href="#cb237-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(stream_name_lookup, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"river"</span> <span class="ot">=</span> <span class="st">"abbreviation"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb237-41"><a href="#cb237-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb237-42"><a href="#cb237-42" aria-hidden="true" tabindex="-1"></a>      <span class="at">river =</span> <span class="fu">coalesce</span>(full_name, river)  <span class="co"># Replace Brook with full_name, if available</span></span>
<span id="cb237-43"><a href="#cb237-43" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb237-44"><a href="#cb237-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>full_name)  <span class="co"># Remove the full_name column as it's no longer needed</span></span>
<span id="cb237-45"><a href="#cb237-45" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb237-46"><a href="#cb237-46" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Store the processed data in the list</span></span>
<span id="cb237-47"><a href="#cb237-47" aria-hidden="true" tabindex="-1"></a>  processed_stream_data_list[[file_name]] <span class="ot">&lt;-</span> stream_data</span>
<span id="cb237-48"><a href="#cb237-48" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb237-49"><a href="#cb237-49" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Overwrite the original file with the processed data</span></span>
<span id="cb237-50"><a href="#cb237-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(stream_data, file_name, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb237-51"><a href="#cb237-51" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb237-52"><a href="#cb237-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb237-53"><a href="#cb237-53" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of each processed dataset</span></span>
<span id="cb237-54"><a href="#cb237-54" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(processed_stream_data_list)) {</span>
<span id="cb237-55"><a href="#cb237-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Data for"</span>, stream_file_names[i], <span class="st">":</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb237-56"><a href="#cb237-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">head</span>(processed_stream_data_list[[i]]))</span>
<span id="cb237-57"><a href="#cb237-57" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Data for stream_survey_1.csv :
      river airTemp                      cloud  precip startTime_EST
1  AMETHYST      71 Partly cloudy/partly sunny No rain         06:30
2  AMETHYST      68                     Cloudy No rain         17:14
3 UNDERHILL      71                      Clear No rain         05:26
4 UNDERHILL      68  Mostly sunny/mostly clear No rain         18:55
5    DICKEY      80                      Clear No rain         05:35
6    DICKEY      78  Mostly sunny/mostly clear No rain         17:48
  endTime_EST               isoID streamNotes isoTime_EST downstreamGPS
1       12:00 AMTH202406111000EST          NA       10:00            NA
2       23:20 AMTH202406111723EST          NA       17:23            NA
3       10:58 UNDH202406120734EST          NA       07:34            NA
4       22:52 UNDH202406121908EST          NA       19:08            NA
5       10:17 DCKY202406130851EST          NA       08:51            NA
6       22:44 DCKY202406131748EST          NA       17:48            NA
  downstreamGain upstreamGPS upstreamGain shift
1             NA          NA           NA   day
2             NA          NA           NA night
3             NA          NA           NA   day
4             NA          NA           NA night
5             NA          NA           NA   day
6             NA          NA           NA night

Data for stream_survey_2.csv :
      river airTemp                      cloud  precip startTime_EST
1    DICKEY      79 Partly cloudy/partly sunny No rain         11:26
2    DICKEY      65                      Clear No rain         23:45
3  AMETHYST      87                      Clear No rain         11:18
4  AMETHYST      70                      Clear No rain         23:40
5 DRY UPPER      90                      Clear No rain         11:06
6 DRY UPPER      78                      Clear No rain         23:42
  endTime_EST               isoID streamNotes isoTime_EST downstreamGPS
1       17:00 DCKY202406171330EST          NA       13:30            NA
2       04:55 DCKY202406180137EST          NA       01:37            NA
3       17:00 AMTH202406181622EST          NA       16:22            NA
4       04:33 AMTH202406182348EST          NA       23:48            NA
5       16:00 DRYU202406191125EST          NA       11:25            NA
6       05:07 DRYU202406192346EST          NA       23:46            NA
  downstreamGain upstreamGPS upstreamGain shift
1             NA          NA           NA   day
2             NA          NA           NA night
3             NA          NA           NA   day
4             NA          NA           NA night
5             NA          NA           NA   day
6             NA          NA           NA night

Data for stream_survey_3.csv :
      river airTemp                     cloud  precip startTime_EST endTime_EST
1 DRY UPPER      57                     Clear No rain         05:44       10:44
2 DRY UPPER      82                    Cloudy No rain         17:21       23:05
3  AMETHYST      70 Mostly sunny/mostly clear No rain         05:25       11:06
4  AMETHYST      82                    Cloudy No rain         17:14       21:57
5 UNDERHILL      66                    Cloudy No rain         05:18       10:30
6 UNDERHILL      87                    Cloudy No rain         17:27       22:50
                 isoID
1  DRYU202406250610EST
2  DRYU202406251745EST
3  AMTH202406261101EST
4  AMTH202406261915EST
5 UNDH20240627 0807EST
6  UNDH202406271916EST
                                                                                                                              streamNotes
1 Did not get to the stream on time because the batteries were corroded in the receiver so had to go back to lab and get other receiver. 
2                                                                                                                                        
3                                                                                                                                        
4                                                                                                                                        
5                                                                                                                                        
6                                                                                                                                        
  isoTime_EST                       downstreamGPS downstreamGain
1       06:10             42.6353974. -72.4967190             65
2       17:45   Lat: 42.665107 long: 72.5031943 W             75
3       11:01      42 degrees 23N, 72 degrees 28W             74
4       19:15  Lat-42.3792386’N Long-72.4633786’W             90
5       08:07                                                 NA
6       19:16 Lat: 42.27’N Long: 72.19’W +/-4.8 m             55
                                                                  upstreamGPS
1                                                      42.6694251 -72.5074050
2                        Lat: 42.6683114 degrees N Long: 72.5066514 degrees W
3                                              42 degrees 23N, 72 degrees 27W
4 Buffim: lat-42.23’N long-72.28’W Harris: lat-42.3807166’N long-72.4581883’W
5                                                                            
6                                        Lat: 42.27’N Long: 72.20’W +/- 4.6 m
  upstreamGain shift
1           55   day
2           85 night
3           75   day
4           85 night
5           NA   day
6           60 night

Data for stream_survey_4.csv :
      river airTemp                      cloud  precip startTime_EST
1 DRY UPPER      71                     Cloudy No rain         03:57
2 DRY UPPER      75                     Cloudy No rain         13:34
3    DICKEY      59                      Clear No rain         03:28
4    DICKEY      80 Partly cloudy/partly sunny No rain         13:19
5  AMETHYST      64                      Clear No rain         03:23
6  AMETHYST      82                      Clear No rain         13:00
  endTime_EST               isoID
1       08:55 DRYU202406300528EST
2              DRYU20240631428EST
3       08:37  DCKY20240701445EST
4       18:47 DCKY202407011412EST
5             AMTH202407020529EST
6       18:18  Amth20240701333EST
                                                streamNotes isoTime_EST
1                                                                 05:28
2                                                                 14:28
3                                                                 04:45
4 38 is way up by hunt road, 29s thermal tag was recovered        14:12
5                                                                 05:29
6                                                    \n\n\n       13:33
                         downstreamGPS downstreamGain
1 Lat: 42.6626558 N Long: 72.5044938 W             85
2            42.6683792 N 72.5062250 W             74
3 Lat: 42.4443189 N Long: 72.3720856 W             80
4              42.4442662   72.3717833             65
5            42.3792378 N 72.4631544 W             75
6   Lat:42.3806414 N Long:72.4654265 W             75
                                                                             upstreamGPS
1                                                   Lat: 42.6688089 N Long: 72.5073252 W
2                                                              42.6683792 N 72.5062250 W
3                                                   Lat: 42.4416066 N Long: 72.3683132 W
4                                                                42.4408761   72.3676351
5                                                             42.3807546 N. 72.4584560 W
6 Harris: Lat- 42.3806381N Long- 72.4586440 W Buffim: Lat-42.3820960 N Long-72.4583184 W
  upstreamGain shift
1           90   day
2           74 night
3           80   day
4           70 night
5           75   day
6           65 night

Data for stream_survey_5.csv :
      river airTemp                      cloud        precip startTime_EST
1 UNDERHILL      71                     Cloudy Moderate rain         07:28
2 UNDERHILL      75              Mostly cloudy Moderate rain         17:30
3    DICKEY      83                     Cloudy       No rain         07:13
4    DICKEY      81 Partly cloudy/partly sunny       No rain         17:16
5  AMETHYST      81                     Cloudy     Weak rain         07:43
6  AMETHYST      83 Partly cloudy/partly sunny       No rain         17:22
  endTime_EST                                                         isoID
1       12:39                                           UNDH202407090734EST
2       19:49                                           UNDH202407091730EST
3       12:43                                            DCKY20240710749EST
4       22:47                                                              
5       12:25                                            AMTH20240711946EST
6       22:37 BUFF202407112026EST, HARR202407112031EST, AMTH202407112036EST
                streamNotes isoTime_EST                       downstreamGPS
1                                 07:27           42.4445523 N 72.3210041 W
2 Thunder most of the night       17:30                                    
3                                 07:49           42.4419963.   -72.3735598
4                                 17:16 Lat:42.4439807 N Long: 72.3735109 W
5                                 09:46           42.3791708 N 72.4632400 W
6                                 20:26  Lat: 42.3802241 N Long: 72.4623015
  downstreamGain                                               upstreamGPS
1             75                                 42.4436600 W 72.3295537 N
2             NA                                                          
3             74                                 42.4373994 N 72.3647180 W
4             50                       Lat: 42.4422845 N Long:72.3691477 W
5             75                                 42.3807002 N 72.4582711 W
6             85 Buffim- Lat: 42.3821137 N Long: 72.4566635 W Harris- Lat:
  upstreamGain shift
1           75   day
2           NA night
3           74   day
4           80 night
5           75   day
6           85 night

Data for stream_survey_6.csv :
      river airTemp                     cloud  precip startTime_EST endTime_EST
1    DICKEY      70                    Cloudy No rain         03:35       08:55
2    DICKEY      85 Mostly sunny/mostly clear No rain         13:13       18:08
3  AMETHYST      74                     Clear No rain         03:44       09:00
4  AMETHYST      88                     Clear No rain         13:25       16:45
5 DRY UPPER      68             Mostly cloudy No rain         03:45       09:12
6 DRY UPPER      83                     Clear No rain         12:55       18:27
                                                            isoID
1                                             DCKY202407160347EST
2                                             DCKY202407161444EST
3   BUFF202407170440EST, HARR202407170601EST, AMTH202407170611EST
4 AMTH202407171527EST ,  BUFF02407171527EST , HARR202407171530EST
5                                             DRYU202407180447EST
6                                             DRYU202407181425EST
                                               streamNotes isoTime_EST
1                                                                03:47
2                                                                14:44
3                                                                04:40
4          Had to leave early because of bad thunderstorms       15:27
5 Walked all the way to lower dry looking for missing fis.       04:47
6                                                                14:25
                                                downstreamGPS downstreamGain
1                                   42.4422631.N 72.3733436 W             70
2                    Lat: 42.27 +/-7.6 N Long: 72.22 +/-7.6 W             80
3                                   42.1794043 N 72.4630898 W             75
4 42.3812014 N 72.4601705 W Harris: 42.3807410 N 72.4587332 W             80
5                                     42.6586850 N 72.5041881             75
6                                   42.6626352 N 72.5044535 W             75
                           upstreamGPS upstreamGain shift
1             42.4374180 N 72.346902 W           75   day
2       42.4430367 LAT. 72.3700836 LON           80 night
3            42.3807796 N 72.4584831 W           75   day
4            42.3820773 N 72.4585361 W           80 night
5            42.6691445 N 72.5075889 W           75   day
6 Lat: 42.6691061 N Long: 72.5075635 W           75 night

Data for stream_survey_7.csv :
      river airTemp         cloud        precip startTime_EST endTime_EST
1 DRY UPPER      83 Mostly cloudy Moderate rain         07:27       13:24
2 DRY UPPER      71        Cloudy       No rain         17:13       22:43
3    DICKEY      78        Cloudy     Weak rain         07:22       12:44
4    DICKEY      75        Cloudy       No rain         17:12       22:44
5  AMETHYST      72 Mostly cloudy       No rain         07:19       12:53
6  AMETHYST      77        Cloudy       No rain         17:16       22:43
                                                          isoID
1                                           DRYU202407230833EST
2                                           DRYU202407231815EST
3                                           DCKY202407241048EST
4                                           DCKY202407241830EST
5 AMTH202407250833EST, HARR202407250833EST, BUFF202407250833EST
6 HARR202407251920EST, AMTH202407252037EST, BUFF202407251815EST
                            streamNotes isoTime_EST
1                                             08:33
2 There were a ton of 999/ error codes.       18:15
3                                             10:48
4                                             18:30
5                                             08:33
6                                             18:15
                         downstreamGPS downstreamGain
1          42.6342708 N , 72.4923600 W             60
2 Lat:42.6587346 N Long: 72.50041230 W             75
3            42.4422556 N 72.3734784 W             75
4 Lat: 42.4439420 N Long: 72.3734095 W             75
5            42.3811548 N 72.4602750 W             80
6 Lat: 42.3794408 N Long: 72.4629074 W             75
                                                                                upstreamGPS
1                                                                   42.6682103 N 72.5069701
2                                                      Lat: 42.6688091 N Long: 72.5076269 W
3                                                                42.4373149 N 72.3546576 W 
4                                                       Lat:42.4429939 N Long: 72.3700608 W
5                                                                 42.3020057 N 72.4583703 W
6 Buffim- Lat: 42.3820122 N Long: 72.4584062 W Harris- Lat: 42.3805896 N Long: 72.4587733 W
  upstreamGain shift
1           75   day
2           80 night
3           75   day
4           75 night
5           80   day
6           75 night

Data for stream_survey_8.csv :
      river airTemp                      cloud        precip startTime_EST
1    DICKEY      67                     Cloudy       No rain         03:50
2    DICKEY      78                     Cloudy       No rain         12:54
3  AMETHYST      79                     Cloudy Moderate rain         03:50
4  AMETHYST      82                     Cloudy       No rain         13:01
5 UNDERHILL      72                      Clear       No rain         03:51
6 UNDERHILL      87 Partly cloudy/partly sunny       No rain         13:04
  endTime_EST                                                       isoID
1       08:56                                         DCKY202407300503EST
2       18:24                                         DCKY202407301355EST
3       08:06 HARR202407310650EST AMTH202407310658EST BUFF202407310447EST
4       16:10 AMTH202407311451EST BUFF202407311447EST HARR202407311447EST
5       09:27                                         UNDH202408010442EST
6       18:32                                         UNDH202408011308EST
  streamNotes isoTime_EST                             downstreamGPS
1          NA       05:03                 42.4421397 N 72.3133907 W
2          NA       13:55      Lat: 42.4439938 N Long: 72.3734079 W
3          NA       04:47                 42.3815085 N 72.4605129 W
4          NA       14:47      Lat: 42.3802102 N Long: 72.4625902 W
5          NA       04:42 42.4442400 degrees N 72.3233604 degrees W
6          NA       13:08      Lat: 42.4444746 N Long: 72.3209563 W
  downstreamGain
1             70
2             80
3             70
4             80
5             70
6             80
                                                                                upstreamGPS
1                                                                  42.4373330 N 72.3646411W
2                                                                 42.4436114 N 72.3703450 W
3                                                                 42.3807633 N 72.4584379 W
4 Buffim- Lat: 42.3818780 N Long: 72.4583519 W Harris- Lat: 42.3805731 N Long: 72.4586648 W
5                                                                 42.4456778 N 72.3323930 W
6                                                                    42.4455316, 72.3324642
  upstreamGain shift
1           70   day
2           80 night
3           70   day
4           80 night
5           70   day
6           80 night

Data for stream_survey_9.csv :
      river airTemp                     cloud        precip startTime_EST
1 UNDERHILL      72                    Cloudy     Weak rain         07:25
2 UNDERHILL      73                    Cloudy     Weak rain         17:59
3 DRY UPPER      60                    Cloudy     Weak rain         07:19
4 DRY UPPER      75 Mostly sunny/mostly clear       No rain         17:14
5  AMETHYST      63             Mostly cloudy       No rain         07:35
6  AMETHYST      73                    Cloudy Moderate rain         17:00
  endTime_EST                                                       isoID
1       12:23                                         UNDH202408060810EST
2       22:13                                         UNDH202408061801EST
3       12:43                                          DRY202408071031EST
4       22:12                                         DRYU202408072002EST
5       13:34  BUFF20240801040EST HARR202408081041EST AMTH202408081045EST
6       22:17 BUFF202408082007EST HARR202408082026EST AMTH202408082013EST
                                                                                                            streamNotes
1 Found a dead fish, cut it open to make sure it wasn’t a tagged fish and there wasn’t a dead tag inside (no tag found)
2                                                                                                                      
3                                                                                                                      
4                                                                                                                    \n
5                                                                                                                      
6                                                                                                                      
  isoTime_EST                              downstreamGPS downstreamGain
1       08:10 42.4442161 degrees N, 72.3234504 degrees W             70
2       18:01        Lat:42.4442383 N Long: 72.3236331 W             80
3       10:31 42.6586929 degrees N, 72.5041623 degrees W             70
4       20:02           Lat 42.6619051.  Lon 72.50446738             80
5       10:40                   42.3794084 N 72.4628350W             70
6       20:07              Lat 42.3813265 Lon 72.4609471             80
                                                                upstreamGPS
1                                42.4459050 degrees N, 72.3317080 degrees W
2                                           Lat 42.4436998. Long 72.3297100
3                                42.6680512 degrees N, 72.5067974 degrees W
4                                             Lat 42.6684551 Lon 72.5079943
5                                                 42.3808097 N 72.4584604 W
6 Buffum lat 42.3821350 Lon 72.4585148 harris lat 42.3813420 Lon 72.4589892
  upstreamGain shift
1           70   day
2           45 night
3           70   day
4           80 night
5           70   day
6           80 night

Data for stream_survey_10.csv :
      river airTemp                      cloud  precip startTime_EST
1  AMETHYST      63                      Clear No rain         04:16
2  AMETHYST      79 Partly cloudy/partly sunny No rain         13:07
3 UNDERHILL      58                      Clear No rain         04:08
4 UNDERHILL      79 Partly cloudy/partly sunny No rain         13:19
5    DICKEY      60                      Clear No rain         04:17
6    DICKEY      80              Mostly cloudy No rain         13:04
  endTime_EST                                                         isoID
1       09:26   BUFF202408130524EST HARR202408130510EST AMTH202408130516EST
2       19:02 BUFF202408131516EST, AMTH202408131520EST, HARR202408131523EST
3       09:23                                           UNDH202408140454EST
4       18:42                                           UNDH202408141620EST
5       09:27                                           DCKY202408150535EST
6       16:14                                           DCKY202408151517EST
  streamNotes isoTime_EST                        downstreamGPS downstreamGain
1          NA       05:10 Lat: 42.3808032 N Long: 72.4615415 W             80
2          NA       15:16               42.3802433, 72.4651203             75
3          NA       04:54 Lat: 42.4368660 N Long: 72.3214536 W             75
4          NA       16:20               42.4447508, 72.3208196             75
5          NA       05:35  Lat:42.4444510 N Long: 72.3733538 W             80
6          NA       15:17               42.4423240, 72.3733392             75
                                                upstreamGPS upstreamGain shift
1                      Lat: 42.3820586 N Long: 72.4585239 W           80   day
2 HARR 42.3803763, 72.4535804;  BUFF 42.3836141, 72.4561609           75 night
3                      Lat: 42.4438604 N Long: 72.3296500 W           75   day
4                                    42.4435654, 72.3298756           75 night
5                      Lat: 42.4435049 N Long: 72.3703123 W           80   day
6                                    42.4375408, 72.3650235           75 night

Data for stream_survey_11.csv :
      river airTemp  cloud  precip startTime_EST endTime_EST
1  AMETHYST      68 Cloudy No rain         09:00       13:37
2 UNDERHILL      63  Clear No rain         08:25       13:00
3 DRY UPPER      60  Clear No rain         07:55       16:30
4  AMETHYST      73  Clear No rain         09:00       13:57
                                                          isoID
1 BUFF202408201044EST, AMTH202408201047EST, HARR202408200947EST
2                                           UNDH202408210929EST
3                                           DRYU202408220918EST
4 BUFF202408231125EST, HARR202408231130EST, AMTH202408231150EST
              streamNotes isoTime_EST downstreamGPS downstreamGain upstreamGPS
1                               09:47            NA             NA          NA
2 Day of fish collection        09:29            NA             NA          NA
3                               09:18            NA             NA          NA
4                               11:25            NA             NA          NA
  upstreamGain shift
1           NA   day
2           NA   day
3           NA   day
4           NA   day

Data for stream_survey_12.csv :
      river airTemp         cloud  precip startTime_EST endTime_EST
1 UNDERHILL      80         Clear No rain         09:04       12:48
2    DICKEY      67 Mostly cloudy No rain         09:35       12:00
                isoID streamNotes isoTime_EST downstreamGPS downstreamGain
1 UNDH202408271016EST          NA       10:16            NA             NA
2 DCKY202408291022EST          NA       10:22            NA             NA
  upstreamGPS upstreamGain shift
1          NA           NA   day
2          NA           NA   day</code></pre>
</div>
</div>
</section>
<section id="combine-fish_flow_receiver-and-stream-survey-data" class="level2" data-number="2.9">
<h2 data-number="2.9" class="anchored" data-anchor-id="combine-fish_flow_receiver-and-stream-survey-data"><span class="header-section-number">2.9</span> Combine fish_flow_receiver and stream survey data</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb239"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb239-1"><a href="#cb239-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish_flow_receiver and stream survey data for week 1</span></span>
<span id="cb239-2"><a href="#cb239-2" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_1.csv"</span>)</span>
<span id="cb239-3"><a href="#cb239-3" aria-hidden="true" tabindex="-1"></a>stream_survey_1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_1.csv"</span>)</span>
<span id="cb239-4"><a href="#cb239-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb239-5"><a href="#cb239-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust 'river' in fish_flow_receiver survey to handle Buffam and Harris as part of Amethyst</span></span>
<span id="cb239-6"><a href="#cb239-6" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_1 <span class="ot">&lt;-</span> fish_flow_receiver_1 <span class="sc">%&gt;%</span></span>
<span id="cb239-7"><a href="#cb239-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb239-8"><a href="#cb239-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create a new 'riverMatch' column for the join</span></span>
<span id="cb239-9"><a href="#cb239-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">riverMatch =</span> <span class="fu">ifelse</span>(river <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BUFFAM"</span>, <span class="st">"HARRIS"</span>), <span class="st">"AMETHYST"</span>, river)</span>
<span id="cb239-10"><a href="#cb239-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb239-11"><a href="#cb239-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb239-12"><a href="#cb239-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform the join on the 'shift' and the modified 'riverMatch' column in the fish survey</span></span>
<span id="cb239-13"><a href="#cb239-13" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_1 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_flow_receiver_1, </span>
<span id="cb239-14"><a href="#cb239-14" aria-hidden="true" tabindex="-1"></a>                           stream_survey_1, </span>
<span id="cb239-15"><a href="#cb239-15" aria-hidden="true" tabindex="-1"></a>                           <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"riverMatch"</span> <span class="ot">=</span> <span class="st">"river"</span>))</span>
<span id="cb239-16"><a href="#cb239-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb239-17"><a href="#cb239-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the 'riverMatch' column from the result</span></span>
<span id="cb239-18"><a href="#cb239-18" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_1 <span class="ot">&lt;-</span> fish_flow_receiver_stream_1 <span class="sc">%&gt;%</span> </span>
<span id="cb239-19"><a href="#cb239-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>riverMatch)</span>
<span id="cb239-20"><a href="#cb239-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb239-21"><a href="#cb239-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb239-22"><a href="#cb239-22" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_stream_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST    river shift tagID power habitat habitatExtra position
1 2024-06-11 05:57:00 AMETHYST   day    59    NA  Riffle                Center
2 2024-06-11 06:08:00 AMETHYST   day    60    NA  Riffle                Center
3 2024-06-11 06:15:00   BUFFAM   day    19    NA  Riffle                Center
4 2024-06-11 06:19:00   HARRIS   day    20    NA     Run                  Left
5 2024-06-11 06:28:00   HARRIS   day    57    NA     Run                  Left
6 2024-06-11 06:34:00   HARRIS   day    12    NA   Glide                Center
  substrate substrateExtra         shade       lon      lat fishNotes source
1      Rock             NA  Fully shaded -72.46038 42.38162             iPad
2      Rock             NA  Fully shaded -72.46030 42.38136             iPad
3      Rock             NA  Fully shaded -72.46023 42.38139             iPad
4    Pebble             NA Mostly shaded -72.46015 42.38095             iPad
5      Rock             NA Mostly shaded -72.46034 42.38105             iPad
6      Rock             NA  Fully shaded -72.46009 42.38094             iPad
  totalDischarge        flowTime_EST airTemp                      cloud  precip
1           1.56                &lt;NA&gt;      71 Partly cloudy/partly sunny No rain
2           1.56                &lt;NA&gt;      71 Partly cloudy/partly sunny No rain
3           1.49 2024-06-11 08:32:26      71 Partly cloudy/partly sunny No rain
4           0.07 2024-06-11 09:42:47      71 Partly cloudy/partly sunny No rain
5           0.07 2024-06-11 09:42:47      71 Partly cloudy/partly sunny No rain
6           0.07 2024-06-11 09:42:47      71 Partly cloudy/partly sunny No rain
  startTime_EST endTime_EST               isoID streamNotes isoTime_EST
1         06:30       12:00 AMTH202406111000EST          NA       10:00
2         06:30       12:00 AMTH202406111000EST          NA       10:00
3         06:30       12:00 AMTH202406111000EST          NA       10:00
4         06:30       12:00 AMTH202406111000EST          NA       10:00
5         06:30       12:00 AMTH202406111000EST          NA       10:00
6         06:30       12:00 AMTH202406111000EST          NA       10:00
  downstreamGPS downstreamGain upstreamGPS upstreamGain
1            NA             NA          NA           NA
2            NA             NA          NA           NA
3            NA             NA          NA           NA
4            NA             NA          NA           NA
5            NA             NA          NA           NA
6            NA             NA          NA           NA</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb241"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb241-1"><a href="#cb241-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb241-2"><a href="#cb241-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_stream_1, </span>
<span id="cb241-3"><a href="#cb241-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_1.csv"</span>, </span>
<span id="cb241-4"><a href="#cb241-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb242"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb242-1"><a href="#cb242-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish_flow_receiver and stream survey data for week 2</span></span>
<span id="cb242-2"><a href="#cb242-2" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_2.csv"</span>)</span>
<span id="cb242-3"><a href="#cb242-3" aria-hidden="true" tabindex="-1"></a>stream_survey_2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_2.csv"</span>)</span>
<span id="cb242-4"><a href="#cb242-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb242-5"><a href="#cb242-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust 'river' in fish survey to handle Buffam and Harris as part of Amethyst</span></span>
<span id="cb242-6"><a href="#cb242-6" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_2 <span class="ot">&lt;-</span> fish_flow_receiver_2 <span class="sc">%&gt;%</span></span>
<span id="cb242-7"><a href="#cb242-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb242-8"><a href="#cb242-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create a new 'riverMatch' column for the join</span></span>
<span id="cb242-9"><a href="#cb242-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">riverMatch =</span> <span class="fu">ifelse</span>(river <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BUFFAM"</span>, <span class="st">"HARRIS"</span>), <span class="st">"AMETHYST"</span>, river)</span>
<span id="cb242-10"><a href="#cb242-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb242-11"><a href="#cb242-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb242-12"><a href="#cb242-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform the join on the 'shift' and the modified 'riverMatch' column in the fish survey</span></span>
<span id="cb242-13"><a href="#cb242-13" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_2 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_flow_receiver_2, </span>
<span id="cb242-14"><a href="#cb242-14" aria-hidden="true" tabindex="-1"></a>                           stream_survey_2, </span>
<span id="cb242-15"><a href="#cb242-15" aria-hidden="true" tabindex="-1"></a>                           <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"riverMatch"</span> <span class="ot">=</span> <span class="st">"river"</span>))</span>
<span id="cb242-16"><a href="#cb242-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb242-17"><a href="#cb242-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the 'riverMatch' column from the result</span></span>
<span id="cb242-18"><a href="#cb242-18" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_2 <span class="ot">&lt;-</span> fish_flow_receiver_stream_2 <span class="sc">%&gt;%</span> </span>
<span id="cb242-19"><a href="#cb242-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>riverMatch)</span>
<span id="cb242-20"><a href="#cb242-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb242-21"><a href="#cb242-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb242-22"><a href="#cb242-22" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_stream_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST  river shift tagID power habitat  habitatExtra position
1 2024-06-17 11:33:00 DICKEY   day    31    NA    Pool                 Center
2 2024-06-17 11:57:00 DICKEY   day    46    NA     Run                  Right
3 2024-06-17 11:59:00 DICKEY   day    29    NA  Riffle  Woody_debris     Left
4 2024-06-17 12:10:00 DICKEY   day    26    NA     Run Undercut_bank    Right
5 2024-06-17 12:47:00 DICKEY   day    28    NA    Pool                   Left
6 2024-06-17 12:49:00 DICKEY   day    37    NA    Pool                  Right
  substrate substrateExtra          shade       lon      lat fishNotes source
1      Rock             NA  Mostly shaded -72.37084 42.44394             iPad
2    Pebble             NA Lightly shaded -72.37173 42.44421             iPad
3      Rock             NA   Fully shaded -72.37194 42.44430             iPad
4      Rock             NA Lightly shaded -72.37344 42.44421             iPad
5   Boulder             NA  Mostly shaded -72.37040 42.44369             iPad
6      Rock             NA  Mostly shaded -72.37038 42.44377             iPad
  totalDischarge        flowTime_EST airTemp                      cloud  precip
1           0.03 2024-06-17 12:35:22      79 Partly cloudy/partly sunny No rain
2           0.03 2024-06-17 12:35:22      79 Partly cloudy/partly sunny No rain
3           0.03 2024-06-17 12:35:22      79 Partly cloudy/partly sunny No rain
4           0.03 2024-06-17 12:35:22      79 Partly cloudy/partly sunny No rain
5           0.03 2024-06-17 12:35:22      79 Partly cloudy/partly sunny No rain
6           0.03 2024-06-17 12:35:22      79 Partly cloudy/partly sunny No rain
  startTime_EST endTime_EST               isoID streamNotes isoTime_EST
1         11:26       17:00 DCKY202406171330EST          NA       13:30
2         11:26       17:00 DCKY202406171330EST          NA       13:30
3         11:26       17:00 DCKY202406171330EST          NA       13:30
4         11:26       17:00 DCKY202406171330EST          NA       13:30
5         11:26       17:00 DCKY202406171330EST          NA       13:30
6         11:26       17:00 DCKY202406171330EST          NA       13:30
  downstreamGPS downstreamGain upstreamGPS upstreamGain
1            NA             NA          NA           NA
2            NA             NA          NA           NA
3            NA             NA          NA           NA
4            NA             NA          NA           NA
5            NA             NA          NA           NA
6            NA             NA          NA           NA</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb244"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb244-1"><a href="#cb244-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb244-2"><a href="#cb244-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_stream_2, </span>
<span id="cb244-3"><a href="#cb244-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_2.csv"</span>, </span>
<span id="cb244-4"><a href="#cb244-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb245"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb245-1"><a href="#cb245-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish_flow_receiver and stream survey data for week 3</span></span>
<span id="cb245-2"><a href="#cb245-2" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_3 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_3.csv"</span>)</span>
<span id="cb245-3"><a href="#cb245-3" aria-hidden="true" tabindex="-1"></a>stream_survey_3 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_3.csv"</span>)</span>
<span id="cb245-4"><a href="#cb245-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb245-5"><a href="#cb245-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust 'river' in fish survey to handle Buffam and Harris as part of Amethyst</span></span>
<span id="cb245-6"><a href="#cb245-6" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_3 <span class="ot">&lt;-</span> fish_flow_receiver_3 <span class="sc">%&gt;%</span></span>
<span id="cb245-7"><a href="#cb245-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb245-8"><a href="#cb245-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create a new 'riverMatch' column for the join</span></span>
<span id="cb245-9"><a href="#cb245-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">riverMatch =</span> <span class="fu">ifelse</span>(river <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BUFFAM"</span>, <span class="st">"HARRIS"</span>), <span class="st">"AMETHYST"</span>, river)</span>
<span id="cb245-10"><a href="#cb245-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb245-11"><a href="#cb245-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb245-12"><a href="#cb245-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform the join on the 'shift' and the modified 'riverMatch' column in the fish survey</span></span>
<span id="cb245-13"><a href="#cb245-13" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_3 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_flow_receiver_3, </span>
<span id="cb245-14"><a href="#cb245-14" aria-hidden="true" tabindex="-1"></a>                           stream_survey_3, </span>
<span id="cb245-15"><a href="#cb245-15" aria-hidden="true" tabindex="-1"></a>                           <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"riverMatch"</span> <span class="ot">=</span> <span class="st">"river"</span>))</span>
<span id="cb245-16"><a href="#cb245-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb245-17"><a href="#cb245-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the 'riverMatch' column from the result</span></span>
<span id="cb245-18"><a href="#cb245-18" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_3 <span class="ot">&lt;-</span> fish_flow_receiver_stream_3 <span class="sc">%&gt;%</span> </span>
<span id="cb245-19"><a href="#cb245-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>riverMatch)</span>
<span id="cb245-20"><a href="#cb245-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb245-21"><a href="#cb245-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb245-22"><a href="#cb245-22" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_stream_3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST     river shift tagID power habitat
1 2024-06-25 05:59:00 DRY UPPER   day    55    NA    Pool
2 2024-06-25 06:02:00 DRY UPPER   day    16    NA    Pool
3 2024-06-25 06:07:00 DRY UPPER   day    53    NA    Pool
4 2024-06-25 06:11:00 DRY UPPER   day    22    NA    Pool
5 2024-06-25 06:20:00 DRY UPPER   day    21    NA    Pool
6 2024-06-25 06:21:00 DRY UPPER   day    25    NA    Pool
                habitatExtra position substrate substrateExtra          shade
1               Woody_debris   Center      Rock             NA  Mostly shaded
2               Woody_debris    Right       Mud             NA  Mostly shaded
3               Woody_debris    Right       Mud             NA  Mostly shaded
4   Root_bundle,Woody_debris     Left       Mud             NA Lightly shaded
5 Woody_debris,Undercut_bank    Right      Rock             NA  Mostly shaded
6 Undercut_bank,Woody_debris    Right      Rock             NA  Mostly shaded
        lon      lat fishNotes source totalDischarge        flowTime_EST
1 -72.50451 42.66767             iPad           0.03 2024-06-25 07:21:55
2 -72.50455 42.66774             iPad           0.03 2024-06-25 07:21:55
3 -72.50451 42.66761             iPad           0.03 2024-06-25 07:21:55
4 -72.50445 42.66767             iPad           0.03 2024-06-25 07:21:55
5 -72.50506 42.66704             iPad           0.03 2024-06-25 07:21:55
6 -72.50507 42.66704             iPad           0.03 2024-06-25 07:21:55
  airTemp cloud  precip startTime_EST endTime_EST               isoID
1      57 Clear No rain         05:44       10:44 DRYU202406250610EST
2      57 Clear No rain         05:44       10:44 DRYU202406250610EST
3      57 Clear No rain         05:44       10:44 DRYU202406250610EST
4      57 Clear No rain         05:44       10:44 DRYU202406250610EST
5      57 Clear No rain         05:44       10:44 DRYU202406250610EST
6      57 Clear No rain         05:44       10:44 DRYU202406250610EST
                                                                                                                              streamNotes
1 Did not get to the stream on time because the batteries were corroded in the receiver so had to go back to lab and get other receiver. 
2 Did not get to the stream on time because the batteries were corroded in the receiver so had to go back to lab and get other receiver. 
3 Did not get to the stream on time because the batteries were corroded in the receiver so had to go back to lab and get other receiver. 
4 Did not get to the stream on time because the batteries were corroded in the receiver so had to go back to lab and get other receiver. 
5 Did not get to the stream on time because the batteries were corroded in the receiver so had to go back to lab and get other receiver. 
6 Did not get to the stream on time because the batteries were corroded in the receiver so had to go back to lab and get other receiver. 
  isoTime_EST           downstreamGPS downstreamGain            upstreamGPS
1       06:10 42.6353974. -72.4967190             65 42.6694251 -72.5074050
2       06:10 42.6353974. -72.4967190             65 42.6694251 -72.5074050
3       06:10 42.6353974. -72.4967190             65 42.6694251 -72.5074050
4       06:10 42.6353974. -72.4967190             65 42.6694251 -72.5074050
5       06:10 42.6353974. -72.4967190             65 42.6694251 -72.5074050
6       06:10 42.6353974. -72.4967190             65 42.6694251 -72.5074050
  upstreamGain
1           55
2           55
3           55
4           55
5           55
6           55</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb247"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb247-1"><a href="#cb247-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb247-2"><a href="#cb247-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_stream_3, </span>
<span id="cb247-3"><a href="#cb247-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_3.csv"</span>, </span>
<span id="cb247-4"><a href="#cb247-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb248"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb248-1"><a href="#cb248-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish_flow_receiver and stream survey data for week 4</span></span>
<span id="cb248-2"><a href="#cb248-2" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_4 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_4.csv"</span>)</span>
<span id="cb248-3"><a href="#cb248-3" aria-hidden="true" tabindex="-1"></a>stream_survey_4 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_4.csv"</span>)</span>
<span id="cb248-4"><a href="#cb248-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb248-5"><a href="#cb248-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust 'river' in fish survey to handle Buffam and Harris as part of Amethyst</span></span>
<span id="cb248-6"><a href="#cb248-6" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_4 <span class="ot">&lt;-</span> fish_flow_receiver_4 <span class="sc">%&gt;%</span></span>
<span id="cb248-7"><a href="#cb248-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb248-8"><a href="#cb248-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create a new 'riverMatch' column for the join</span></span>
<span id="cb248-9"><a href="#cb248-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">riverMatch =</span> <span class="fu">ifelse</span>(river <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BUFFAM"</span>, <span class="st">"HARRIS"</span>), <span class="st">"AMETHYST"</span>, river)</span>
<span id="cb248-10"><a href="#cb248-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb248-11"><a href="#cb248-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb248-12"><a href="#cb248-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform the join on the 'shift' and the modified 'riverMatch' column in the fish survey</span></span>
<span id="cb248-13"><a href="#cb248-13" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_4 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_flow_receiver_4, </span>
<span id="cb248-14"><a href="#cb248-14" aria-hidden="true" tabindex="-1"></a>                           stream_survey_4, </span>
<span id="cb248-15"><a href="#cb248-15" aria-hidden="true" tabindex="-1"></a>                           <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"riverMatch"</span> <span class="ot">=</span> <span class="st">"river"</span>))</span>
<span id="cb248-16"><a href="#cb248-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb248-17"><a href="#cb248-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the 'riverMatch' column from the result</span></span>
<span id="cb248-18"><a href="#cb248-18" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_4 <span class="ot">&lt;-</span> fish_flow_receiver_stream_4 <span class="sc">%&gt;%</span> </span>
<span id="cb248-19"><a href="#cb248-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>riverMatch)</span>
<span id="cb248-20"><a href="#cb248-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb248-21"><a href="#cb248-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb248-22"><a href="#cb248-22" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_stream_4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST     river shift tagID power habitat
1 2024-06-30 04:39:00 DRY UPPER   day    22    NA    Pool
2 2024-06-30 04:42:00 DRY UPPER   day    16    NA    Pool
3 2024-06-30 04:43:00 DRY UPPER   day    55    NA    Pool
4 2024-06-30 04:50:00 DRY UPPER   day    21    NA    Pool
5 2024-06-30 04:51:00 DRY UPPER   day    25    NA    Pool
6 2024-06-30 04:51:00 DRY UPPER   day    24    NA    Pool
                habitatExtra position substrate substrateExtra         shade
1                Root_bundle     Left        NA       Rock,Mud         Night
2               Woody_debris    Right        NA            Mud  Fully shaded
3               Woody_debris    Right        NA            Mud  Fully shaded
4 Woody_debris,Undercut_bank    Right        NA            Mud Mostly shaded
5 Undercut_bank,Woody_debris    Right        NA            Mud  Fully shaded
6 Undercut_bank,Woody_debris    Right        NA            Mud  Fully shaded
        lon      lat fishNotes source totalDischarge        flowTime_EST
1 -72.50457 42.66769             iPad           0.33 2024-06-30 05:23:29
2 -72.50448 42.66760             iPad           0.33 2024-06-30 05:23:29
3 -72.50453 42.66762             iPad           0.33 2024-06-30 05:23:29
4 -72.50514 42.66698             iPad           0.33 2024-06-30 05:23:29
5 -72.50509 42.66699             iPad           0.33 2024-06-30 05:23:29
6 -72.50508 42.66702             iPad           0.33 2024-06-30 05:23:29
  airTemp  cloud  precip startTime_EST endTime_EST               isoID
1      71 Cloudy No rain         03:57       08:55 DRYU202406300528EST
2      71 Cloudy No rain         03:57       08:55 DRYU202406300528EST
3      71 Cloudy No rain         03:57       08:55 DRYU202406300528EST
4      71 Cloudy No rain         03:57       08:55 DRYU202406300528EST
5      71 Cloudy No rain         03:57       08:55 DRYU202406300528EST
6      71 Cloudy No rain         03:57       08:55 DRYU202406300528EST
  streamNotes isoTime_EST                        downstreamGPS downstreamGain
1                   05:28 Lat: 42.6626558 N Long: 72.5044938 W             85
2                   05:28 Lat: 42.6626558 N Long: 72.5044938 W             85
3                   05:28 Lat: 42.6626558 N Long: 72.5044938 W             85
4                   05:28 Lat: 42.6626558 N Long: 72.5044938 W             85
5                   05:28 Lat: 42.6626558 N Long: 72.5044938 W             85
6                   05:28 Lat: 42.6626558 N Long: 72.5044938 W             85
                           upstreamGPS upstreamGain
1 Lat: 42.6688089 N Long: 72.5073252 W           90
2 Lat: 42.6688089 N Long: 72.5073252 W           90
3 Lat: 42.6688089 N Long: 72.5073252 W           90
4 Lat: 42.6688089 N Long: 72.5073252 W           90
5 Lat: 42.6688089 N Long: 72.5073252 W           90
6 Lat: 42.6688089 N Long: 72.5073252 W           90</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb250"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb250-1"><a href="#cb250-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb250-2"><a href="#cb250-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_stream_4, </span>
<span id="cb250-3"><a href="#cb250-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_4.csv"</span>, </span>
<span id="cb250-4"><a href="#cb250-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb251"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb251-1"><a href="#cb251-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish_flow_receiver and stream survey data for week 5</span></span>
<span id="cb251-2"><a href="#cb251-2" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_5 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_5.csv"</span>)</span>
<span id="cb251-3"><a href="#cb251-3" aria-hidden="true" tabindex="-1"></a>stream_survey_5 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_5.csv"</span>)</span>
<span id="cb251-4"><a href="#cb251-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-5"><a href="#cb251-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust 'river' in fish survey to handle Buffam and Harris as part of Amethyst</span></span>
<span id="cb251-6"><a href="#cb251-6" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_5 <span class="ot">&lt;-</span> fish_flow_receiver_5 <span class="sc">%&gt;%</span></span>
<span id="cb251-7"><a href="#cb251-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb251-8"><a href="#cb251-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create a new 'riverMatch' column for the join</span></span>
<span id="cb251-9"><a href="#cb251-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">riverMatch =</span> <span class="fu">ifelse</span>(river <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BUFFAM"</span>, <span class="st">"HARRIS"</span>), <span class="st">"AMETHYST"</span>, river)</span>
<span id="cb251-10"><a href="#cb251-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb251-11"><a href="#cb251-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-12"><a href="#cb251-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform the join on the 'shift' and the modified 'riverMatch' column in the fish survey</span></span>
<span id="cb251-13"><a href="#cb251-13" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_5 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_flow_receiver_5, </span>
<span id="cb251-14"><a href="#cb251-14" aria-hidden="true" tabindex="-1"></a>                           stream_survey_5, </span>
<span id="cb251-15"><a href="#cb251-15" aria-hidden="true" tabindex="-1"></a>                           <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"riverMatch"</span> <span class="ot">=</span> <span class="st">"river"</span>))</span>
<span id="cb251-16"><a href="#cb251-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-17"><a href="#cb251-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the 'riverMatch' column from the result</span></span>
<span id="cb251-18"><a href="#cb251-18" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_5 <span class="ot">&lt;-</span> fish_flow_receiver_stream_5 <span class="sc">%&gt;%</span> </span>
<span id="cb251-19"><a href="#cb251-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>riverMatch)</span>
<span id="cb251-20"><a href="#cb251-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb251-21"><a href="#cb251-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb251-22"><a href="#cb251-22" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_stream_5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST     river shift tagID power habitat  habitatExtra
1 2024-07-09 07:30:00 UNDERHILL   day    41    NA  Riffle              
2 2024-07-09 07:49:00 UNDERHILL   day    40    NA  Riffle  Woody_debris
3 2024-07-09 07:57:00 UNDERHILL   day    34    NA  Riffle              
4 2024-07-09 08:08:00 UNDERHILL   day    33    NA  Riffle Undercut_bank
5 2024-07-09 08:18:00 UNDERHILL   day    36    NA    Pool              
6 2024-07-09 08:25:00 UNDERHILL   day    27    NA  Riffle              
  position substrate   substrateExtra         shade       lon      lat
1   Center        NA             Rock  Fully shaded -72.32447 42.44488
2                 NA      Rock,Pebble Mostly shaded -72.32513 42.44510
3   Center        NA             Rock               -72.32645 42.44537
4    Right        NA             Rock Mostly shaded -72.32624 42.44533
5   Center        NA Rock,Pebble,Sand Mostly shaded -72.32752 42.44626
6   Center        NA             Rock Mostly shaded -72.32780 42.44521
                                           fishNotes source totalDischarge
1                                                      iPad           2.78
2                                                      iPad           2.78
3                                                      iPad           2.78
4                                                      iPad           2.78
5 Moved up from where we thought it might have died.   iPad           2.78
6                                                      iPad           2.78
         flowTime_EST airTemp  cloud        precip startTime_EST endTime_EST
1 2024-07-09 09:13:28      71 Cloudy Moderate rain         07:28       12:39
2 2024-07-09 09:13:28      71 Cloudy Moderate rain         07:28       12:39
3 2024-07-09 09:13:28      71 Cloudy Moderate rain         07:28       12:39
4 2024-07-09 09:13:28      71 Cloudy Moderate rain         07:28       12:39
5 2024-07-09 09:13:28      71 Cloudy Moderate rain         07:28       12:39
6 2024-07-09 09:13:28      71 Cloudy Moderate rain         07:28       12:39
                isoID streamNotes isoTime_EST             downstreamGPS
1 UNDH202407090734EST                   07:27 42.4445523 N 72.3210041 W
2 UNDH202407090734EST                   07:27 42.4445523 N 72.3210041 W
3 UNDH202407090734EST                   07:27 42.4445523 N 72.3210041 W
4 UNDH202407090734EST                   07:27 42.4445523 N 72.3210041 W
5 UNDH202407090734EST                   07:27 42.4445523 N 72.3210041 W
6 UNDH202407090734EST                   07:27 42.4445523 N 72.3210041 W
  downstreamGain               upstreamGPS upstreamGain
1             75 42.4436600 W 72.3295537 N           75
2             75 42.4436600 W 72.3295537 N           75
3             75 42.4436600 W 72.3295537 N           75
4             75 42.4436600 W 72.3295537 N           75
5             75 42.4436600 W 72.3295537 N           75
6             75 42.4436600 W 72.3295537 N           75</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb253"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb253-1"><a href="#cb253-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb253-2"><a href="#cb253-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_stream_5, </span>
<span id="cb253-3"><a href="#cb253-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_5.csv"</span>, </span>
<span id="cb253-4"><a href="#cb253-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb254"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb254-1"><a href="#cb254-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish_flow_receiver and stream survey data for week 6</span></span>
<span id="cb254-2"><a href="#cb254-2" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_6 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_6.csv"</span>)</span>
<span id="cb254-3"><a href="#cb254-3" aria-hidden="true" tabindex="-1"></a>stream_survey_6 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_6.csv"</span>)</span>
<span id="cb254-4"><a href="#cb254-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb254-5"><a href="#cb254-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust 'river' in fish survey to handle Buffam and Harris as part of Amethyst</span></span>
<span id="cb254-6"><a href="#cb254-6" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_6 <span class="ot">&lt;-</span> fish_flow_receiver_6 <span class="sc">%&gt;%</span></span>
<span id="cb254-7"><a href="#cb254-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb254-8"><a href="#cb254-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create a new 'riverMatch' column for the join</span></span>
<span id="cb254-9"><a href="#cb254-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">riverMatch =</span> <span class="fu">ifelse</span>(river <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BUFFAM"</span>, <span class="st">"HARRIS"</span>), <span class="st">"AMETHYST"</span>, river)</span>
<span id="cb254-10"><a href="#cb254-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb254-11"><a href="#cb254-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb254-12"><a href="#cb254-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform the join on the 'shift' and the modified 'riverMatch' column in the fish survey</span></span>
<span id="cb254-13"><a href="#cb254-13" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_6 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_flow_receiver_6, </span>
<span id="cb254-14"><a href="#cb254-14" aria-hidden="true" tabindex="-1"></a>                           stream_survey_6, </span>
<span id="cb254-15"><a href="#cb254-15" aria-hidden="true" tabindex="-1"></a>                           <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"riverMatch"</span> <span class="ot">=</span> <span class="st">"river"</span>))</span>
<span id="cb254-16"><a href="#cb254-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb254-17"><a href="#cb254-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the 'riverMatch' column from the result</span></span>
<span id="cb254-18"><a href="#cb254-18" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_6 <span class="ot">&lt;-</span> fish_flow_receiver_stream_6 <span class="sc">%&gt;%</span> </span>
<span id="cb254-19"><a href="#cb254-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>riverMatch)</span>
<span id="cb254-20"><a href="#cb254-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb254-21"><a href="#cb254-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb254-22"><a href="#cb254-22" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_stream_6)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST  river shift tagID power habitat habitatExtra position
1 2024-07-16 03:49:00 DICKEY   day    31    NA  Riffle                Center
2 2024-07-16 03:58:00 DICKEY   day    28    NA    Pool                Center
3 2024-07-16 04:04:00 DICKEY   day    26    NA  Riffle                Center
4 2024-07-16 04:05:00 DICKEY   day    37    NA  Riffle                Center
5 2024-07-16 05:17:00 DICKEY   day    31    NA  Riffle                Center
6 2024-07-16 05:21:00 DICKEY   day    28    NA    Pool                Center
  substrate   substrateExtra        shade       lon      lat fishNotes source
1        NA             Rock        Night -72.37121 42.44408             iPad
2        NA         Sand,Mud        Night -72.37056 42.44364             iPad
3        NA             Rock        Night -72.37030 42.44345             iPad
4        NA             Rock Fully shaded -72.37018 42.44342             iPad
5        NA        Rock,Sand Fully shaded -72.37132 42.44393             iPad
6        NA Rock,Pebble,Sand Fully shaded -72.37059 42.44357             iPad
  totalDischarge        flowTime_EST airTemp  cloud  precip startTime_EST
1           1.17 2024-07-16 05:02:37      70 Cloudy No rain         03:35
2           1.17 2024-07-16 05:02:37      70 Cloudy No rain         03:35
3           1.17 2024-07-16 05:02:37      70 Cloudy No rain         03:35
4           1.17 2024-07-16 05:02:37      70 Cloudy No rain         03:35
5           1.17 2024-07-16 05:02:37      70 Cloudy No rain         03:35
6           1.17 2024-07-16 05:02:37      70 Cloudy No rain         03:35
  endTime_EST               isoID streamNotes isoTime_EST
1       08:55 DCKY202407160347EST                   03:47
2       08:55 DCKY202407160347EST                   03:47
3       08:55 DCKY202407160347EST                   03:47
4       08:55 DCKY202407160347EST                   03:47
5       08:55 DCKY202407160347EST                   03:47
6       08:55 DCKY202407160347EST                   03:47
              downstreamGPS downstreamGain              upstreamGPS
1 42.4422631.N 72.3733436 W             70 42.4374180 N 72.346902 W
2 42.4422631.N 72.3733436 W             70 42.4374180 N 72.346902 W
3 42.4422631.N 72.3733436 W             70 42.4374180 N 72.346902 W
4 42.4422631.N 72.3733436 W             70 42.4374180 N 72.346902 W
5 42.4422631.N 72.3733436 W             70 42.4374180 N 72.346902 W
6 42.4422631.N 72.3733436 W             70 42.4374180 N 72.346902 W
  upstreamGain
1           75
2           75
3           75
4           75
5           75
6           75</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb256"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb256-1"><a href="#cb256-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb256-2"><a href="#cb256-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_stream_6, </span>
<span id="cb256-3"><a href="#cb256-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_6.csv"</span>, </span>
<span id="cb256-4"><a href="#cb256-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb257"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb257-1"><a href="#cb257-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish_flow_receiver and stream survey data for week 7</span></span>
<span id="cb257-2"><a href="#cb257-2" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_7 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_7.csv"</span>)</span>
<span id="cb257-3"><a href="#cb257-3" aria-hidden="true" tabindex="-1"></a>stream_survey_7 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_7.csv"</span>)</span>
<span id="cb257-4"><a href="#cb257-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb257-5"><a href="#cb257-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust 'river' in fish survey to handle Buffam and Harris as part of Amethyst</span></span>
<span id="cb257-6"><a href="#cb257-6" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_7 <span class="ot">&lt;-</span> fish_flow_receiver_7 <span class="sc">%&gt;%</span></span>
<span id="cb257-7"><a href="#cb257-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb257-8"><a href="#cb257-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create a new 'riverMatch' column for the join</span></span>
<span id="cb257-9"><a href="#cb257-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">riverMatch =</span> <span class="fu">ifelse</span>(river <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BUFFAM"</span>, <span class="st">"HARRIS"</span>), <span class="st">"AMETHYST"</span>, river)</span>
<span id="cb257-10"><a href="#cb257-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb257-11"><a href="#cb257-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb257-12"><a href="#cb257-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform the join on the 'shift' and the modified 'riverMatch' column in the fish survey</span></span>
<span id="cb257-13"><a href="#cb257-13" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_7 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_flow_receiver_7, </span>
<span id="cb257-14"><a href="#cb257-14" aria-hidden="true" tabindex="-1"></a>                           stream_survey_7, </span>
<span id="cb257-15"><a href="#cb257-15" aria-hidden="true" tabindex="-1"></a>                           <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"riverMatch"</span> <span class="ot">=</span> <span class="st">"river"</span>))</span>
<span id="cb257-16"><a href="#cb257-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb257-17"><a href="#cb257-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the 'riverMatch' column from the result</span></span>
<span id="cb257-18"><a href="#cb257-18" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_7 <span class="ot">&lt;-</span> fish_flow_receiver_stream_7 <span class="sc">%&gt;%</span> </span>
<span id="cb257-19"><a href="#cb257-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>riverMatch)</span>
<span id="cb257-20"><a href="#cb257-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb257-21"><a href="#cb257-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb257-22"><a href="#cb257-22" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_stream_7)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST     river shift tagID power habitat
1 2024-07-23 07:28:00 DRY UPPER   day  39.1    NA    Pool
2 2024-07-23 07:56:00 DRY UPPER   day  46.1    NA        
3 2024-07-23 08:07:00 DRY UPPER   day  29.1    NA  Riffle
4 2024-07-23 08:44:00 DRY UPPER   day  30.1    NA    Pool
5 2024-07-23 08:52:00 DRY UPPER   day  16.0    NA    Pool
6 2024-07-23 09:06:00 DRY UPPER   day  55.0    NA    Pool
                habitatExtra position substrate substrateExtra         shade
1               Woody_debris    Right        NA      Rock,Sand Mostly shaded
2                                            NA                             
3                                Left        NA                Mostly shaded
4               Woody_debris     Left        NA            Mud Mostly shaded
5 Woody_debris,Undercut_bank    Right        NA       Mud,Sand  Fully shaded
6               Woody_debris                 NA      Rock,Sand Mostly shaded
        lon      lat                                  fishNotes source
1 -72.50687 42.66812                                              iPad
2 -72.50700 42.66827                                       Dead   iPad
3 -72.50598 42.66837 Very shallow water. Can’t see fish or tag.   iPad
4 -72.50495 42.66817                                              iPad
5 -72.50460 42.66775                          Up under cutback.   iPad
6 -72.50408 42.66603                              Dead have tag   iPad
  totalDischarge        flowTime_EST airTemp         cloud        precip
1           0.13 2024-07-23 08:27:20      83 Mostly cloudy Moderate rain
2           0.13 2024-07-23 08:27:20      83 Mostly cloudy Moderate rain
3           0.13 2024-07-23 08:27:20      83 Mostly cloudy Moderate rain
4           0.13 2024-07-23 08:27:20      83 Mostly cloudy Moderate rain
5           0.13 2024-07-23 08:27:20      83 Mostly cloudy Moderate rain
6           0.13 2024-07-23 08:27:20      83 Mostly cloudy Moderate rain
  startTime_EST endTime_EST               isoID streamNotes isoTime_EST
1         07:27       13:24 DRYU202407230833EST                   08:33
2         07:27       13:24 DRYU202407230833EST                   08:33
3         07:27       13:24 DRYU202407230833EST                   08:33
4         07:27       13:24 DRYU202407230833EST                   08:33
5         07:27       13:24 DRYU202407230833EST                   08:33
6         07:27       13:24 DRYU202407230833EST                   08:33
                downstreamGPS downstreamGain             upstreamGPS
1 42.6342708 N , 72.4923600 W             60 42.6682103 N 72.5069701
2 42.6342708 N , 72.4923600 W             60 42.6682103 N 72.5069701
3 42.6342708 N , 72.4923600 W             60 42.6682103 N 72.5069701
4 42.6342708 N , 72.4923600 W             60 42.6682103 N 72.5069701
5 42.6342708 N , 72.4923600 W             60 42.6682103 N 72.5069701
6 42.6342708 N , 72.4923600 W             60 42.6682103 N 72.5069701
  upstreamGain
1           75
2           75
3           75
4           75
5           75
6           75</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb259"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb259-1"><a href="#cb259-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb259-2"><a href="#cb259-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_stream_7, </span>
<span id="cb259-3"><a href="#cb259-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_7.csv"</span>, </span>
<span id="cb259-4"><a href="#cb259-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb260"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb260-1"><a href="#cb260-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish_flow_receiver and stream survey data for week 8</span></span>
<span id="cb260-2"><a href="#cb260-2" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_8 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_8.csv"</span>)</span>
<span id="cb260-3"><a href="#cb260-3" aria-hidden="true" tabindex="-1"></a>stream_survey_8 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_8.csv"</span>)</span>
<span id="cb260-4"><a href="#cb260-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb260-5"><a href="#cb260-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust 'river' in fish survey to handle Buffam and Harris as part of Amethyst</span></span>
<span id="cb260-6"><a href="#cb260-6" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_8 <span class="ot">&lt;-</span> fish_flow_receiver_8 <span class="sc">%&gt;%</span></span>
<span id="cb260-7"><a href="#cb260-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb260-8"><a href="#cb260-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create a new 'riverMatch' column for the join</span></span>
<span id="cb260-9"><a href="#cb260-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">riverMatch =</span> <span class="fu">ifelse</span>(river <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BUFFAM"</span>, <span class="st">"HARRIS"</span>), <span class="st">"AMETHYST"</span>, river)</span>
<span id="cb260-10"><a href="#cb260-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb260-11"><a href="#cb260-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb260-12"><a href="#cb260-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform the join on the 'shift' and the modified 'riverMatch' column in the fish survey</span></span>
<span id="cb260-13"><a href="#cb260-13" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_8 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_flow_receiver_8, </span>
<span id="cb260-14"><a href="#cb260-14" aria-hidden="true" tabindex="-1"></a>                           stream_survey_8, </span>
<span id="cb260-15"><a href="#cb260-15" aria-hidden="true" tabindex="-1"></a>                           <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"riverMatch"</span> <span class="ot">=</span> <span class="st">"river"</span>))</span>
<span id="cb260-16"><a href="#cb260-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb260-17"><a href="#cb260-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the 'riverMatch' column from the result</span></span>
<span id="cb260-18"><a href="#cb260-18" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_8 <span class="ot">&lt;-</span> fish_flow_receiver_stream_8 <span class="sc">%&gt;%</span> </span>
<span id="cb260-19"><a href="#cb260-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>riverMatch)</span>
<span id="cb260-20"><a href="#cb260-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb260-21"><a href="#cb260-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb260-22"><a href="#cb260-22" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_stream_8)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST  river shift tagID power habitat habitatExtra position
1 2024-07-30 04:07:00 DICKEY   day    31    NA  Riffle                 Right
2 2024-07-30 04:15:00 DICKEY   day    26    NA  Riffle                Center
3 2024-07-30 04:16:00 DICKEY   day    37    NA  Riffle                Center
4 2024-07-30 04:38:00 DICKEY   day    38    NA     Run                 Right
5 2024-07-30 04:42:00 DICKEY   day    32    NA    Pool                  Left
6 2024-07-30 05:25:00 DICKEY   day    38    NA  Riffle                  Left
  substrate substrateExtra          shade       lon      lat
1        NA    Pebble,Rock          Night -72.37116 42.44418
2        NA    Rock,Pebble          Night -72.37034 42.44352
3        NA    Rock,Pebble          Night -72.37032 42.44350
4        NA    Rock,Pebble          Night -72.37335 42.44441
5        NA         Pebble          Night -72.37354 42.44406
6        NA    Rock,Pebble Lightly shaded -72.37340 42.44449
                                               fishNotes source totalDischarge
1                                                          iPad           1.13
2                                                          iPad           1.13
3                                                          iPad           1.13
4                                                          iPad           1.13
5 Dead.found on river left side of pool buried n gravel.   iPad           1.13
6                                           May be dead    iPad           1.13
         flowTime_EST airTemp  cloud  precip startTime_EST endTime_EST
1 2024-07-30 04:50:14      67 Cloudy No rain         03:50       08:56
2 2024-07-30 04:50:14      67 Cloudy No rain         03:50       08:56
3 2024-07-30 04:50:14      67 Cloudy No rain         03:50       08:56
4 2024-07-30 04:50:14      67 Cloudy No rain         03:50       08:56
5 2024-07-30 04:50:14      67 Cloudy No rain         03:50       08:56
6 2024-07-30 04:50:14      67 Cloudy No rain         03:50       08:56
                isoID streamNotes isoTime_EST             downstreamGPS
1 DCKY202407300503EST          NA       05:03 42.4421397 N 72.3133907 W
2 DCKY202407300503EST          NA       05:03 42.4421397 N 72.3133907 W
3 DCKY202407300503EST          NA       05:03 42.4421397 N 72.3133907 W
4 DCKY202407300503EST          NA       05:03 42.4421397 N 72.3133907 W
5 DCKY202407300503EST          NA       05:03 42.4421397 N 72.3133907 W
6 DCKY202407300503EST          NA       05:03 42.4421397 N 72.3133907 W
  downstreamGain              upstreamGPS upstreamGain
1             70 42.4373330 N 72.3646411W           70
2             70 42.4373330 N 72.3646411W           70
3             70 42.4373330 N 72.3646411W           70
4             70 42.4373330 N 72.3646411W           70
5             70 42.4373330 N 72.3646411W           70
6             70 42.4373330 N 72.3646411W           70</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb262"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb262-1"><a href="#cb262-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb262-2"><a href="#cb262-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_stream_8, </span>
<span id="cb262-3"><a href="#cb262-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_8.csv"</span>, </span>
<span id="cb262-4"><a href="#cb262-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb263"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb263-1"><a href="#cb263-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish_flow_receiver and stream survey data for week 9</span></span>
<span id="cb263-2"><a href="#cb263-2" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_9 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_9.csv"</span>)</span>
<span id="cb263-3"><a href="#cb263-3" aria-hidden="true" tabindex="-1"></a>stream_survey_9 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_9.csv"</span>)</span>
<span id="cb263-4"><a href="#cb263-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb263-5"><a href="#cb263-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust 'river' in fish survey to handle Buffam and Harris as part of Amethyst</span></span>
<span id="cb263-6"><a href="#cb263-6" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_9 <span class="ot">&lt;-</span> fish_flow_receiver_9 <span class="sc">%&gt;%</span></span>
<span id="cb263-7"><a href="#cb263-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb263-8"><a href="#cb263-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create a new 'riverMatch' column for the join</span></span>
<span id="cb263-9"><a href="#cb263-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">riverMatch =</span> <span class="fu">ifelse</span>(river <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BUFFAM"</span>, <span class="st">"HARRIS"</span>), <span class="st">"AMETHYST"</span>, river)</span>
<span id="cb263-10"><a href="#cb263-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb263-11"><a href="#cb263-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb263-12"><a href="#cb263-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform the join on the 'shift' and the modified 'riverMatch' column in the fish survey</span></span>
<span id="cb263-13"><a href="#cb263-13" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_9 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_flow_receiver_9, </span>
<span id="cb263-14"><a href="#cb263-14" aria-hidden="true" tabindex="-1"></a>                           stream_survey_9, </span>
<span id="cb263-15"><a href="#cb263-15" aria-hidden="true" tabindex="-1"></a>                           <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"riverMatch"</span> <span class="ot">=</span> <span class="st">"river"</span>))</span>
<span id="cb263-16"><a href="#cb263-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb263-17"><a href="#cb263-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the 'riverMatch' column from the result</span></span>
<span id="cb263-18"><a href="#cb263-18" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_9 <span class="ot">&lt;-</span> fish_flow_receiver_stream_9 <span class="sc">%&gt;%</span> </span>
<span id="cb263-19"><a href="#cb263-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>riverMatch)</span>
<span id="cb263-20"><a href="#cb263-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb263-21"><a href="#cb263-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb263-22"><a href="#cb263-22" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_stream_9)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST     river shift tagID power habitat
1 2024-08-05 11:06:00 DRY UPPER   day    49   174    Pool
2 2024-08-05 11:35:00 DRY UPPER   day    47    NA        
3 2024-08-05 11:37:00 DRY UPPER   day    47    54        
4 2024-08-06 07:41:00 UNDERHILL   day    33    NA  Riffle
5 2024-08-06 07:47:00 UNDERHILL   day    45    NA    Pool
6 2024-08-06 07:53:00 UNDERHILL   day    44    NA    Pool
                habitatExtra position substrate      substrateExtra
1 Woody_debris,Undercut_bank                 NA Granule,Pebble,Sand
2                                            NA                    
3                                            NA                    
4               Woody_debris   Center        NA         Pebble,Rock
5                              Center        NA      Pebble,Granule
6               Woody_debris   Center        NA           Rock,Sand
           shade       lon      lat
1 Lightly shaded -72.50352 42.65114
2                -72.50353 42.65375
3                -72.50367 42.65407
4  Mostly shaded -72.32640 42.44531
5  Mostly shaded -72.32773 42.44515
6  Mostly shaded -72.32803 42.44488
                                                                         fishNotes
1              Bunch of fish swimming around, moving too much to get a good signal
2 Lost signal, signal was strongest (74) back at the clearing with the pine trees 
3                                                                                 
4                                                            Same so as last week.
5                                                                                 
6                                                                                 
  source totalDischarge        flowTime_EST airTemp  cloud    precip
1   iPad           0.25 2024-08-07 08:20:43      60 Cloudy Weak rain
2   iPad           0.25 2024-08-07 08:20:43      60 Cloudy Weak rain
3   iPad           0.25 2024-08-07 08:20:43      60 Cloudy Weak rain
4   iPad           0.04 2024-08-06 08:06:36      72 Cloudy Weak rain
5   iPad           0.04 2024-08-06 08:06:36      72 Cloudy Weak rain
6   iPad           0.04 2024-08-06 08:06:36      72 Cloudy Weak rain
  startTime_EST endTime_EST               isoID
1         07:19       12:43  DRY202408071031EST
2         07:19       12:43  DRY202408071031EST
3         07:19       12:43  DRY202408071031EST
4         07:25       12:23 UNDH202408060810EST
5         07:25       12:23 UNDH202408060810EST
6         07:25       12:23 UNDH202408060810EST
                                                                                                            streamNotes
1                                                                                                                      
2                                                                                                                      
3                                                                                                                      
4 Found a dead fish, cut it open to make sure it wasn’t a tagged fish and there wasn’t a dead tag inside (no tag found)
5 Found a dead fish, cut it open to make sure it wasn’t a tagged fish and there wasn’t a dead tag inside (no tag found)
6 Found a dead fish, cut it open to make sure it wasn’t a tagged fish and there wasn’t a dead tag inside (no tag found)
  isoTime_EST                              downstreamGPS downstreamGain
1       10:31 42.6586929 degrees N, 72.5041623 degrees W             70
2       10:31 42.6586929 degrees N, 72.5041623 degrees W             70
3       10:31 42.6586929 degrees N, 72.5041623 degrees W             70
4       08:10 42.4442161 degrees N, 72.3234504 degrees W             70
5       08:10 42.4442161 degrees N, 72.3234504 degrees W             70
6       08:10 42.4442161 degrees N, 72.3234504 degrees W             70
                                 upstreamGPS upstreamGain
1 42.6680512 degrees N, 72.5067974 degrees W           70
2 42.6680512 degrees N, 72.5067974 degrees W           70
3 42.6680512 degrees N, 72.5067974 degrees W           70
4 42.4459050 degrees N, 72.3317080 degrees W           70
5 42.4459050 degrees N, 72.3317080 degrees W           70
6 42.4459050 degrees N, 72.3317080 degrees W           70</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb265"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb265-1"><a href="#cb265-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb265-2"><a href="#cb265-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_stream_9, </span>
<span id="cb265-3"><a href="#cb265-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_9.csv"</span>, </span>
<span id="cb265-4"><a href="#cb265-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb266"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb266-1"><a href="#cb266-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish_flow_receiver and stream survey data for week 10</span></span>
<span id="cb266-2"><a href="#cb266-2" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_10 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_10.csv"</span>)</span>
<span id="cb266-3"><a href="#cb266-3" aria-hidden="true" tabindex="-1"></a>stream_survey_10 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_10.csv"</span>)</span>
<span id="cb266-4"><a href="#cb266-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb266-5"><a href="#cb266-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust 'river' in fish survey to handle Buffam and Harris as part of Amethyst</span></span>
<span id="cb266-6"><a href="#cb266-6" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_10 <span class="ot">&lt;-</span> fish_flow_receiver_10 <span class="sc">%&gt;%</span></span>
<span id="cb266-7"><a href="#cb266-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb266-8"><a href="#cb266-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create a new 'riverMatch' column for the join</span></span>
<span id="cb266-9"><a href="#cb266-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">riverMatch =</span> <span class="fu">ifelse</span>(river <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BUFFAM"</span>, <span class="st">"HARRIS"</span>), <span class="st">"AMETHYST"</span>, river)</span>
<span id="cb266-10"><a href="#cb266-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb266-11"><a href="#cb266-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb266-12"><a href="#cb266-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform the join on the 'shift' and the modified 'riverMatch' column in the fish survey</span></span>
<span id="cb266-13"><a href="#cb266-13" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_10 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_flow_receiver_10, </span>
<span id="cb266-14"><a href="#cb266-14" aria-hidden="true" tabindex="-1"></a>                            stream_survey_10, </span>
<span id="cb266-15"><a href="#cb266-15" aria-hidden="true" tabindex="-1"></a>                            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"riverMatch"</span> <span class="ot">=</span> <span class="st">"river"</span>))</span>
<span id="cb266-16"><a href="#cb266-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb266-17"><a href="#cb266-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the 'riverMatch' column from the result</span></span>
<span id="cb266-18"><a href="#cb266-18" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_10 <span class="ot">&lt;-</span> fish_flow_receiver_stream_10 <span class="sc">%&gt;%</span> </span>
<span id="cb266-19"><a href="#cb266-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>riverMatch)</span>
<span id="cb266-20"><a href="#cb266-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb266-21"><a href="#cb266-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb266-22"><a href="#cb266-22" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_stream_10)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST    river shift tagID power habitat habitatExtra position
1 2024-08-13 04:25:00   BUFFAM   day    60    NA     Run                Center
2 2024-08-13 04:31:00   BUFFAM   day    18    NA     Run                Center
3 2024-08-13 04:32:00   BUFFAM   day    14    NA  Riffle                Center
4 2024-08-13 04:34:00   HARRIS   day    20    NA     Run Woody_debris   Center
5 2024-08-13 04:41:00 AMETHYST   day    19    NA  Riffle                Center
6 2024-08-13 05:15:00   BUFFAM   day    60    NA     Run                Center
  substrate    substrateExtra        shade       lon      lat fishNotes source
1        NA         Sand,Rock        Night -72.45838 42.38205             iPad
2        NA Sand,Boulder,Rock        Night -72.45979 42.38119             iPad
3        NA      Rock,Boulder        Night -72.46000 42.38136             iPad
4        NA           Boulder        Night -72.46033 42.38118             iPad
5        NA              Rock        Night -72.46088 42.38150             iPad
6        NA         Sand,Rock Fully shaded -72.45866 42.38218             iPad
  totalDischarge        flowTime_EST airTemp cloud  precip startTime_EST
1           1.22 2024-08-13 04:57:46      63 Clear No rain         04:16
2           1.22 2024-08-13 04:57:46      63 Clear No rain         04:16
3           1.22 2024-08-13 04:57:46      63 Clear No rain         04:16
4           3.16 2024-08-13 06:51:21      63 Clear No rain         04:16
5           4.38                &lt;NA&gt;      63 Clear No rain         04:16
6           1.22 2024-08-13 04:57:46      63 Clear No rain         04:16
  endTime_EST                                                       isoID
1       09:26 BUFF202408130524EST HARR202408130510EST AMTH202408130516EST
2       09:26 BUFF202408130524EST HARR202408130510EST AMTH202408130516EST
3       09:26 BUFF202408130524EST HARR202408130510EST AMTH202408130516EST
4       09:26 BUFF202408130524EST HARR202408130510EST AMTH202408130516EST
5       09:26 BUFF202408130524EST HARR202408130510EST AMTH202408130516EST
6       09:26 BUFF202408130524EST HARR202408130510EST AMTH202408130516EST
  streamNotes isoTime_EST                        downstreamGPS downstreamGain
1          NA       05:10 Lat: 42.3808032 N Long: 72.4615415 W             80
2          NA       05:10 Lat: 42.3808032 N Long: 72.4615415 W             80
3          NA       05:10 Lat: 42.3808032 N Long: 72.4615415 W             80
4          NA       05:10 Lat: 42.3808032 N Long: 72.4615415 W             80
5          NA       05:10 Lat: 42.3808032 N Long: 72.4615415 W             80
6          NA       05:10 Lat: 42.3808032 N Long: 72.4615415 W             80
                           upstreamGPS upstreamGain
1 Lat: 42.3820586 N Long: 72.4585239 W           80
2 Lat: 42.3820586 N Long: 72.4585239 W           80
3 Lat: 42.3820586 N Long: 72.4585239 W           80
4 Lat: 42.3820586 N Long: 72.4585239 W           80
5 Lat: 42.3820586 N Long: 72.4585239 W           80
6 Lat: 42.3820586 N Long: 72.4585239 W           80</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb268"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb268-1"><a href="#cb268-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb268-2"><a href="#cb268-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_stream_10, </span>
<span id="cb268-3"><a href="#cb268-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_10.csv"</span>, </span>
<span id="cb268-4"><a href="#cb268-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb269"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb269-1"><a href="#cb269-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish_flow_receiver and stream survey data for week 11</span></span>
<span id="cb269-2"><a href="#cb269-2" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_11 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_11.csv"</span>)</span>
<span id="cb269-3"><a href="#cb269-3" aria-hidden="true" tabindex="-1"></a>stream_survey_11 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_11.csv"</span>)</span>
<span id="cb269-4"><a href="#cb269-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb269-5"><a href="#cb269-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust 'river' in fish survey to handle Buffam and Harris as part of Amethyst</span></span>
<span id="cb269-6"><a href="#cb269-6" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_11 <span class="ot">&lt;-</span> fish_flow_receiver_11 <span class="sc">%&gt;%</span></span>
<span id="cb269-7"><a href="#cb269-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb269-8"><a href="#cb269-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create a new 'riverMatch' column for the join</span></span>
<span id="cb269-9"><a href="#cb269-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">riverMatch =</span> <span class="fu">ifelse</span>(river <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"BUFFAM"</span>, <span class="st">"HARRIS"</span>), <span class="st">"AMETHYST"</span>, river)</span>
<span id="cb269-10"><a href="#cb269-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb269-11"><a href="#cb269-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb269-12"><a href="#cb269-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform the join on the 'shift' and the modified 'riverMatch' column in the fish survey</span></span>
<span id="cb269-13"><a href="#cb269-13" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_11 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_flow_receiver_11, </span>
<span id="cb269-14"><a href="#cb269-14" aria-hidden="true" tabindex="-1"></a>                            stream_survey_11, </span>
<span id="cb269-15"><a href="#cb269-15" aria-hidden="true" tabindex="-1"></a>                            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"riverMatch"</span> <span class="ot">=</span> <span class="st">"river"</span>))</span>
<span id="cb269-16"><a href="#cb269-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb269-17"><a href="#cb269-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove the 'riverMatch' column from the result</span></span>
<span id="cb269-18"><a href="#cb269-18" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_11 <span class="ot">&lt;-</span> fish_flow_receiver_stream_11 <span class="sc">%&gt;%</span> </span>
<span id="cb269-19"><a href="#cb269-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>riverMatch)</span>
<span id="cb269-20"><a href="#cb269-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb269-21"><a href="#cb269-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb269-22"><a href="#cb269-22" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_stream_11)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST    river shift tagID power habitat habitatExtra position
1 2024-08-20 09:10:00 AMETHYST   day    19    NA  Riffle                Center
2 2024-08-20 09:10:00 AMETHYST   day    19    NA  Riffle                Center
3 2024-08-20 09:39:00   HARRIS   day    20    NA  Riffle                  Left
4 2024-08-20 09:39:00   HARRIS   day    20    NA  Riffle                  Left
5 2024-08-20 09:39:00   HARRIS   day    20    NA  Riffle                  Left
6 2024-08-20 09:39:00   HARRIS   day    20    NA  Riffle                  Left
  substrate substrateExtra        shade       lon      lat fishNotes source
1        NA           Rock Fully shaded -72.46090 42.38157             iPad
2        NA           Rock Fully shaded -72.46090 42.38157             iPad
3        NA        Boulder Fully shaded -72.46016 42.38116             iPad
4        NA        Boulder Fully shaded -72.46016 42.38116             iPad
5        NA        Boulder Fully shaded -72.46016 42.38116             iPad
6        NA        Boulder Fully shaded -72.46016 42.38116             iPad
  totalDischarge        flowTime_EST airTemp  cloud  precip startTime_EST
1          21.70                &lt;NA&gt;      68 Cloudy No rain         09:00
2          21.70                &lt;NA&gt;      73  Clear No rain         09:00
3          13.48 2024-08-20 09:56:27      68 Cloudy No rain         09:00
4          13.48 2024-08-20 09:56:27      73  Clear No rain         09:00
5           3.87 2024-08-23 13:17:11      68 Cloudy No rain         09:00
6           3.87 2024-08-23 13:17:11      73  Clear No rain         09:00
  endTime_EST                                                         isoID
1       13:37 BUFF202408201044EST, AMTH202408201047EST, HARR202408200947EST
2       13:57 BUFF202408231125EST, HARR202408231130EST, AMTH202408231150EST
3       13:37 BUFF202408201044EST, AMTH202408201047EST, HARR202408200947EST
4       13:57 BUFF202408231125EST, HARR202408231130EST, AMTH202408231150EST
5       13:37 BUFF202408201044EST, AMTH202408201047EST, HARR202408200947EST
6       13:57 BUFF202408231125EST, HARR202408231130EST, AMTH202408231150EST
  streamNotes isoTime_EST downstreamGPS downstreamGain upstreamGPS upstreamGain
1                   09:47            NA             NA          NA           NA
2                   11:25            NA             NA          NA           NA
3                   09:47            NA             NA          NA           NA
4                   11:25            NA             NA          NA           NA
5                   09:47            NA             NA          NA           NA
6                   11:25            NA             NA          NA           NA</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb271"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb271-1"><a href="#cb271-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb271-2"><a href="#cb271-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_stream_11, </span>
<span id="cb271-3"><a href="#cb271-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_11.csv"</span>, </span>
<span id="cb271-4"><a href="#cb271-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb272"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb272-1"><a href="#cb272-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish_flow_receiver and stream survey data for week 12</span></span>
<span id="cb272-2"><a href="#cb272-2" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_12 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_12.csv"</span>)</span>
<span id="cb272-3"><a href="#cb272-3" aria-hidden="true" tabindex="-1"></a>stream_survey_12 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_12.csv"</span>)</span>
<span id="cb272-4"><a href="#cb272-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb272-5"><a href="#cb272-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets by shift and river columns</span></span>
<span id="cb272-6"><a href="#cb272-6" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_12 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_flow_receiver_12, </span>
<span id="cb272-7"><a href="#cb272-7" aria-hidden="true" tabindex="-1"></a>                            stream_survey_12, </span>
<span id="cb272-8"><a href="#cb272-8" aria-hidden="true" tabindex="-1"></a>                            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"river"</span>))</span>
<span id="cb272-9"><a href="#cb272-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb272-10"><a href="#cb272-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb272-11"><a href="#cb272-11" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_stream_12)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST     river shift tagID power habitat habitatExtra position
1 2024-08-27 09:41:00 UNDERHILL   day    45    NA    Pool           NA    Right
2 2024-08-27 10:32:00 UNDERHILL   day    44    NA    Pool           NA   Center
3 2024-08-27 12:19:00 UNDERHILL   day    35    NA    Pool           NA   Center
4 2024-08-27 09:16:33 DRY UPPER   day    16    39    &lt;NA&gt;           NA     &lt;NA&gt;
5 2024-08-27 09:21:27 UNDERHILL   day    45   120    &lt;NA&gt;           NA     &lt;NA&gt;
6 2024-08-27 09:22:07 UNDERHILL   day    45   139    &lt;NA&gt;           NA     &lt;NA&gt;
  substrate              substrateExtra         shade       lon      lat
1        NA                   Sand,Rock  Fully shaded -72.32730 42.44535
2        NA                   Sand,Rock Mostly shaded -72.32805 42.44492
3        NA Boulder,Rock,Granule,Pebble Mostly shaded -72.32929 42.44359
4        NA                        &lt;NA&gt;          &lt;NA&gt;        NA       NA
5        NA                        &lt;NA&gt;          &lt;NA&gt;        NA       NA
6        NA                        &lt;NA&gt;          &lt;NA&gt;        NA       NA
                                                                              fishNotes
1                                                      Unsuccessful at finding shed tag
2                                                      Unsuccessful at finding shed tag
3 Unsuccessful at finding shed tag. It is most likely located in a hole under this rock
4                                                                                  &lt;NA&gt;
5                                                                                  &lt;NA&gt;
6                                                                                  &lt;NA&gt;
    source totalDischarge        flowTime_EST airTemp cloud  precip
1     iPad           0.03 2024-08-27 10:16:23      80 Clear No rain
2     iPad           0.03 2024-08-27 10:16:23      80 Clear No rain
3     iPad           0.03 2024-08-27 10:16:23      80 Clear No rain
4 receiver             NA                &lt;NA&gt;      NA  &lt;NA&gt;    &lt;NA&gt;
5 receiver             NA                &lt;NA&gt;      80 Clear No rain
6 receiver             NA                &lt;NA&gt;      80 Clear No rain
  startTime_EST endTime_EST               isoID streamNotes isoTime_EST
1         09:04       12:48 UNDH202408271016EST          NA       10:16
2         09:04       12:48 UNDH202408271016EST          NA       10:16
3         09:04       12:48 UNDH202408271016EST          NA       10:16
4          &lt;NA&gt;        &lt;NA&gt;                &lt;NA&gt;          NA        &lt;NA&gt;
5         09:04       12:48 UNDH202408271016EST          NA       10:16
6         09:04       12:48 UNDH202408271016EST          NA       10:16
  downstreamGPS downstreamGain upstreamGPS upstreamGain
1            NA             NA          NA           NA
2            NA             NA          NA           NA
3            NA             NA          NA           NA
4            NA             NA          NA           NA
5            NA             NA          NA           NA
6            NA             NA          NA           NA</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb274"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb274-1"><a href="#cb274-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb274-2"><a href="#cb274-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_stream_12, </span>
<span id="cb274-3"><a href="#cb274-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_12.csv"</span>, </span>
<span id="cb274-4"><a href="#cb274-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="combine-all-weekly-datasets" class="level2" data-number="2.10">
<h2 data-number="2.10" class="anchored" data-anchor-id="combine-all-weekly-datasets"><span class="header-section-number">2.10</span> Combine all weekly datasets</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb275"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb275-1"><a href="#cb275-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define file names</span></span>
<span id="cb275-2"><a href="#cb275-2" aria-hidden="true" tabindex="-1"></a>file_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"fish_flow_receiver_stream_1.csv"</span>, <span class="st">"fish_flow_receiver_stream_2.csv"</span>, <span class="st">"fish_flow_receiver_stream_3.csv"</span>, <span class="st">"fish_flow_receiver_stream_4.csv"</span>, </span>
<span id="cb275-3"><a href="#cb275-3" aria-hidden="true" tabindex="-1"></a>                <span class="st">"fish_flow_receiver_stream_5.csv"</span>, <span class="st">"fish_flow_receiver_stream_6.csv"</span>, <span class="st">"fish_flow_receiver_stream_7.csv"</span>, <span class="st">"fish_flow_receiver_stream_8.csv"</span>, </span>
<span id="cb275-4"><a href="#cb275-4" aria-hidden="true" tabindex="-1"></a>                <span class="st">"fish_flow_receiver_stream_9.csv"</span>, <span class="st">"fish_flow_receiver_stream_10.csv"</span>, <span class="st">"fish_flow_receiver_stream_11.csv"</span>, <span class="st">"fish_flow_receiver_stream_12.csv"</span>) </span>
<span id="cb275-5"><a href="#cb275-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb275-6"><a href="#cb275-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an empty list to store the data from each file</span></span>
<span id="cb275-7"><a href="#cb275-7" aria-hidden="true" tabindex="-1"></a>full_data_list <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb275-8"><a href="#cb275-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb275-9"><a href="#cb275-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through each file and read the data into the list</span></span>
<span id="cb275-10"><a href="#cb275-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (file_name <span class="cf">in</span> file_names) {</span>
<span id="cb275-11"><a href="#cb275-11" aria-hidden="true" tabindex="-1"></a>  all_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(file_name, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb275-12"><a href="#cb275-12" aria-hidden="true" tabindex="-1"></a>  full_data_list[[file_name]] <span class="ot">&lt;-</span> all_data</span>
<span id="cb275-13"><a href="#cb275-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb275-14"><a href="#cb275-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb275-15"><a href="#cb275-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine all datasets into a single data frame by stacking rows</span></span>
<span id="cb275-16"><a href="#cb275-16" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_all <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(full_data_list)</span>
<span id="cb275-17"><a href="#cb275-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb275-18"><a href="#cb275-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of the combined dataset</span></span>
<span id="cb275-19"><a href="#cb275-19" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_flow_receiver_stream_all)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      trackedTime_EST    river shift tagID power habitat habitatExtra position
1 2024-06-11 05:57:00 AMETHYST   day    59    NA  Riffle                Center
2 2024-06-11 06:08:00 AMETHYST   day    60    NA  Riffle                Center
3 2024-06-11 06:15:00   BUFFAM   day    19    NA  Riffle                Center
4 2024-06-11 06:19:00   HARRIS   day    20    NA     Run                  Left
5 2024-06-11 06:28:00   HARRIS   day    57    NA     Run                  Left
6 2024-06-11 06:34:00   HARRIS   day    12    NA   Glide                Center
  substrate substrateExtra         shade       lon      lat fishNotes source
1      Rock           &lt;NA&gt;  Fully shaded -72.46038 42.38162             iPad
2      Rock           &lt;NA&gt;  Fully shaded -72.46030 42.38136             iPad
3      Rock           &lt;NA&gt;  Fully shaded -72.46023 42.38139             iPad
4    Pebble           &lt;NA&gt; Mostly shaded -72.46015 42.38095             iPad
5      Rock           &lt;NA&gt; Mostly shaded -72.46034 42.38105             iPad
6      Rock           &lt;NA&gt;  Fully shaded -72.46009 42.38094             iPad
  totalDischarge        flowTime_EST airTemp                      cloud  precip
1           1.56                &lt;NA&gt;      71 Partly cloudy/partly sunny No rain
2           1.56                &lt;NA&gt;      71 Partly cloudy/partly sunny No rain
3           1.49 2024-06-11 08:32:26      71 Partly cloudy/partly sunny No rain
4           0.07 2024-06-11 09:42:47      71 Partly cloudy/partly sunny No rain
5           0.07 2024-06-11 09:42:47      71 Partly cloudy/partly sunny No rain
6           0.07 2024-06-11 09:42:47      71 Partly cloudy/partly sunny No rain
  startTime_EST endTime_EST               isoID streamNotes isoTime_EST
1         06:30       12:00 AMTH202406111000EST        &lt;NA&gt;       10:00
2         06:30       12:00 AMTH202406111000EST        &lt;NA&gt;       10:00
3         06:30       12:00 AMTH202406111000EST        &lt;NA&gt;       10:00
4         06:30       12:00 AMTH202406111000EST        &lt;NA&gt;       10:00
5         06:30       12:00 AMTH202406111000EST        &lt;NA&gt;       10:00
6         06:30       12:00 AMTH202406111000EST        &lt;NA&gt;       10:00
  downstreamGPS downstreamGain upstreamGPS upstreamGain
1          &lt;NA&gt;             NA        &lt;NA&gt;           NA
2          &lt;NA&gt;             NA        &lt;NA&gt;           NA
3          &lt;NA&gt;             NA        &lt;NA&gt;           NA
4          &lt;NA&gt;             NA        &lt;NA&gt;           NA
5          &lt;NA&gt;             NA        &lt;NA&gt;           NA
6          &lt;NA&gt;             NA        &lt;NA&gt;           NA</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb277"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb277-1"><a href="#cb277-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write the combined data to a new CSV file</span></span>
<span id="cb277-2"><a href="#cb277-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_stream_all, </span>
<span id="cb277-3"><a href="#cb277-3" aria-hidden="true" tabindex="-1"></a>          <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_all.csv"</span>, </span>
<span id="cb277-4"><a href="#cb277-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="preparing-tagging-data" class="level2" data-number="2.11">
<h2 data-number="2.11" class="anchored" data-anchor-id="preparing-tagging-data"><span class="header-section-number">2.11</span> Preparing tagging data</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb278"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb278-1"><a href="#cb278-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the tagging data</span></span>
<span id="cb278-2"><a href="#cb278-2" aria-hidden="true" tabindex="-1"></a>tagging_data <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/taggingData/taggingData.xlsx"</span>)</span>
<span id="cb278-3"><a href="#cb278-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb278-4"><a href="#cb278-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Select specific columns</span></span>
<span id="cb278-5"><a href="#cb278-5" aria-hidden="true" tabindex="-1"></a>tagging_data <span class="ot">&lt;-</span> tagging_data <span class="sc">%&gt;%</span></span>
<span id="cb278-6"><a href="#cb278-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(RIVER, DATE, SECTION, RADIOTAG, TEMPTAG, LENGTH, WEIGHT, GENETICSAM, SEX)</span>
<span id="cb278-7"><a href="#cb278-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb278-8"><a href="#cb278-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename columns</span></span>
<span id="cb278-9"><a href="#cb278-9" aria-hidden="true" tabindex="-1"></a>tagging_data <span class="ot">&lt;-</span> tagging_data <span class="sc">%&gt;%</span></span>
<span id="cb278-10"><a href="#cb278-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb278-11"><a href="#cb278-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> RIVER,</span>
<span id="cb278-12"><a href="#cb278-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">date =</span> DATE,</span>
<span id="cb278-13"><a href="#cb278-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">section =</span> SECTION,</span>
<span id="cb278-14"><a href="#cb278-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">tagID =</span> RADIOTAG,</span>
<span id="cb278-15"><a href="#cb278-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">tempID =</span> TEMPTAG,</span>
<span id="cb278-16"><a href="#cb278-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">length =</span> LENGTH,</span>
<span id="cb278-17"><a href="#cb278-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">weight =</span> WEIGHT,</span>
<span id="cb278-18"><a href="#cb278-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">geneticSam =</span> GENETICSAM,</span>
<span id="cb278-19"><a href="#cb278-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">sex =</span> SEX</span>
<span id="cb278-20"><a href="#cb278-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb278-21"><a href="#cb278-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb278-22"><a href="#cb278-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Fix column labels and remove first tag 44 since the fish died and was retagged before the study began</span></span>
<span id="cb278-23"><a href="#cb278-23" aria-hidden="true" tabindex="-1"></a>tagging_data <span class="ot">&lt;-</span> tagging_data <span class="sc">%&gt;%</span></span>
<span id="cb278-24"><a href="#cb278-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">str_trim</span>(river),</span>
<span id="cb278-25"><a href="#cb278-25" aria-hidden="true" tabindex="-1"></a>         <span class="at">date =</span> <span class="fu">str_trim</span>(date),</span>
<span id="cb278-26"><a href="#cb278-26" aria-hidden="true" tabindex="-1"></a>         <span class="at">section =</span> <span class="fu">str_trim</span>(section),</span>
<span id="cb278-27"><a href="#cb278-27" aria-hidden="true" tabindex="-1"></a>         <span class="at">tagID =</span> <span class="fu">str_trim</span>(tagID),</span>
<span id="cb278-28"><a href="#cb278-28" aria-hidden="true" tabindex="-1"></a>         <span class="at">tempID =</span> <span class="fu">str_trim</span>(tempID),</span>
<span id="cb278-29"><a href="#cb278-29" aria-hidden="true" tabindex="-1"></a>         <span class="at">length =</span> <span class="fu">str_trim</span>(length),</span>
<span id="cb278-30"><a href="#cb278-30" aria-hidden="true" tabindex="-1"></a>         <span class="at">weight =</span> <span class="fu">str_trim</span>(weight),</span>
<span id="cb278-31"><a href="#cb278-31" aria-hidden="true" tabindex="-1"></a>         <span class="at">geneticSam =</span> <span class="fu">str_trim</span>(geneticSam),</span>
<span id="cb278-32"><a href="#cb278-32" aria-hidden="true" tabindex="-1"></a>         <span class="at">sex =</span> <span class="fu">str_trim</span>(sex)) <span class="sc">%&gt;%</span></span>
<span id="cb278-33"><a href="#cb278-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(tagID <span class="sc">==</span> <span class="st">"44"</span> <span class="sc">&amp;</span> date <span class="sc">==</span> <span class="fu">as.POSIXct</span>(<span class="st">"2024-06-04"</span>, <span class="at">format=</span><span class="st">"%Y-%m-%d"</span>)))</span>
<span id="cb278-34"><a href="#cb278-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb278-35"><a href="#cb278-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new tagging data csv</span></span>
<span id="cb278-36"><a href="#cb278-36" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(tagging_data, </span>
<span id="cb278-37"><a href="#cb278-37" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/tagging_data.csv"</span>, </span>
<span id="cb278-38"><a href="#cb278-38" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="combine-tagging-data-with-fishstreamflowreceiver-data" class="level2" data-number="2.12">
<h2 data-number="2.12" class="anchored" data-anchor-id="combine-tagging-data-with-fishstreamflowreceiver-data"><span class="header-section-number">2.12</span> Combine tagging data with fish/stream/flow/receiver data</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb279"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb279-1"><a href="#cb279-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the data</span></span>
<span id="cb279-2"><a href="#cb279-2" aria-hidden="true" tabindex="-1"></a>tagging_data <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/tagging_data.csv"</span>)</span>
<span id="cb279-3"><a href="#cb279-3" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_all <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_all.csv"</span>)</span>
<span id="cb279-4"><a href="#cb279-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb279-5"><a href="#cb279-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a mapping of radio tag ID to temp tag ID from tagging data</span></span>
<span id="cb279-6"><a href="#cb279-6" aria-hidden="true" tabindex="-1"></a>radio_temp_mapping <span class="ot">&lt;-</span> tagging_data <span class="sc">%&gt;%</span></span>
<span id="cb279-7"><a href="#cb279-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(tagID, tempID) <span class="sc">%&gt;%</span></span>
<span id="cb279-8"><a href="#cb279-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>()  <span class="co"># Ensures unique pairings</span></span>
<span id="cb279-9"><a href="#cb279-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb279-10"><a href="#cb279-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge this mapping into fish/stream/flow/receiver data</span></span>
<span id="cb279-11"><a href="#cb279-11" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_all <span class="ot">&lt;-</span> fish_flow_receiver_stream_all <span class="sc">%&gt;%</span></span>
<span id="cb279-12"><a href="#cb279-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(radio_temp_mapping, <span class="at">by =</span> <span class="st">"tagID"</span>)</span>
<span id="cb279-13"><a href="#cb279-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb279-14"><a href="#cb279-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new column 'date' with just the date part of 'dateTime'</span></span>
<span id="cb279-15"><a href="#cb279-15" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_all <span class="ot">&lt;-</span> fish_flow_receiver_stream_all <span class="sc">%&gt;%</span></span>
<span id="cb279-16"><a href="#cb279-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(trackedTime_EST))</span>
<span id="cb279-17"><a href="#cb279-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb279-18"><a href="#cb279-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the date column into a matching format as the other dataset</span></span>
<span id="cb279-19"><a href="#cb279-19" aria-hidden="true" tabindex="-1"></a>tagging_data <span class="ot">&lt;-</span> tagging_data <span class="sc">%&gt;%</span></span>
<span id="cb279-20"><a href="#cb279-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(date))</span>
<span id="cb279-21"><a href="#cb279-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb279-22"><a href="#cb279-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets by binding rows horizontally</span></span>
<span id="cb279-23"><a href="#cb279-23" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_tagging_all <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(fish_flow_receiver_stream_all, tagging_data)</span>
<span id="cb279-24"><a href="#cb279-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb279-25"><a href="#cb279-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Now the combined dataframe should have all tempTagIDs added where appropriate</span></span>
<span id="cb279-26"><a href="#cb279-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb279-27"><a href="#cb279-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new tagging data csv</span></span>
<span id="cb279-28"><a href="#cb279-28" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_flow_receiver_stream_tagging_all, </span>
<span id="cb279-29"><a href="#cb279-29" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_tagging_all.csv"</span>, </span>
<span id="cb279-30"><a href="#cb279-30" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="preparing-collection-data" class="level2" data-number="2.13">
<h2 data-number="2.13" class="anchored" data-anchor-id="preparing-collection-data"><span class="header-section-number">2.13</span> Preparing collection data</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb280"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb280-1"><a href="#cb280-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the collection data</span></span>
<span id="cb280-2"><a href="#cb280-2" aria-hidden="true" tabindex="-1"></a>collection_data <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/taggingData/collectionData.xlsx"</span>, </span>
<span id="cb280-3"><a href="#cb280-3" aria-hidden="true" tabindex="-1"></a>                              <span class="at">range =</span> <span class="fu">cell_rows</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">34</span>))</span>
<span id="cb280-4"><a href="#cb280-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb280-5"><a href="#cb280-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Select specific columns</span></span>
<span id="cb280-6"><a href="#cb280-6" aria-hidden="true" tabindex="-1"></a>collection_data <span class="ot">&lt;-</span> collection_data <span class="sc">%&gt;%</span></span>
<span id="cb280-7"><a href="#cb280-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(RIVER, recoveryDate, RADIOTAG, TEMPTAG, LENGTH, WEIGHT, BLOOD, TYPE, COMMENTS)</span>
<span id="cb280-8"><a href="#cb280-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb280-9"><a href="#cb280-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename columns</span></span>
<span id="cb280-10"><a href="#cb280-10" aria-hidden="true" tabindex="-1"></a>collection_data <span class="ot">&lt;-</span> collection_data <span class="sc">%&gt;%</span></span>
<span id="cb280-11"><a href="#cb280-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb280-12"><a href="#cb280-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">river =</span> RIVER,</span>
<span id="cb280-13"><a href="#cb280-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">date =</span> recoveryDate,</span>
<span id="cb280-14"><a href="#cb280-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">tagID =</span> RADIOTAG,</span>
<span id="cb280-15"><a href="#cb280-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">tempID =</span> TEMPTAG,</span>
<span id="cb280-16"><a href="#cb280-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">length =</span> LENGTH,</span>
<span id="cb280-17"><a href="#cb280-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">weight =</span> WEIGHT,</span>
<span id="cb280-18"><a href="#cb280-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">blood =</span> BLOOD,</span>
<span id="cb280-19"><a href="#cb280-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> TYPE,</span>
<span id="cb280-20"><a href="#cb280-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">collectionNotes =</span> COMMENTS</span>
<span id="cb280-21"><a href="#cb280-21" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb280-22"><a href="#cb280-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb280-23"><a href="#cb280-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Fix column labels</span></span>
<span id="cb280-24"><a href="#cb280-24" aria-hidden="true" tabindex="-1"></a>collection_data <span class="ot">&lt;-</span> collection_data <span class="sc">%&gt;%</span></span>
<span id="cb280-25"><a href="#cb280-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">river =</span> <span class="fu">str_trim</span>(river),</span>
<span id="cb280-26"><a href="#cb280-26" aria-hidden="true" tabindex="-1"></a>         <span class="at">date =</span> <span class="fu">str_trim</span>(date),</span>
<span id="cb280-27"><a href="#cb280-27" aria-hidden="true" tabindex="-1"></a>         <span class="at">tagID =</span> <span class="fu">str_trim</span>(tagID),</span>
<span id="cb280-28"><a href="#cb280-28" aria-hidden="true" tabindex="-1"></a>         <span class="at">tempID =</span> <span class="fu">str_trim</span>(tempID),</span>
<span id="cb280-29"><a href="#cb280-29" aria-hidden="true" tabindex="-1"></a>         <span class="at">length =</span> <span class="fu">str_trim</span>(length),</span>
<span id="cb280-30"><a href="#cb280-30" aria-hidden="true" tabindex="-1"></a>         <span class="at">weight =</span> <span class="fu">str_trim</span>(weight),</span>
<span id="cb280-31"><a href="#cb280-31" aria-hidden="true" tabindex="-1"></a>         <span class="at">blood =</span> <span class="fu">str_trim</span>(blood),</span>
<span id="cb280-32"><a href="#cb280-32" aria-hidden="true" tabindex="-1"></a>         <span class="at">type =</span> <span class="fu">str_trim</span>(type),</span>
<span id="cb280-33"><a href="#cb280-33" aria-hidden="true" tabindex="-1"></a>         <span class="at">collectionNotes =</span> <span class="fu">str_trim</span>(collectionNotes))</span>
<span id="cb280-34"><a href="#cb280-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb280-35"><a href="#cb280-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new tagging data csv</span></span>
<span id="cb280-36"><a href="#cb280-36" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(collection_data, </span>
<span id="cb280-37"><a href="#cb280-37" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/collection_data.csv"</span>, </span>
<span id="cb280-38"><a href="#cb280-38" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="combine-collection-data-with-fishstreamflowreceivertagging-data" class="level2" data-number="2.14">
<h2 data-number="2.14" class="anchored" data-anchor-id="combine-collection-data-with-fishstreamflowreceivertagging-data"><span class="header-section-number">2.14</span> Combine collection data with fish/stream/flow/receiver/tagging data</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb281"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb281-1"><a href="#cb281-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the data</span></span>
<span id="cb281-2"><a href="#cb281-2" aria-hidden="true" tabindex="-1"></a>collection_data <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/collection_data.csv"</span>)</span>
<span id="cb281-3"><a href="#cb281-3" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_tagging_all <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_tagging_all.csv"</span>)</span>
<span id="cb281-4"><a href="#cb281-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb281-5"><a href="#cb281-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the date column into a matching format as the other dataset</span></span>
<span id="cb281-6"><a href="#cb281-6" aria-hidden="true" tabindex="-1"></a>collection_data <span class="ot">&lt;-</span> collection_data <span class="sc">%&gt;%</span></span>
<span id="cb281-7"><a href="#cb281-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(date))</span>
<span id="cb281-8"><a href="#cb281-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb281-9"><a href="#cb281-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the date column into a matching format as the other dataset</span></span>
<span id="cb281-10"><a href="#cb281-10" aria-hidden="true" tabindex="-1"></a>fish_flow_receiver_stream_tagging_all <span class="ot">&lt;-</span> fish_flow_receiver_stream_tagging_all <span class="sc">%&gt;%</span></span>
<span id="cb281-11"><a href="#cb281-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(date))</span>
<span id="cb281-12"><a href="#cb281-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb281-13"><a href="#cb281-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the datasets by binding rows horizontally</span></span>
<span id="cb281-14"><a href="#cb281-14" aria-hidden="true" tabindex="-1"></a>tracking_data_all <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(fish_flow_receiver_stream_tagging_all, collection_data)</span>
<span id="cb281-15"><a href="#cb281-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb281-16"><a href="#cb281-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new tagging data csv</span></span>
<span id="cb281-17"><a href="#cb281-17" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(tracking_data_all, </span>
<span id="cb281-18"><a href="#cb281-18" aria-hidden="true" tabindex="-1"></a>          <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/tracking_data_all.csv"</span>, </span>
<span id="cb281-19"><a href="#cb281-19" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link" aria-label="Introduction">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./preliminary_data_visualization.html" class="pagination-link" aria-label="Preliminary Data Visualization">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Preliminary Data Visualization</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb282" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb282-1"><a href="#cb282-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># Creating my Datasheet</span></span>
<span id="cb282-2"><a href="#cb282-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3"><a href="#cb282-3" aria-hidden="true" tabindex="-1"></a><span class="fu">## Prep</span></span>
<span id="cb282-4"><a href="#cb282-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-5"><a href="#cb282-5" aria-hidden="true" tabindex="-1"></a><span class="in">```{r load libraries}</span></span>
<span id="cb282-6"><a href="#cb282-6" aria-hidden="true" tabindex="-1"></a><span class="in"># Load required libraries</span></span>
<span id="cb282-7"><a href="#cb282-7" aria-hidden="true" tabindex="-1"></a><span class="in">library(dplyr)</span></span>
<span id="cb282-8"><a href="#cb282-8" aria-hidden="true" tabindex="-1"></a><span class="in">library(lubridate)</span></span>
<span id="cb282-9"><a href="#cb282-9" aria-hidden="true" tabindex="-1"></a><span class="in">library(readxl)</span></span>
<span id="cb282-10"><a href="#cb282-10" aria-hidden="true" tabindex="-1"></a><span class="in">library(leaflet)</span></span>
<span id="cb282-11"><a href="#cb282-11" aria-hidden="true" tabindex="-1"></a><span class="in">library(tidyverse)</span></span>
<span id="cb282-12"><a href="#cb282-12" aria-hidden="true" tabindex="-1"></a><span class="in">library(tidyr)</span></span>
<span id="cb282-13"><a href="#cb282-13" aria-hidden="true" tabindex="-1"></a><span class="in">library(stringr)</span></span>
<span id="cb282-14"><a href="#cb282-14" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-15"><a href="#cb282-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-16"><a href="#cb282-16" aria-hidden="true" tabindex="-1"></a><span class="fu">## Preparing Fish Surveys</span></span>
<span id="cb282-17"><a href="#cb282-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-18"><a href="#cb282-18" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the fish survey 1}</span></span>
<span id="cb282-19"><a href="#cb282-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-20"><a href="#cb282-20" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey data</span></span>
<span id="cb282-21"><a href="#cb282-21" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_1 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 1.csv")</span></span>
<span id="cb282-22"><a href="#cb282-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-23"><a href="#cb282-23" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb282-24"><a href="#cb282-24" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb282-25"><a href="#cb282-25" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_1$date &lt;- as.Date(fish_survey_1$date, </span></span>
<span id="cb282-26"><a href="#cb282-26" aria-hidden="true" tabindex="-1"></a><span class="in">                              format = "%m/%d/%Y")</span></span>
<span id="cb282-27"><a href="#cb282-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-28"><a href="#cb282-28" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb282-29"><a href="#cb282-29" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_1$dateTime_EST &lt;- as.POSIXct(paste(fish_survey_1$date, </span></span>
<span id="cb282-30"><a href="#cb282-30" aria-hidden="true" tabindex="-1"></a><span class="in">                                               fish_survey_1$time), </span></span>
<span id="cb282-31"><a href="#cb282-31" aria-hidden="true" tabindex="-1"></a><span class="in">                                         format="%Y-%m-%d %H:%M",</span></span>
<span id="cb282-32"><a href="#cb282-32" aria-hidden="true" tabindex="-1"></a><span class="in">                                         tz = "EST")</span></span>
<span id="cb282-33"><a href="#cb282-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-34"><a href="#cb282-34" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-35"><a href="#cb282-35" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 5:00 EST to 11:00 EST</span></span>
<span id="cb282-36"><a href="#cb282-36" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_1 &lt;- fish_survey_1 %&gt;%</span></span>
<span id="cb282-37"><a href="#cb282-37" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-38"><a href="#cb282-38" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-39"><a href="#cb282-39" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 4 &amp; hour(dateTime_EST) &lt; 12 ~ "day",</span></span>
<span id="cb282-40"><a href="#cb282-40" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-41"><a href="#cb282-41" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-42"><a href="#cb282-42" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-43"><a href="#cb282-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-44"><a href="#cb282-44" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-45"><a href="#cb282-45" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_survey_1)</span></span>
<span id="cb282-46"><a href="#cb282-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-47"><a href="#cb282-47" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new fish survey csv</span></span>
<span id="cb282-48"><a href="#cb282-48" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_survey_1, </span></span>
<span id="cb282-49"><a href="#cb282-49" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_1.csv", </span></span>
<span id="cb282-50"><a href="#cb282-50" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-51"><a href="#cb282-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-52"><a href="#cb282-52" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-53"><a href="#cb282-53" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the fish survey 2}</span></span>
<span id="cb282-54"><a href="#cb282-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-55"><a href="#cb282-55" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey data</span></span>
<span id="cb282-56"><a href="#cb282-56" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_2 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 2.csv")</span></span>
<span id="cb282-57"><a href="#cb282-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-58"><a href="#cb282-58" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb282-59"><a href="#cb282-59" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb282-60"><a href="#cb282-60" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_2$date &lt;- as.Date(fish_survey_2$date, </span></span>
<span id="cb282-61"><a href="#cb282-61" aria-hidden="true" tabindex="-1"></a><span class="in">                              format = "%m/%d/%Y")</span></span>
<span id="cb282-62"><a href="#cb282-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-63"><a href="#cb282-63" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb282-64"><a href="#cb282-64" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_2$dateTime_EST &lt;- as.POSIXct(paste(fish_survey_2$date, </span></span>
<span id="cb282-65"><a href="#cb282-65" aria-hidden="true" tabindex="-1"></a><span class="in">                                               fish_survey_2$time), </span></span>
<span id="cb282-66"><a href="#cb282-66" aria-hidden="true" tabindex="-1"></a><span class="in">                                         format="%Y-%m-%d %H:%M",</span></span>
<span id="cb282-67"><a href="#cb282-67" aria-hidden="true" tabindex="-1"></a><span class="in">                                         tz = "EST")</span></span>
<span id="cb282-68"><a href="#cb282-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-69"><a href="#cb282-69" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-70"><a href="#cb282-70" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 11:00 EST to 17:00 EST</span></span>
<span id="cb282-71"><a href="#cb282-71" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_2 &lt;- fish_survey_2 %&gt;%</span></span>
<span id="cb282-72"><a href="#cb282-72" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-73"><a href="#cb282-73" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-74"><a href="#cb282-74" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 10 &amp; hour(dateTime_EST) &lt; 18 ~ "day",</span></span>
<span id="cb282-75"><a href="#cb282-75" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-76"><a href="#cb282-76" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-77"><a href="#cb282-77" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-78"><a href="#cb282-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-79"><a href="#cb282-79" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-80"><a href="#cb282-80" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_survey_2)</span></span>
<span id="cb282-81"><a href="#cb282-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-82"><a href="#cb282-82" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new fish survey csv</span></span>
<span id="cb282-83"><a href="#cb282-83" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_survey_2, </span></span>
<span id="cb282-84"><a href="#cb282-84" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_2.csv", </span></span>
<span id="cb282-85"><a href="#cb282-85" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-86"><a href="#cb282-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-87"><a href="#cb282-87" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-88"><a href="#cb282-88" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the fish survey 3}</span></span>
<span id="cb282-89"><a href="#cb282-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-90"><a href="#cb282-90" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey data</span></span>
<span id="cb282-91"><a href="#cb282-91" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_3 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 3.csv")</span></span>
<span id="cb282-92"><a href="#cb282-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-93"><a href="#cb282-93" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb282-94"><a href="#cb282-94" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb282-95"><a href="#cb282-95" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_3$date &lt;- as.Date(fish_survey_3$date, </span></span>
<span id="cb282-96"><a href="#cb282-96" aria-hidden="true" tabindex="-1"></a><span class="in">                              format = "%m/%d/%Y")</span></span>
<span id="cb282-97"><a href="#cb282-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-98"><a href="#cb282-98" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb282-99"><a href="#cb282-99" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_3$dateTime_EST &lt;- as.POSIXct(paste(fish_survey_3$date, </span></span>
<span id="cb282-100"><a href="#cb282-100" aria-hidden="true" tabindex="-1"></a><span class="in">                                               fish_survey_3$time), </span></span>
<span id="cb282-101"><a href="#cb282-101" aria-hidden="true" tabindex="-1"></a><span class="in">                                         format="%Y-%m-%d %H:%M",</span></span>
<span id="cb282-102"><a href="#cb282-102" aria-hidden="true" tabindex="-1"></a><span class="in">                                         tz = "EST")</span></span>
<span id="cb282-103"><a href="#cb282-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-104"><a href="#cb282-104" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-105"><a href="#cb282-105" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 5:00 EST to 11:00 EST</span></span>
<span id="cb282-106"><a href="#cb282-106" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_3 &lt;- fish_survey_3 %&gt;%</span></span>
<span id="cb282-107"><a href="#cb282-107" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-108"><a href="#cb282-108" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-109"><a href="#cb282-109" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 4 &amp; hour(dateTime_EST) &lt; 12 ~ "day",</span></span>
<span id="cb282-110"><a href="#cb282-110" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-111"><a href="#cb282-111" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-112"><a href="#cb282-112" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-113"><a href="#cb282-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-114"><a href="#cb282-114" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-115"><a href="#cb282-115" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_survey_3)</span></span>
<span id="cb282-116"><a href="#cb282-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-117"><a href="#cb282-117" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new fish survey csv</span></span>
<span id="cb282-118"><a href="#cb282-118" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_survey_3, </span></span>
<span id="cb282-119"><a href="#cb282-119" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_3.csv", </span></span>
<span id="cb282-120"><a href="#cb282-120" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-121"><a href="#cb282-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-122"><a href="#cb282-122" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-123"><a href="#cb282-123" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the fish survey 4}</span></span>
<span id="cb282-124"><a href="#cb282-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-125"><a href="#cb282-125" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey data</span></span>
<span id="cb282-126"><a href="#cb282-126" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_4 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 4.csv")</span></span>
<span id="cb282-127"><a href="#cb282-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-128"><a href="#cb282-128" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb282-129"><a href="#cb282-129" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb282-130"><a href="#cb282-130" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_4$date &lt;- as.Date(fish_survey_4$date, </span></span>
<span id="cb282-131"><a href="#cb282-131" aria-hidden="true" tabindex="-1"></a><span class="in">                              format = "%m/%d/%Y")</span></span>
<span id="cb282-132"><a href="#cb282-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-133"><a href="#cb282-133" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb282-134"><a href="#cb282-134" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_4$dateTime_EST &lt;- as.POSIXct(paste(fish_survey_4$date, </span></span>
<span id="cb282-135"><a href="#cb282-135" aria-hidden="true" tabindex="-1"></a><span class="in">                                               fish_survey_4$time), </span></span>
<span id="cb282-136"><a href="#cb282-136" aria-hidden="true" tabindex="-1"></a><span class="in">                                         format="%Y-%m-%d %H:%M",</span></span>
<span id="cb282-137"><a href="#cb282-137" aria-hidden="true" tabindex="-1"></a><span class="in">                                         tz = "EST")</span></span>
<span id="cb282-138"><a href="#cb282-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-139"><a href="#cb282-139" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-140"><a href="#cb282-140" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 3:00 EST to 9:00 EST</span></span>
<span id="cb282-141"><a href="#cb282-141" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_4 &lt;- fish_survey_4 %&gt;%</span></span>
<span id="cb282-142"><a href="#cb282-142" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-143"><a href="#cb282-143" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-144"><a href="#cb282-144" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 2 &amp; hour(dateTime_EST) &lt; 10 ~ "day",</span></span>
<span id="cb282-145"><a href="#cb282-145" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-146"><a href="#cb282-146" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-147"><a href="#cb282-147" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-148"><a href="#cb282-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-149"><a href="#cb282-149" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-150"><a href="#cb282-150" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_survey_4)</span></span>
<span id="cb282-151"><a href="#cb282-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-152"><a href="#cb282-152" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new fish survey csv</span></span>
<span id="cb282-153"><a href="#cb282-153" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_survey_4, </span></span>
<span id="cb282-154"><a href="#cb282-154" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_4.csv", </span></span>
<span id="cb282-155"><a href="#cb282-155" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-156"><a href="#cb282-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-157"><a href="#cb282-157" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-158"><a href="#cb282-158" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the fish survey 5}</span></span>
<span id="cb282-159"><a href="#cb282-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-160"><a href="#cb282-160" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey data</span></span>
<span id="cb282-161"><a href="#cb282-161" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_5 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 5.csv")</span></span>
<span id="cb282-162"><a href="#cb282-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-163"><a href="#cb282-163" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb282-164"><a href="#cb282-164" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb282-165"><a href="#cb282-165" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_5$date &lt;- as.Date(fish_survey_5$date, </span></span>
<span id="cb282-166"><a href="#cb282-166" aria-hidden="true" tabindex="-1"></a><span class="in">                              format = "%m/%d/%Y")</span></span>
<span id="cb282-167"><a href="#cb282-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-168"><a href="#cb282-168" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb282-169"><a href="#cb282-169" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_5$dateTime_EST &lt;- as.POSIXct(paste(fish_survey_5$date, </span></span>
<span id="cb282-170"><a href="#cb282-170" aria-hidden="true" tabindex="-1"></a><span class="in">                                               fish_survey_5$time), </span></span>
<span id="cb282-171"><a href="#cb282-171" aria-hidden="true" tabindex="-1"></a><span class="in">                                         format="%Y-%m-%d %H:%M",</span></span>
<span id="cb282-172"><a href="#cb282-172" aria-hidden="true" tabindex="-1"></a><span class="in">                                         tz = "EST")</span></span>
<span id="cb282-173"><a href="#cb282-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-174"><a href="#cb282-174" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-175"><a href="#cb282-175" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb282-176"><a href="#cb282-176" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_5 &lt;- fish_survey_5 %&gt;%</span></span>
<span id="cb282-177"><a href="#cb282-177" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-178"><a href="#cb282-178" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-179"><a href="#cb282-179" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 6 &amp; hour(dateTime_EST) &lt; 14 ~ "day",</span></span>
<span id="cb282-180"><a href="#cb282-180" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-181"><a href="#cb282-181" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-182"><a href="#cb282-182" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-183"><a href="#cb282-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-184"><a href="#cb282-184" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-185"><a href="#cb282-185" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_survey_5)</span></span>
<span id="cb282-186"><a href="#cb282-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-187"><a href="#cb282-187" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new fish survey csv</span></span>
<span id="cb282-188"><a href="#cb282-188" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_survey_5, </span></span>
<span id="cb282-189"><a href="#cb282-189" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_5.csv", </span></span>
<span id="cb282-190"><a href="#cb282-190" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-191"><a href="#cb282-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-192"><a href="#cb282-192" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-193"><a href="#cb282-193" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the fish survey 6}</span></span>
<span id="cb282-194"><a href="#cb282-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-195"><a href="#cb282-195" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey data</span></span>
<span id="cb282-196"><a href="#cb282-196" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_6 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 6.csv")</span></span>
<span id="cb282-197"><a href="#cb282-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-198"><a href="#cb282-198" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb282-199"><a href="#cb282-199" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb282-200"><a href="#cb282-200" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_6$date &lt;- as.Date(fish_survey_6$date, </span></span>
<span id="cb282-201"><a href="#cb282-201" aria-hidden="true" tabindex="-1"></a><span class="in">                              format = "%m/%d/%Y")</span></span>
<span id="cb282-202"><a href="#cb282-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-203"><a href="#cb282-203" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb282-204"><a href="#cb282-204" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_6$dateTime_EST &lt;- as.POSIXct(paste(fish_survey_6$date, </span></span>
<span id="cb282-205"><a href="#cb282-205" aria-hidden="true" tabindex="-1"></a><span class="in">                                               fish_survey_6$time), </span></span>
<span id="cb282-206"><a href="#cb282-206" aria-hidden="true" tabindex="-1"></a><span class="in">                                         format="%Y-%m-%d %H:%M",</span></span>
<span id="cb282-207"><a href="#cb282-207" aria-hidden="true" tabindex="-1"></a><span class="in">                                         tz = "EST")</span></span>
<span id="cb282-208"><a href="#cb282-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-209"><a href="#cb282-209" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-210"><a href="#cb282-210" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 3:00 EST to 9:00 EST</span></span>
<span id="cb282-211"><a href="#cb282-211" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_6 &lt;- fish_survey_6 %&gt;%</span></span>
<span id="cb282-212"><a href="#cb282-212" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-213"><a href="#cb282-213" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-214"><a href="#cb282-214" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 2 &amp; hour(dateTime_EST) &lt; 10 ~ "day",</span></span>
<span id="cb282-215"><a href="#cb282-215" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-216"><a href="#cb282-216" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-217"><a href="#cb282-217" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-218"><a href="#cb282-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-219"><a href="#cb282-219" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-220"><a href="#cb282-220" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_survey_6)</span></span>
<span id="cb282-221"><a href="#cb282-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-222"><a href="#cb282-222" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new fish survey csv</span></span>
<span id="cb282-223"><a href="#cb282-223" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_survey_6, </span></span>
<span id="cb282-224"><a href="#cb282-224" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_6.csv", </span></span>
<span id="cb282-225"><a href="#cb282-225" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-226"><a href="#cb282-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-227"><a href="#cb282-227" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-228"><a href="#cb282-228" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the fish survey 7}</span></span>
<span id="cb282-229"><a href="#cb282-229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-230"><a href="#cb282-230" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey data</span></span>
<span id="cb282-231"><a href="#cb282-231" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_7 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 7.csv")</span></span>
<span id="cb282-232"><a href="#cb282-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-233"><a href="#cb282-233" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb282-234"><a href="#cb282-234" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb282-235"><a href="#cb282-235" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_7$date &lt;- as.Date(fish_survey_7$date, </span></span>
<span id="cb282-236"><a href="#cb282-236" aria-hidden="true" tabindex="-1"></a><span class="in">                              format = "%m/%d/%Y")</span></span>
<span id="cb282-237"><a href="#cb282-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-238"><a href="#cb282-238" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb282-239"><a href="#cb282-239" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_7$dateTime_EST &lt;- as.POSIXct(paste(fish_survey_7$date, </span></span>
<span id="cb282-240"><a href="#cb282-240" aria-hidden="true" tabindex="-1"></a><span class="in">                                               fish_survey_7$time), </span></span>
<span id="cb282-241"><a href="#cb282-241" aria-hidden="true" tabindex="-1"></a><span class="in">                                         format="%Y-%m-%d %H:%M",</span></span>
<span id="cb282-242"><a href="#cb282-242" aria-hidden="true" tabindex="-1"></a><span class="in">                                         tz = "EST")</span></span>
<span id="cb282-243"><a href="#cb282-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-244"><a href="#cb282-244" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-245"><a href="#cb282-245" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb282-246"><a href="#cb282-246" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_7 &lt;- fish_survey_7 %&gt;%</span></span>
<span id="cb282-247"><a href="#cb282-247" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-248"><a href="#cb282-248" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-249"><a href="#cb282-249" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 6 &amp; hour(dateTime_EST) &lt; 14 ~ "day",</span></span>
<span id="cb282-250"><a href="#cb282-250" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-251"><a href="#cb282-251" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-252"><a href="#cb282-252" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-253"><a href="#cb282-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-254"><a href="#cb282-254" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-255"><a href="#cb282-255" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_survey_7)</span></span>
<span id="cb282-256"><a href="#cb282-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-257"><a href="#cb282-257" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new fish survey csv</span></span>
<span id="cb282-258"><a href="#cb282-258" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_survey_7, </span></span>
<span id="cb282-259"><a href="#cb282-259" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_7.csv", </span></span>
<span id="cb282-260"><a href="#cb282-260" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-261"><a href="#cb282-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-262"><a href="#cb282-262" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-263"><a href="#cb282-263" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the fish survey 8}</span></span>
<span id="cb282-264"><a href="#cb282-264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-265"><a href="#cb282-265" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey data</span></span>
<span id="cb282-266"><a href="#cb282-266" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_8 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 8.csv")</span></span>
<span id="cb282-267"><a href="#cb282-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-268"><a href="#cb282-268" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb282-269"><a href="#cb282-269" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb282-270"><a href="#cb282-270" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_8$date &lt;- as.Date(fish_survey_8$date, </span></span>
<span id="cb282-271"><a href="#cb282-271" aria-hidden="true" tabindex="-1"></a><span class="in">                              format = "%m/%d/%Y")</span></span>
<span id="cb282-272"><a href="#cb282-272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-273"><a href="#cb282-273" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb282-274"><a href="#cb282-274" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_8$dateTime_EST &lt;- as.POSIXct(paste(fish_survey_8$date, </span></span>
<span id="cb282-275"><a href="#cb282-275" aria-hidden="true" tabindex="-1"></a><span class="in">                                               fish_survey_8$time), </span></span>
<span id="cb282-276"><a href="#cb282-276" aria-hidden="true" tabindex="-1"></a><span class="in">                                         format="%Y-%m-%d %H:%M",</span></span>
<span id="cb282-277"><a href="#cb282-277" aria-hidden="true" tabindex="-1"></a><span class="in">                                         tz = "EST")</span></span>
<span id="cb282-278"><a href="#cb282-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-279"><a href="#cb282-279" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-280"><a href="#cb282-280" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 3:30 EST to 9:30 EST</span></span>
<span id="cb282-281"><a href="#cb282-281" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_8 &lt;- fish_survey_8 %&gt;%</span></span>
<span id="cb282-282"><a href="#cb282-282" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-283"><a href="#cb282-283" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-284"><a href="#cb282-284" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 2 &amp; hour(dateTime_EST) &lt; 11 ~ "day",</span></span>
<span id="cb282-285"><a href="#cb282-285" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-286"><a href="#cb282-286" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-287"><a href="#cb282-287" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-288"><a href="#cb282-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-289"><a href="#cb282-289" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-290"><a href="#cb282-290" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_survey_8)</span></span>
<span id="cb282-291"><a href="#cb282-291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-292"><a href="#cb282-292" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new fish survey csv</span></span>
<span id="cb282-293"><a href="#cb282-293" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_survey_8, </span></span>
<span id="cb282-294"><a href="#cb282-294" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_8.csv", </span></span>
<span id="cb282-295"><a href="#cb282-295" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-296"><a href="#cb282-296" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-297"><a href="#cb282-297" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-298"><a href="#cb282-298" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the fish survey 9}</span></span>
<span id="cb282-299"><a href="#cb282-299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-300"><a href="#cb282-300" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey data</span></span>
<span id="cb282-301"><a href="#cb282-301" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_9 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 9.csv")</span></span>
<span id="cb282-302"><a href="#cb282-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-303"><a href="#cb282-303" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb282-304"><a href="#cb282-304" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb282-305"><a href="#cb282-305" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_9$date &lt;- as.Date(fish_survey_9$date, </span></span>
<span id="cb282-306"><a href="#cb282-306" aria-hidden="true" tabindex="-1"></a><span class="in">                              format = "%m/%d/%Y")</span></span>
<span id="cb282-307"><a href="#cb282-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-308"><a href="#cb282-308" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb282-309"><a href="#cb282-309" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_9$dateTime_EST &lt;- as.POSIXct(paste(fish_survey_9$date, </span></span>
<span id="cb282-310"><a href="#cb282-310" aria-hidden="true" tabindex="-1"></a><span class="in">                                               fish_survey_9$time), </span></span>
<span id="cb282-311"><a href="#cb282-311" aria-hidden="true" tabindex="-1"></a><span class="in">                                         format="%Y-%m-%d %H:%M",</span></span>
<span id="cb282-312"><a href="#cb282-312" aria-hidden="true" tabindex="-1"></a><span class="in">                                         tz = "EST")</span></span>
<span id="cb282-313"><a href="#cb282-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-314"><a href="#cb282-314" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-315"><a href="#cb282-315" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb282-316"><a href="#cb282-316" aria-hidden="true" tabindex="-1"></a><span class="in"># Supplementary tracking at Dry on August 5</span></span>
<span id="cb282-317"><a href="#cb282-317" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_9 &lt;- fish_survey_9 %&gt;%</span></span>
<span id="cb282-318"><a href="#cb282-318" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-319"><a href="#cb282-319" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-320"><a href="#cb282-320" aria-hidden="true" tabindex="-1"></a><span class="in">      # Define shift for August 5, 2024</span></span>
<span id="cb282-321"><a href="#cb282-321" aria-hidden="true" tabindex="-1"></a><span class="in">      date(dateTime_EST) == ymd("2024-08-05") ~ "day",</span></span>
<span id="cb282-322"><a href="#cb282-322" aria-hidden="true" tabindex="-1"></a><span class="in">      </span></span>
<span id="cb282-323"><a href="#cb282-323" aria-hidden="true" tabindex="-1"></a><span class="in">      # Define shift for regular tracking schedule for week 9</span></span>
<span id="cb282-324"><a href="#cb282-324" aria-hidden="true" tabindex="-1"></a><span class="in">      date(dateTime_EST) &gt;= ymd("2024-08-06") &amp; date(dateTime_EST) &lt;= ymd("2024-08-09") </span></span>
<span id="cb282-325"><a href="#cb282-325" aria-hidden="true" tabindex="-1"></a><span class="in">      &amp; hour(dateTime_EST) &gt;= 6 &amp; hour(dateTime_EST) &lt; 14 ~ "day",</span></span>
<span id="cb282-326"><a href="#cb282-326" aria-hidden="true" tabindex="-1"></a><span class="in">      </span></span>
<span id="cb282-327"><a href="#cb282-327" aria-hidden="true" tabindex="-1"></a><span class="in">      TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-328"><a href="#cb282-328" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-329"><a href="#cb282-329" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-330"><a href="#cb282-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-331"><a href="#cb282-331" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-332"><a href="#cb282-332" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_survey_9)</span></span>
<span id="cb282-333"><a href="#cb282-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-334"><a href="#cb282-334" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb282-335"><a href="#cb282-335" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_survey_9, </span></span>
<span id="cb282-336"><a href="#cb282-336" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_9.csv", </span></span>
<span id="cb282-337"><a href="#cb282-337" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-338"><a href="#cb282-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-339"><a href="#cb282-339" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-340"><a href="#cb282-340" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the fish survey 10}</span></span>
<span id="cb282-341"><a href="#cb282-341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-342"><a href="#cb282-342" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey data</span></span>
<span id="cb282-343"><a href="#cb282-343" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_10 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 10.csv")</span></span>
<span id="cb282-344"><a href="#cb282-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-345"><a href="#cb282-345" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb282-346"><a href="#cb282-346" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb282-347"><a href="#cb282-347" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_10$date &lt;- as.Date(fish_survey_10$date, </span></span>
<span id="cb282-348"><a href="#cb282-348" aria-hidden="true" tabindex="-1"></a><span class="in">                               format = "%m/%d/%Y")</span></span>
<span id="cb282-349"><a href="#cb282-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-350"><a href="#cb282-350" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb282-351"><a href="#cb282-351" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_10$dateTime_EST &lt;- as.POSIXct(paste(fish_survey_10$date, </span></span>
<span id="cb282-352"><a href="#cb282-352" aria-hidden="true" tabindex="-1"></a><span class="in">                                                fish_survey_10$time), </span></span>
<span id="cb282-353"><a href="#cb282-353" aria-hidden="true" tabindex="-1"></a><span class="in">                                          format="%Y-%m-%d %H:%M",</span></span>
<span id="cb282-354"><a href="#cb282-354" aria-hidden="true" tabindex="-1"></a><span class="in">                                          tz = "EST")</span></span>
<span id="cb282-355"><a href="#cb282-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-356"><a href="#cb282-356" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-357"><a href="#cb282-357" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 4:00 EST to 10:00 EST</span></span>
<span id="cb282-358"><a href="#cb282-358" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_10 &lt;- fish_survey_10 %&gt;%</span></span>
<span id="cb282-359"><a href="#cb282-359" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-360"><a href="#cb282-360" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-361"><a href="#cb282-361" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 3 &amp; hour(dateTime_EST) &lt; 11 ~ "day",</span></span>
<span id="cb282-362"><a href="#cb282-362" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-363"><a href="#cb282-363" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-364"><a href="#cb282-364" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-365"><a href="#cb282-365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-366"><a href="#cb282-366" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-367"><a href="#cb282-367" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_survey_10)</span></span>
<span id="cb282-368"><a href="#cb282-368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-369"><a href="#cb282-369" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new fish survey csv</span></span>
<span id="cb282-370"><a href="#cb282-370" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_survey_10, </span></span>
<span id="cb282-371"><a href="#cb282-371" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_10.csv", </span></span>
<span id="cb282-372"><a href="#cb282-372" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-373"><a href="#cb282-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-374"><a href="#cb282-374" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-375"><a href="#cb282-375" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the fish survey 11}</span></span>
<span id="cb282-376"><a href="#cb282-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-377"><a href="#cb282-377" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey data</span></span>
<span id="cb282-378"><a href="#cb282-378" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_11 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 11.csv")</span></span>
<span id="cb282-379"><a href="#cb282-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-380"><a href="#cb282-380" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb282-381"><a href="#cb282-381" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb282-382"><a href="#cb282-382" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_11$date &lt;- as.Date(fish_survey_11$date, </span></span>
<span id="cb282-383"><a href="#cb282-383" aria-hidden="true" tabindex="-1"></a><span class="in">                               format = "%m/%d/%Y")</span></span>
<span id="cb282-384"><a href="#cb282-384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-385"><a href="#cb282-385" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb282-386"><a href="#cb282-386" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_11$dateTime_EST &lt;- as.POSIXct(paste(fish_survey_11$date, </span></span>
<span id="cb282-387"><a href="#cb282-387" aria-hidden="true" tabindex="-1"></a><span class="in">                                                fish_survey_11$time), </span></span>
<span id="cb282-388"><a href="#cb282-388" aria-hidden="true" tabindex="-1"></a><span class="in">                                          format="%Y-%m-%d %H:%M",</span></span>
<span id="cb282-389"><a href="#cb282-389" aria-hidden="true" tabindex="-1"></a><span class="in">                                          tz = "EST")</span></span>
<span id="cb282-390"><a href="#cb282-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-391"><a href="#cb282-391" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column </span></span>
<span id="cb282-392"><a href="#cb282-392" aria-hidden="true" tabindex="-1"></a><span class="in"># All shifts in week 11 were day shifts</span></span>
<span id="cb282-393"><a href="#cb282-393" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_11 &lt;- fish_survey_11 %&gt;%</span></span>
<span id="cb282-394"><a href="#cb282-394" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(shift = "day")</span></span>
<span id="cb282-395"><a href="#cb282-395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-396"><a href="#cb282-396" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-397"><a href="#cb282-397" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_survey_11)</span></span>
<span id="cb282-398"><a href="#cb282-398" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-399"><a href="#cb282-399" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new fish survey csv</span></span>
<span id="cb282-400"><a href="#cb282-400" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_survey_11, </span></span>
<span id="cb282-401"><a href="#cb282-401" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_11.csv", </span></span>
<span id="cb282-402"><a href="#cb282-402" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-403"><a href="#cb282-403" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-404"><a href="#cb282-404" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-405"><a href="#cb282-405" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the fish survey 12}</span></span>
<span id="cb282-406"><a href="#cb282-406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-407"><a href="#cb282-407" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey data</span></span>
<span id="cb282-408"><a href="#cb282-408" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_12 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 12.csv")</span></span>
<span id="cb282-409"><a href="#cb282-409" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-410"><a href="#cb282-410" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb282-411"><a href="#cb282-411" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb282-412"><a href="#cb282-412" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_12$date &lt;- as.Date(fish_survey_12$date, </span></span>
<span id="cb282-413"><a href="#cb282-413" aria-hidden="true" tabindex="-1"></a><span class="in">                               format = "%m/%d/%Y")</span></span>
<span id="cb282-414"><a href="#cb282-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-415"><a href="#cb282-415" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb282-416"><a href="#cb282-416" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_12$dateTime_EST &lt;- as.POSIXct(paste(fish_survey_12$date, </span></span>
<span id="cb282-417"><a href="#cb282-417" aria-hidden="true" tabindex="-1"></a><span class="in">                                                fish_survey_12$time), </span></span>
<span id="cb282-418"><a href="#cb282-418" aria-hidden="true" tabindex="-1"></a><span class="in">                                          format="%Y-%m-%d %H:%M",</span></span>
<span id="cb282-419"><a href="#cb282-419" aria-hidden="true" tabindex="-1"></a><span class="in">                                          tz = "EST")</span></span>
<span id="cb282-420"><a href="#cb282-420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-421"><a href="#cb282-421" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column</span></span>
<span id="cb282-422"><a href="#cb282-422" aria-hidden="true" tabindex="-1"></a><span class="in"># All shifts in week 12 were day shifts</span></span>
<span id="cb282-423"><a href="#cb282-423" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_12 &lt;- fish_survey_12 %&gt;%</span></span>
<span id="cb282-424"><a href="#cb282-424" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(shift = "day")</span></span>
<span id="cb282-425"><a href="#cb282-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-426"><a href="#cb282-426" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-427"><a href="#cb282-427" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_survey_12)</span></span>
<span id="cb282-428"><a href="#cb282-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-429"><a href="#cb282-429" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new fish survey csv</span></span>
<span id="cb282-430"><a href="#cb282-430" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_survey_12, </span></span>
<span id="cb282-431"><a href="#cb282-431" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_12.csv", </span></span>
<span id="cb282-432"><a href="#cb282-432" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-433"><a href="#cb282-433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-434"><a href="#cb282-434" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-435"><a href="#cb282-435" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-436"><a href="#cb282-436" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-437"><a href="#cb282-437" aria-hidden="true" tabindex="-1"></a><span class="in">```{r processing fish surveys}</span></span>
<span id="cb282-438"><a href="#cb282-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-439"><a href="#cb282-439" aria-hidden="true" tabindex="-1"></a><span class="in"># Define file names</span></span>
<span id="cb282-440"><a href="#cb282-440" aria-hidden="true" tabindex="-1"></a><span class="in">fish_file_names &lt;- c("fish_survey_1.csv", "fish_survey_2.csv", "fish_survey_3.csv", "fish_survey_4.csv", </span></span>
<span id="cb282-441"><a href="#cb282-441" aria-hidden="true" tabindex="-1"></a><span class="in">                     "fish_survey_5.csv", "fish_survey_6.csv", "fish_survey_7.csv", "fish_survey_8.csv", </span></span>
<span id="cb282-442"><a href="#cb282-442" aria-hidden="true" tabindex="-1"></a><span class="in">                     "fish_survey_9.csv", "fish_survey_10.csv", "fish_survey_11.csv", "fish_survey_12.csv")</span></span>
<span id="cb282-443"><a href="#cb282-443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-444"><a href="#cb282-444" aria-hidden="true" tabindex="-1"></a><span class="in"># Define a lookup table for stream names</span></span>
<span id="cb282-445"><a href="#cb282-445" aria-hidden="true" tabindex="-1"></a><span class="in">stream_name_lookup &lt;- data.frame(</span></span>
<span id="cb282-446"><a href="#cb282-446" aria-hidden="true" tabindex="-1"></a><span class="in">  abbreviation = c("dcky", "amth", "undh", "dryu"),  # List all abbreviations</span></span>
<span id="cb282-447"><a href="#cb282-447" aria-hidden="true" tabindex="-1"></a><span class="in">  full_name = c("DICKEY", "AMETHYST", "UNDERHILL", "DRY UPPER")  # Corresponding full names</span></span>
<span id="cb282-448"><a href="#cb282-448" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb282-449"><a href="#cb282-449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-450"><a href="#cb282-450" aria-hidden="true" tabindex="-1"></a><span class="in"># Create an empty list to store the processed datasets</span></span>
<span id="cb282-451"><a href="#cb282-451" aria-hidden="true" tabindex="-1"></a><span class="in">processed_fish_data_list &lt;- list()</span></span>
<span id="cb282-452"><a href="#cb282-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-453"><a href="#cb282-453" aria-hidden="true" tabindex="-1"></a><span class="in"># Loop through each fish survey file</span></span>
<span id="cb282-454"><a href="#cb282-454" aria-hidden="true" tabindex="-1"></a><span class="in">for (file_name in fish_file_names) {</span></span>
<span id="cb282-455"><a href="#cb282-455" aria-hidden="true" tabindex="-1"></a><span class="in">  # Read in the fish survey data</span></span>
<span id="cb282-456"><a href="#cb282-456" aria-hidden="true" tabindex="-1"></a><span class="in">  raw_tracking_data &lt;- read.csv(file_name)</span></span>
<span id="cb282-457"><a href="#cb282-457" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-458"><a href="#cb282-458" aria-hidden="true" tabindex="-1"></a><span class="in">  # Step 1: Process the data</span></span>
<span id="cb282-459"><a href="#cb282-459" aria-hidden="true" tabindex="-1"></a><span class="in">  tracking_data &lt;- raw_tracking_data %&gt;%</span></span>
<span id="cb282-460"><a href="#cb282-460" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb282-461"><a href="#cb282-461" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 2: Select specific columns</span></span>
<span id="cb282-462"><a href="#cb282-462" aria-hidden="true" tabindex="-1"></a><span class="in">    select(dateTime_EST, shift, dckyID, amthID, undhID, dryuID, signal, habitat, habitatExtra, position, substrate, substrateExtra, shade, x, y, Notes, brookName) %&gt;%</span></span>
<span id="cb282-463"><a href="#cb282-463" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb282-464"><a href="#cb282-464" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 3: Pivot longer to create 'river' and 'tagID' columns</span></span>
<span id="cb282-465"><a href="#cb282-465" aria-hidden="true" tabindex="-1"></a><span class="in">    pivot_longer(</span></span>
<span id="cb282-466"><a href="#cb282-466" aria-hidden="true" tabindex="-1"></a><span class="in">      cols = c(dckyID, amthID, undhID, dryuID),  # Columns to combine</span></span>
<span id="cb282-467"><a href="#cb282-467" aria-hidden="true" tabindex="-1"></a><span class="in">      names_to = "river",                        # Create a new column 'river' from column names</span></span>
<span id="cb282-468"><a href="#cb282-468" aria-hidden="true" tabindex="-1"></a><span class="in">      values_to = "tagID",                       # Combine the tag IDs into a new column 'tagID'</span></span>
<span id="cb282-469"><a href="#cb282-469" aria-hidden="true" tabindex="-1"></a><span class="in">      values_drop_na = FALSE                     # Ensure NA values are retained</span></span>
<span id="cb282-470"><a href="#cb282-470" aria-hidden="true" tabindex="-1"></a><span class="in">    ) %&gt;%</span></span>
<span id="cb282-471"><a href="#cb282-471" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb282-472"><a href="#cb282-472" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 4: Create a new 'riverName' column and extract the river name and ID number</span></span>
<span id="cb282-473"><a href="#cb282-473" aria-hidden="true" tabindex="-1"></a><span class="in">    mutate(</span></span>
<span id="cb282-474"><a href="#cb282-474" aria-hidden="true" tabindex="-1"></a><span class="in">      riverName = river,                                    # Copy the river name</span></span>
<span id="cb282-475"><a href="#cb282-475" aria-hidden="true" tabindex="-1"></a><span class="in">      #tagID = as.numeric(gsub("[^0-9]", "", tagID)),       # Extract the numeric part as tagID</span></span>
<span id="cb282-476"><a href="#cb282-476" aria-hidden="true" tabindex="-1"></a><span class="in">      tagID = ifelse(is.na(tagID), NA, as.numeric(tagID)),  # Convert tagID to numeric, keep NA values</span></span>
<span id="cb282-477"><a href="#cb282-477" aria-hidden="true" tabindex="-1"></a><span class="in">      river = gsub("ID", "", river)                         # Remove 'ID' to keep only the river name</span></span>
<span id="cb282-478"><a href="#cb282-478" aria-hidden="true" tabindex="-1"></a><span class="in">    ) %&gt;%</span></span>
<span id="cb282-479"><a href="#cb282-479" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb282-480"><a href="#cb282-480" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 5: Join with the lookup table to replace abbreviations with full names</span></span>
<span id="cb282-481"><a href="#cb282-481" aria-hidden="true" tabindex="-1"></a><span class="in">    left_join(stream_name_lookup, by = c("river" = "abbreviation")) %&gt;%</span></span>
<span id="cb282-482"><a href="#cb282-482" aria-hidden="true" tabindex="-1"></a><span class="in">    mutate(</span></span>
<span id="cb282-483"><a href="#cb282-483" aria-hidden="true" tabindex="-1"></a><span class="in">      river = coalesce(full_name, river)  # Replace Brook with full_name, if available</span></span>
<span id="cb282-484"><a href="#cb282-484" aria-hidden="true" tabindex="-1"></a><span class="in">    ) %&gt;%</span></span>
<span id="cb282-485"><a href="#cb282-485" aria-hidden="true" tabindex="-1"></a><span class="in">    select(-full_name) %&gt;%  # Remove the full_name column as it's no longer needed</span></span>
<span id="cb282-486"><a href="#cb282-486" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb282-487"><a href="#cb282-487" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 6: Combine the river and brookName logic</span></span>
<span id="cb282-488"><a href="#cb282-488" aria-hidden="true" tabindex="-1"></a><span class="in">    mutate(</span></span>
<span id="cb282-489"><a href="#cb282-489" aria-hidden="true" tabindex="-1"></a><span class="in">      river = ifelse(brookName %in% c("BUFFAM", "HARRIS"), brookName, river)  # Override river with brookName if Buffam or Harris</span></span>
<span id="cb282-490"><a href="#cb282-490" aria-hidden="true" tabindex="-1"></a><span class="in">    ) %&gt;%</span></span>
<span id="cb282-491"><a href="#cb282-491" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb282-492"><a href="#cb282-492" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 7: Rename columns</span></span>
<span id="cb282-493"><a href="#cb282-493" aria-hidden="true" tabindex="-1"></a><span class="in">    rename(</span></span>
<span id="cb282-494"><a href="#cb282-494" aria-hidden="true" tabindex="-1"></a><span class="in">      fishNotes = Notes,</span></span>
<span id="cb282-495"><a href="#cb282-495" aria-hidden="true" tabindex="-1"></a><span class="in">      lon = x,</span></span>
<span id="cb282-496"><a href="#cb282-496" aria-hidden="true" tabindex="-1"></a><span class="in">      lat = y,</span></span>
<span id="cb282-497"><a href="#cb282-497" aria-hidden="true" tabindex="-1"></a><span class="in">      trackedTime_EST = dateTime_EST,</span></span>
<span id="cb282-498"><a href="#cb282-498" aria-hidden="true" tabindex="-1"></a><span class="in">      power = signal</span></span>
<span id="cb282-499"><a href="#cb282-499" aria-hidden="true" tabindex="-1"></a><span class="in">    ) %&gt;%</span></span>
<span id="cb282-500"><a href="#cb282-500" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb282-501"><a href="#cb282-501" aria-hidden="true" tabindex="-1"></a><span class="in">    ##############################################################</span></span>
<span id="cb282-502"><a href="#cb282-502" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb282-503"><a href="#cb282-503" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 8: Filter data to keep only rows where lat &gt; 1</span></span>
<span id="cb282-504"><a href="#cb282-504" aria-hidden="true" tabindex="-1"></a><span class="in">    filter(lat &gt; 1, !is.na(tagID)) %&gt;%</span></span>
<span id="cb282-505"><a href="#cb282-505" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb282-506"><a href="#cb282-506" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step _: Filter data to keep rows with lat &gt; 1 or lat is NA</span></span>
<span id="cb282-507"><a href="#cb282-507" aria-hidden="true" tabindex="-1"></a><span class="in">    #filter(lat &gt; 1 | is.na(lat)) %&gt;%</span></span>
<span id="cb282-508"><a href="#cb282-508" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb282-509"><a href="#cb282-509" aria-hidden="true" tabindex="-1"></a><span class="in">    #############################################################</span></span>
<span id="cb282-510"><a href="#cb282-510" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb282-511"><a href="#cb282-511" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step _: Remove unnecessary columns</span></span>
<span id="cb282-512"><a href="#cb282-512" aria-hidden="true" tabindex="-1"></a><span class="in">    #select(-c(riverName, brookName)) %&gt;%</span></span>
<span id="cb282-513"><a href="#cb282-513" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb282-514"><a href="#cb282-514" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 9: Select specific columns</span></span>
<span id="cb282-515"><a href="#cb282-515" aria-hidden="true" tabindex="-1"></a><span class="in">    select(trackedTime_EST, river, shift, tagID, power, habitat, habitatExtra, position, substrate, substrateExtra, shade, lon, lat, fishNotes) %&gt;%</span></span>
<span id="cb282-516"><a href="#cb282-516" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb282-517"><a href="#cb282-517" aria-hidden="true" tabindex="-1"></a><span class="in">    #############################################################</span></span>
<span id="cb282-518"><a href="#cb282-518" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb282-519"><a href="#cb282-519" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 10: Add a source column</span></span>
<span id="cb282-520"><a href="#cb282-520" aria-hidden="true" tabindex="-1"></a><span class="in">    mutate(source = "iPad")</span></span>
<span id="cb282-521"><a href="#cb282-521" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-522"><a href="#cb282-522" aria-hidden="true" tabindex="-1"></a><span class="in">  # Store the processed data in the list</span></span>
<span id="cb282-523"><a href="#cb282-523" aria-hidden="true" tabindex="-1"></a><span class="in">  processed_fish_data_list[[file_name]] &lt;- tracking_data</span></span>
<span id="cb282-524"><a href="#cb282-524" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-525"><a href="#cb282-525" aria-hidden="true" tabindex="-1"></a><span class="in">  # Overwrite the original file with the processed data</span></span>
<span id="cb282-526"><a href="#cb282-526" aria-hidden="true" tabindex="-1"></a><span class="in">  write.csv(tracking_data, file_name, row.names = FALSE)</span></span>
<span id="cb282-527"><a href="#cb282-527" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-528"><a href="#cb282-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-529"><a href="#cb282-529" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of each processed dataset</span></span>
<span id="cb282-530"><a href="#cb282-530" aria-hidden="true" tabindex="-1"></a><span class="in">for (i in 1:length(processed_fish_data_list)) {</span></span>
<span id="cb282-531"><a href="#cb282-531" aria-hidden="true" tabindex="-1"></a><span class="in">  cat("\nData for", fish_file_names[i], ":\n")</span></span>
<span id="cb282-532"><a href="#cb282-532" aria-hidden="true" tabindex="-1"></a><span class="in">  print(head(processed_fish_data_list[[i]]))</span></span>
<span id="cb282-533"><a href="#cb282-533" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-534"><a href="#cb282-534" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-535"><a href="#cb282-535" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-536"><a href="#cb282-536" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-537"><a href="#cb282-537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-538"><a href="#cb282-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-539"><a href="#cb282-539" aria-hidden="true" tabindex="-1"></a><span class="fu">## Making Flow Tracker File Datasets by Week</span></span>
<span id="cb282-540"><a href="#cb282-540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-541"><a href="#cb282-541" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine flow tracker files for week 1}</span></span>
<span id="cb282-542"><a href="#cb282-542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-543"><a href="#cb282-543" aria-hidden="true" tabindex="-1"></a><span class="in"># Define a function to search for files</span></span>
<span id="cb282-544"><a href="#cb282-544" aria-hidden="true" tabindex="-1"></a><span class="in">find_files &lt;- function(week_1_directory) {</span></span>
<span id="cb282-545"><a href="#cb282-545" aria-hidden="true" tabindex="-1"></a><span class="in">  week_1_files &lt;- list.files(path = week_1_directory, recursive = TRUE, full.names = TRUE)</span></span>
<span id="cb282-546"><a href="#cb282-546" aria-hidden="true" tabindex="-1"></a><span class="in">  return(week_1_files)</span></span>
<span id="cb282-547"><a href="#cb282-547" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-548"><a href="#cb282-548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-549"><a href="#cb282-549" aria-hidden="true" tabindex="-1"></a><span class="in"># Function to extract the required values from a single file and convert only Fahrenheit (°F) to Celsius</span></span>
<span id="cb282-550"><a href="#cb282-550" aria-hidden="true" tabindex="-1"></a><span class="in">extract_values &lt;- function(file_path) {</span></span>
<span id="cb282-551"><a href="#cb282-551" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-552"><a href="#cb282-552" aria-hidden="true" tabindex="-1"></a><span class="in">  # Read the csv file</span></span>
<span id="cb282-553"><a href="#cb282-553" aria-hidden="true" tabindex="-1"></a><span class="in">  df &lt;- read.csv(file_path, header = FALSE, stringsAsFactors = FALSE)</span></span>
<span id="cb282-554"><a href="#cb282-554" aria-hidden="true" tabindex="-1"></a><span class="in">  colnames(df) &lt;- c("Column1", "Column2", "Column3")</span></span>
<span id="cb282-555"><a href="#cb282-555" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-556"><a href="#cb282-556" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract values</span></span>
<span id="cb282-557"><a href="#cb282-557" aria-hidden="true" tabindex="-1"></a><span class="in">  local_end_time &lt;- df %&gt;% filter(Column1 == "Local_End_Time") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-558"><a href="#cb282-558" aria-hidden="true" tabindex="-1"></a><span class="in">  site_name &lt;- df %&gt;% filter(Column1 == "Site_Name") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-559"><a href="#cb282-559" aria-hidden="true" tabindex="-1"></a><span class="in">  total_discharge &lt;- df %&gt;% filter(Column1 == "Total_Discharge") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-560"><a href="#cb282-560" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-561"><a href="#cb282-561" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract the temperature value and unit</span></span>
<span id="cb282-562"><a href="#cb282-562" aria-hidden="true" tabindex="-1"></a><span class="in">  #mean_temp_value &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-563"><a href="#cb282-563" aria-hidden="true" tabindex="-1"></a><span class="in">  #temp_unit &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column2) %&gt;% pull()</span></span>
<span id="cb282-564"><a href="#cb282-564" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-565"><a href="#cb282-565" aria-hidden="true" tabindex="-1"></a><span class="in">  # Convert only if the unit is Fahrenheit ("°F")</span></span>
<span id="cb282-566"><a href="#cb282-566" aria-hidden="true" tabindex="-1"></a><span class="in">  #if (temp_unit == "°F") {</span></span>
<span id="cb282-567"><a href="#cb282-567" aria-hidden="true" tabindex="-1"></a><span class="in">    #mean_temp_value &lt;- (as.numeric(mean_temp_value) - 32) * 5 / 9</span></span>
<span id="cb282-568"><a href="#cb282-568" aria-hidden="true" tabindex="-1"></a><span class="in">  #} else {</span></span>
<span id="cb282-569"><a href="#cb282-569" aria-hidden="true" tabindex="-1"></a><span class="in">    #mean_temp_value &lt;- as.numeric(mean_temp_value)  # Ensure it's numeric for Celsius values or NA</span></span>
<span id="cb282-570"><a href="#cb282-570" aria-hidden="true" tabindex="-1"></a><span class="in">  #}</span></span>
<span id="cb282-571"><a href="#cb282-571" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-572"><a href="#cb282-572" aria-hidden="true" tabindex="-1"></a><span class="in">  # Round values to 2 decimal places</span></span>
<span id="cb282-573"><a href="#cb282-573" aria-hidden="true" tabindex="-1"></a><span class="in">  #mean_temp_value &lt;- round(mean_temp_value, 2)</span></span>
<span id="cb282-574"><a href="#cb282-574" aria-hidden="true" tabindex="-1"></a><span class="in">  total_discharge &lt;- round(as.numeric(total_discharge), 2)</span></span>
<span id="cb282-575"><a href="#cb282-575" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-576"><a href="#cb282-576" aria-hidden="true" tabindex="-1"></a><span class="in">  # Rename columns</span></span>
<span id="cb282-577"><a href="#cb282-577" aria-hidden="true" tabindex="-1"></a><span class="in">  data.frame(</span></span>
<span id="cb282-578"><a href="#cb282-578" aria-hidden="true" tabindex="-1"></a><span class="in">    localEndTime = local_end_time,</span></span>
<span id="cb282-579"><a href="#cb282-579" aria-hidden="true" tabindex="-1"></a><span class="in">    river = site_name,</span></span>
<span id="cb282-580"><a href="#cb282-580" aria-hidden="true" tabindex="-1"></a><span class="in">    totalDischarge = as.numeric(total_discharge),  # Ensure numeric type</span></span>
<span id="cb282-581"><a href="#cb282-581" aria-hidden="true" tabindex="-1"></a><span class="in">    #meanTemp = mean_temp_value,  # Already handled as numeric</span></span>
<span id="cb282-582"><a href="#cb282-582" aria-hidden="true" tabindex="-1"></a><span class="in">    stringsAsFactors = FALSE</span></span>
<span id="cb282-583"><a href="#cb282-583" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-584"><a href="#cb282-584" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-585"><a href="#cb282-585" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-586"><a href="#cb282-586" aria-hidden="true" tabindex="-1"></a><span class="in">week_1_directory &lt;- "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/FlowTracker/FlowTrackerFiles/TAMEflow/Week1"</span></span>
<span id="cb282-587"><a href="#cb282-587" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-588"><a href="#cb282-588" aria-hidden="true" tabindex="-1"></a><span class="in"># Find all files in the week 1 directory</span></span>
<span id="cb282-589"><a href="#cb282-589" aria-hidden="true" tabindex="-1"></a><span class="in">week_1_files &lt;- find_files(week_1_directory)</span></span>
<span id="cb282-590"><a href="#cb282-590" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-591"><a href="#cb282-591" aria-hidden="true" tabindex="-1"></a><span class="in"># Initialize the result dataframe with the correct data types</span></span>
<span id="cb282-592"><a href="#cb282-592" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_1 &lt;- data.frame(</span></span>
<span id="cb282-593"><a href="#cb282-593" aria-hidden="true" tabindex="-1"></a><span class="in">  localEndTime = character(),</span></span>
<span id="cb282-594"><a href="#cb282-594" aria-hidden="true" tabindex="-1"></a><span class="in">  river = character(),</span></span>
<span id="cb282-595"><a href="#cb282-595" aria-hidden="true" tabindex="-1"></a><span class="in">  totalDischarge = numeric(),  # Initialize as numeric</span></span>
<span id="cb282-596"><a href="#cb282-596" aria-hidden="true" tabindex="-1"></a><span class="in">  #meanTemp = numeric(),  # Initialize as numeric</span></span>
<span id="cb282-597"><a href="#cb282-597" aria-hidden="true" tabindex="-1"></a><span class="in">  stringsAsFactors = FALSE</span></span>
<span id="cb282-598"><a href="#cb282-598" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb282-599"><a href="#cb282-599" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-600"><a href="#cb282-600" aria-hidden="true" tabindex="-1"></a><span class="in"># Loop through all files and extract values</span></span>
<span id="cb282-601"><a href="#cb282-601" aria-hidden="true" tabindex="-1"></a><span class="in">for (file in week_1_files) {</span></span>
<span id="cb282-602"><a href="#cb282-602" aria-hidden="true" tabindex="-1"></a><span class="in">  file_data &lt;- extract_values(file)</span></span>
<span id="cb282-603"><a href="#cb282-603" aria-hidden="true" tabindex="-1"></a><span class="in">  flow_tracker_1 &lt;- bind_rows(flow_tracker_1, file_data)</span></span>
<span id="cb282-604"><a href="#cb282-604" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-605"><a href="#cb282-605" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-606"><a href="#cb282-606" aria-hidden="true" tabindex="-1"></a><span class="in"># Standardize site names</span></span>
<span id="cb282-607"><a href="#cb282-607" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_1 &lt;- flow_tracker_1 %&gt;%</span></span>
<span id="cb282-608"><a href="#cb282-608" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("buff", river, ignore.case = TRUE), "BUFFAM", river)) %&gt;%</span></span>
<span id="cb282-609"><a href="#cb282-609" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("dryu", river, ignore.case = TRUE), "DRY UPPER", river)) %&gt;%</span></span>
<span id="cb282-610"><a href="#cb282-610" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("harr", river, ignore.case = TRUE), "HARRIS", river)) %&gt;%</span></span>
<span id="cb282-611"><a href="#cb282-611" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("undh", river, ignore.case = TRUE), "UNDERHILL", river)) %&gt;%</span></span>
<span id="cb282-612"><a href="#cb282-612" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("dcky", river, ignore.case = TRUE), "DICKEY", river))</span></span>
<span id="cb282-613"><a href="#cb282-613" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-614"><a href="#cb282-614" aria-hidden="true" tabindex="-1"></a><span class="in">#####################################################################################</span></span>
<span id="cb282-615"><a href="#cb282-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-616"><a href="#cb282-616" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove rows with repeating Total_Discharge values</span></span>
<span id="cb282-617"><a href="#cb282-617" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_1 &lt;- flow_tracker_1 %&gt;% </span></span>
<span id="cb282-618"><a href="#cb282-618" aria-hidden="true" tabindex="-1"></a><span class="in">  distinct(localEndTime, .keep_all = TRUE)</span></span>
<span id="cb282-619"><a href="#cb282-619" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-620"><a href="#cb282-620" aria-hidden="true" tabindex="-1"></a><span class="in">#####################################################################################</span></span>
<span id="cb282-621"><a href="#cb282-621" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-622"><a href="#cb282-622" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-623"><a href="#cb282-623" aria-hidden="true" tabindex="-1"></a><span class="in">head(flow_tracker_1)</span></span>
<span id="cb282-624"><a href="#cb282-624" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-625"><a href="#cb282-625" aria-hidden="true" tabindex="-1"></a><span class="in"># Write the final CSV file</span></span>
<span id="cb282-626"><a href="#cb282-626" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(flow_tracker_1, </span></span>
<span id="cb282-627"><a href="#cb282-627" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_1.csv", </span></span>
<span id="cb282-628"><a href="#cb282-628" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-629"><a href="#cb282-629" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-630"><a href="#cb282-630" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-631"><a href="#cb282-631" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-632"><a href="#cb282-632" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine flow tracker files for week 2}</span></span>
<span id="cb282-633"><a href="#cb282-633" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-634"><a href="#cb282-634" aria-hidden="true" tabindex="-1"></a><span class="in"># Define a function to search for files</span></span>
<span id="cb282-635"><a href="#cb282-635" aria-hidden="true" tabindex="-1"></a><span class="in">find_files &lt;- function(week_2_directory) {</span></span>
<span id="cb282-636"><a href="#cb282-636" aria-hidden="true" tabindex="-1"></a><span class="in">  week_2_files &lt;- list.files(path = week_2_directory, recursive = TRUE, full.names = TRUE)</span></span>
<span id="cb282-637"><a href="#cb282-637" aria-hidden="true" tabindex="-1"></a><span class="in">  return(week_2_files)</span></span>
<span id="cb282-638"><a href="#cb282-638" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-639"><a href="#cb282-639" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-640"><a href="#cb282-640" aria-hidden="true" tabindex="-1"></a><span class="in"># Function to extract the required values from a single file and convert only Fahrenheit (°F) to Celsius</span></span>
<span id="cb282-641"><a href="#cb282-641" aria-hidden="true" tabindex="-1"></a><span class="in">extract_values &lt;- function(file_path) {</span></span>
<span id="cb282-642"><a href="#cb282-642" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-643"><a href="#cb282-643" aria-hidden="true" tabindex="-1"></a><span class="in">  # Read the csv file</span></span>
<span id="cb282-644"><a href="#cb282-644" aria-hidden="true" tabindex="-1"></a><span class="in">  df &lt;- read.csv(file_path, header = FALSE, stringsAsFactors = FALSE)</span></span>
<span id="cb282-645"><a href="#cb282-645" aria-hidden="true" tabindex="-1"></a><span class="in">  colnames(df) &lt;- c("Column1", "Column2", "Column3")</span></span>
<span id="cb282-646"><a href="#cb282-646" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-647"><a href="#cb282-647" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract values</span></span>
<span id="cb282-648"><a href="#cb282-648" aria-hidden="true" tabindex="-1"></a><span class="in">  local_end_time &lt;- df %&gt;% filter(Column1 == "Local_End_Time") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-649"><a href="#cb282-649" aria-hidden="true" tabindex="-1"></a><span class="in">  site_name &lt;- df %&gt;% filter(Column1 == "Site_Name") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-650"><a href="#cb282-650" aria-hidden="true" tabindex="-1"></a><span class="in">  total_discharge &lt;- df %&gt;% filter(Column1 == "Total_Discharge") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-651"><a href="#cb282-651" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-652"><a href="#cb282-652" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract the temperature value and unit</span></span>
<span id="cb282-653"><a href="#cb282-653" aria-hidden="true" tabindex="-1"></a><span class="in">  #mean_temp_value &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-654"><a href="#cb282-654" aria-hidden="true" tabindex="-1"></a><span class="in">  #temp_unit &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column2) %&gt;% pull()</span></span>
<span id="cb282-655"><a href="#cb282-655" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-656"><a href="#cb282-656" aria-hidden="true" tabindex="-1"></a><span class="in">  # Convert only if the unit is Fahrenheit ("°F")</span></span>
<span id="cb282-657"><a href="#cb282-657" aria-hidden="true" tabindex="-1"></a><span class="in">  #if (temp_unit == "°F") {</span></span>
<span id="cb282-658"><a href="#cb282-658" aria-hidden="true" tabindex="-1"></a><span class="in">    #mean_temp_value &lt;- (as.numeric(mean_temp_value) - 32) * 5 / 9</span></span>
<span id="cb282-659"><a href="#cb282-659" aria-hidden="true" tabindex="-1"></a><span class="in">  #} else {</span></span>
<span id="cb282-660"><a href="#cb282-660" aria-hidden="true" tabindex="-1"></a><span class="in">    #mean_temp_value &lt;- as.numeric(mean_temp_value)  # Ensure it's numeric for Celsius values or NA</span></span>
<span id="cb282-661"><a href="#cb282-661" aria-hidden="true" tabindex="-1"></a><span class="in">  #}</span></span>
<span id="cb282-662"><a href="#cb282-662" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-663"><a href="#cb282-663" aria-hidden="true" tabindex="-1"></a><span class="in">  # Round values to 2 decimal places</span></span>
<span id="cb282-664"><a href="#cb282-664" aria-hidden="true" tabindex="-1"></a><span class="in">  #mean_temp_value &lt;- round(mean_temp_value, 2)</span></span>
<span id="cb282-665"><a href="#cb282-665" aria-hidden="true" tabindex="-1"></a><span class="in">  total_discharge &lt;- round(as.numeric(total_discharge), 2)</span></span>
<span id="cb282-666"><a href="#cb282-666" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-667"><a href="#cb282-667" aria-hidden="true" tabindex="-1"></a><span class="in">  data.frame(</span></span>
<span id="cb282-668"><a href="#cb282-668" aria-hidden="true" tabindex="-1"></a><span class="in">    localEndTime = local_end_time,</span></span>
<span id="cb282-669"><a href="#cb282-669" aria-hidden="true" tabindex="-1"></a><span class="in">    river = site_name,</span></span>
<span id="cb282-670"><a href="#cb282-670" aria-hidden="true" tabindex="-1"></a><span class="in">    totalDischarge = as.numeric(total_discharge),  # Ensure numeric type</span></span>
<span id="cb282-671"><a href="#cb282-671" aria-hidden="true" tabindex="-1"></a><span class="in">    #meanTemp = mean_temp_value,  # Already handled as numeric</span></span>
<span id="cb282-672"><a href="#cb282-672" aria-hidden="true" tabindex="-1"></a><span class="in">    stringsAsFactors = FALSE</span></span>
<span id="cb282-673"><a href="#cb282-673" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-674"><a href="#cb282-674" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-675"><a href="#cb282-675" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-676"><a href="#cb282-676" aria-hidden="true" tabindex="-1"></a><span class="in">week_2_directory &lt;- "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/FlowTracker/FlowTrackerFiles/TAMEflow/Week2"</span></span>
<span id="cb282-677"><a href="#cb282-677" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-678"><a href="#cb282-678" aria-hidden="true" tabindex="-1"></a><span class="in"># Find all files in the week 2 directory</span></span>
<span id="cb282-679"><a href="#cb282-679" aria-hidden="true" tabindex="-1"></a><span class="in">week_2_files &lt;- find_files(week_2_directory)</span></span>
<span id="cb282-680"><a href="#cb282-680" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-681"><a href="#cb282-681" aria-hidden="true" tabindex="-1"></a><span class="in"># Initialize the result dataframe with the correct data types</span></span>
<span id="cb282-682"><a href="#cb282-682" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_2 &lt;- data.frame(</span></span>
<span id="cb282-683"><a href="#cb282-683" aria-hidden="true" tabindex="-1"></a><span class="in">  localEndTime = character(),</span></span>
<span id="cb282-684"><a href="#cb282-684" aria-hidden="true" tabindex="-1"></a><span class="in">  river = character(),</span></span>
<span id="cb282-685"><a href="#cb282-685" aria-hidden="true" tabindex="-1"></a><span class="in">  totalDischarge = numeric(),  # Initialize as numeric</span></span>
<span id="cb282-686"><a href="#cb282-686" aria-hidden="true" tabindex="-1"></a><span class="in">  #meanTemp = numeric(),  # Initialize as numeric</span></span>
<span id="cb282-687"><a href="#cb282-687" aria-hidden="true" tabindex="-1"></a><span class="in">  stringsAsFactors = FALSE</span></span>
<span id="cb282-688"><a href="#cb282-688" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb282-689"><a href="#cb282-689" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-690"><a href="#cb282-690" aria-hidden="true" tabindex="-1"></a><span class="in"># Loop through all files and extract values</span></span>
<span id="cb282-691"><a href="#cb282-691" aria-hidden="true" tabindex="-1"></a><span class="in">for (file in week_2_files) {</span></span>
<span id="cb282-692"><a href="#cb282-692" aria-hidden="true" tabindex="-1"></a><span class="in">  file_data &lt;- extract_values(file)</span></span>
<span id="cb282-693"><a href="#cb282-693" aria-hidden="true" tabindex="-1"></a><span class="in">  flow_tracker_2 &lt;- bind_rows(flow_tracker_2, file_data)</span></span>
<span id="cb282-694"><a href="#cb282-694" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-695"><a href="#cb282-695" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-696"><a href="#cb282-696" aria-hidden="true" tabindex="-1"></a><span class="in"># Standardize site names</span></span>
<span id="cb282-697"><a href="#cb282-697" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_2 &lt;- flow_tracker_2 %&gt;%</span></span>
<span id="cb282-698"><a href="#cb282-698" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("buff", river, ignore.case = TRUE), "BUFFAM", river)) %&gt;%</span></span>
<span id="cb282-699"><a href="#cb282-699" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("dryu", river, ignore.case = TRUE), "DRY UPPER", river)) %&gt;%</span></span>
<span id="cb282-700"><a href="#cb282-700" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("harr", river, ignore.case = TRUE), "HARRIS", river)) %&gt;%</span></span>
<span id="cb282-701"><a href="#cb282-701" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("undh", river, ignore.case = TRUE), "UNDERHILL", river)) %&gt;%</span></span>
<span id="cb282-702"><a href="#cb282-702" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("dcky", river, ignore.case = TRUE), "DICKEY", river))</span></span>
<span id="cb282-703"><a href="#cb282-703" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-704"><a href="#cb282-704" aria-hidden="true" tabindex="-1"></a><span class="in">#####################################################################################</span></span>
<span id="cb282-705"><a href="#cb282-705" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-706"><a href="#cb282-706" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove rows with repeating Total_Discharge values</span></span>
<span id="cb282-707"><a href="#cb282-707" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_2 &lt;- flow_tracker_2 %&gt;% </span></span>
<span id="cb282-708"><a href="#cb282-708" aria-hidden="true" tabindex="-1"></a><span class="in">  distinct(localEndTime, .keep_all = TRUE)</span></span>
<span id="cb282-709"><a href="#cb282-709" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-710"><a href="#cb282-710" aria-hidden="true" tabindex="-1"></a><span class="in">#####################################################################################</span></span>
<span id="cb282-711"><a href="#cb282-711" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-712"><a href="#cb282-712" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-713"><a href="#cb282-713" aria-hidden="true" tabindex="-1"></a><span class="in">head(flow_tracker_2)</span></span>
<span id="cb282-714"><a href="#cb282-714" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-715"><a href="#cb282-715" aria-hidden="true" tabindex="-1"></a><span class="in"># Write the final CSV file</span></span>
<span id="cb282-716"><a href="#cb282-716" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(flow_tracker_2, </span></span>
<span id="cb282-717"><a href="#cb282-717" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_2.csv", </span></span>
<span id="cb282-718"><a href="#cb282-718" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-719"><a href="#cb282-719" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-720"><a href="#cb282-720" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-721"><a href="#cb282-721" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-722"><a href="#cb282-722" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine flow tracker files for week 3}</span></span>
<span id="cb282-723"><a href="#cb282-723" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-724"><a href="#cb282-724" aria-hidden="true" tabindex="-1"></a><span class="in"># Define a function to search for files</span></span>
<span id="cb282-725"><a href="#cb282-725" aria-hidden="true" tabindex="-1"></a><span class="in">find_files &lt;- function(week_3_directory) {</span></span>
<span id="cb282-726"><a href="#cb282-726" aria-hidden="true" tabindex="-1"></a><span class="in">  week_3_files &lt;- list.files(path = week_3_directory, recursive = TRUE, full.names = TRUE)</span></span>
<span id="cb282-727"><a href="#cb282-727" aria-hidden="true" tabindex="-1"></a><span class="in">  return(week_3_files)</span></span>
<span id="cb282-728"><a href="#cb282-728" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-729"><a href="#cb282-729" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-730"><a href="#cb282-730" aria-hidden="true" tabindex="-1"></a><span class="in"># Function to extract the required values from a single file and convert only Fahrenheit (°F) to Celsius</span></span>
<span id="cb282-731"><a href="#cb282-731" aria-hidden="true" tabindex="-1"></a><span class="in">extract_values &lt;- function(file_path) {</span></span>
<span id="cb282-732"><a href="#cb282-732" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-733"><a href="#cb282-733" aria-hidden="true" tabindex="-1"></a><span class="in">  # Read the csv file</span></span>
<span id="cb282-734"><a href="#cb282-734" aria-hidden="true" tabindex="-1"></a><span class="in">  df &lt;- read.csv(file_path, header = FALSE, stringsAsFactors = FALSE)</span></span>
<span id="cb282-735"><a href="#cb282-735" aria-hidden="true" tabindex="-1"></a><span class="in">  colnames(df) &lt;- c("Column1", "Column2", "Column3")</span></span>
<span id="cb282-736"><a href="#cb282-736" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-737"><a href="#cb282-737" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract values</span></span>
<span id="cb282-738"><a href="#cb282-738" aria-hidden="true" tabindex="-1"></a><span class="in">  local_end_time &lt;- df %&gt;% filter(Column1 == "Local_End_Time") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-739"><a href="#cb282-739" aria-hidden="true" tabindex="-1"></a><span class="in">  site_name &lt;- df %&gt;% filter(Column1 == "Site_Name") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-740"><a href="#cb282-740" aria-hidden="true" tabindex="-1"></a><span class="in">  total_discharge &lt;- df %&gt;% filter(Column1 == "Total_Discharge") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-741"><a href="#cb282-741" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-742"><a href="#cb282-742" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract the temperature value and unit</span></span>
<span id="cb282-743"><a href="#cb282-743" aria-hidden="true" tabindex="-1"></a><span class="in">  #mean_temp_value &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-744"><a href="#cb282-744" aria-hidden="true" tabindex="-1"></a><span class="in">  #temp_unit &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column2) %&gt;% pull()</span></span>
<span id="cb282-745"><a href="#cb282-745" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-746"><a href="#cb282-746" aria-hidden="true" tabindex="-1"></a><span class="in">  # Convert only if the unit is Fahrenheit ("°F")</span></span>
<span id="cb282-747"><a href="#cb282-747" aria-hidden="true" tabindex="-1"></a><span class="in">  #if (temp_unit == "°F") {</span></span>
<span id="cb282-748"><a href="#cb282-748" aria-hidden="true" tabindex="-1"></a><span class="in">    #mean_temp_value &lt;- (as.numeric(mean_temp_value) - 32) * 5 / 9</span></span>
<span id="cb282-749"><a href="#cb282-749" aria-hidden="true" tabindex="-1"></a><span class="in">  #} else {</span></span>
<span id="cb282-750"><a href="#cb282-750" aria-hidden="true" tabindex="-1"></a><span class="in">    #mean_temp_value &lt;- as.numeric(mean_temp_value)  # Ensure it's numeric for Celsius values or NA</span></span>
<span id="cb282-751"><a href="#cb282-751" aria-hidden="true" tabindex="-1"></a><span class="in">  #}</span></span>
<span id="cb282-752"><a href="#cb282-752" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-753"><a href="#cb282-753" aria-hidden="true" tabindex="-1"></a><span class="in">  # Round values to 2 decimal places</span></span>
<span id="cb282-754"><a href="#cb282-754" aria-hidden="true" tabindex="-1"></a><span class="in">  #mean_temp_value &lt;- round(mean_temp_value, 2)</span></span>
<span id="cb282-755"><a href="#cb282-755" aria-hidden="true" tabindex="-1"></a><span class="in">  total_discharge &lt;- round(as.numeric(total_discharge), 2)</span></span>
<span id="cb282-756"><a href="#cb282-756" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-757"><a href="#cb282-757" aria-hidden="true" tabindex="-1"></a><span class="in">  data.frame(</span></span>
<span id="cb282-758"><a href="#cb282-758" aria-hidden="true" tabindex="-1"></a><span class="in">    localEndTime = local_end_time,</span></span>
<span id="cb282-759"><a href="#cb282-759" aria-hidden="true" tabindex="-1"></a><span class="in">    river = site_name,</span></span>
<span id="cb282-760"><a href="#cb282-760" aria-hidden="true" tabindex="-1"></a><span class="in">    totalDischarge = as.numeric(total_discharge),  # Ensure numeric type</span></span>
<span id="cb282-761"><a href="#cb282-761" aria-hidden="true" tabindex="-1"></a><span class="in">    #meanTemp = mean_temp_value,  # Already handled as numeric</span></span>
<span id="cb282-762"><a href="#cb282-762" aria-hidden="true" tabindex="-1"></a><span class="in">    stringsAsFactors = FALSE</span></span>
<span id="cb282-763"><a href="#cb282-763" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-764"><a href="#cb282-764" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-765"><a href="#cb282-765" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-766"><a href="#cb282-766" aria-hidden="true" tabindex="-1"></a><span class="in">week_3_directory &lt;- "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/FlowTracker/FlowTrackerFiles/TAMEflow/Week3"</span></span>
<span id="cb282-767"><a href="#cb282-767" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-768"><a href="#cb282-768" aria-hidden="true" tabindex="-1"></a><span class="in"># Find all files in the week 3 directory</span></span>
<span id="cb282-769"><a href="#cb282-769" aria-hidden="true" tabindex="-1"></a><span class="in">week_3_files &lt;- find_files(week_3_directory)</span></span>
<span id="cb282-770"><a href="#cb282-770" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-771"><a href="#cb282-771" aria-hidden="true" tabindex="-1"></a><span class="in"># Initialize the result dataframe with the correct data types</span></span>
<span id="cb282-772"><a href="#cb282-772" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_3 &lt;- data.frame(</span></span>
<span id="cb282-773"><a href="#cb282-773" aria-hidden="true" tabindex="-1"></a><span class="in">  localEndTime = character(),</span></span>
<span id="cb282-774"><a href="#cb282-774" aria-hidden="true" tabindex="-1"></a><span class="in">  river = character(),</span></span>
<span id="cb282-775"><a href="#cb282-775" aria-hidden="true" tabindex="-1"></a><span class="in">  totalDischarge = numeric(),  # Initialize as numeric</span></span>
<span id="cb282-776"><a href="#cb282-776" aria-hidden="true" tabindex="-1"></a><span class="in">  #meanTemp = numeric(),  # Initialize as numeric</span></span>
<span id="cb282-777"><a href="#cb282-777" aria-hidden="true" tabindex="-1"></a><span class="in">  stringsAsFactors = FALSE</span></span>
<span id="cb282-778"><a href="#cb282-778" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb282-779"><a href="#cb282-779" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-780"><a href="#cb282-780" aria-hidden="true" tabindex="-1"></a><span class="in"># Loop through all files and extract values</span></span>
<span id="cb282-781"><a href="#cb282-781" aria-hidden="true" tabindex="-1"></a><span class="in">for (file in week_3_files) {</span></span>
<span id="cb282-782"><a href="#cb282-782" aria-hidden="true" tabindex="-1"></a><span class="in">  file_data &lt;- extract_values(file)</span></span>
<span id="cb282-783"><a href="#cb282-783" aria-hidden="true" tabindex="-1"></a><span class="in">  flow_tracker_3 &lt;- bind_rows(flow_tracker_3, file_data)</span></span>
<span id="cb282-784"><a href="#cb282-784" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-785"><a href="#cb282-785" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-786"><a href="#cb282-786" aria-hidden="true" tabindex="-1"></a><span class="in"># Standardize site names</span></span>
<span id="cb282-787"><a href="#cb282-787" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_3 &lt;- flow_tracker_3 %&gt;%</span></span>
<span id="cb282-788"><a href="#cb282-788" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("buff", river, ignore.case = TRUE), "BUFFAM", river)) %&gt;%</span></span>
<span id="cb282-789"><a href="#cb282-789" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("dryu", river, ignore.case = TRUE), "DRY UPPER", river)) %&gt;%</span></span>
<span id="cb282-790"><a href="#cb282-790" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("harr", river, ignore.case = TRUE), "HARRIS", river)) %&gt;%</span></span>
<span id="cb282-791"><a href="#cb282-791" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("undh", river, ignore.case = TRUE), "UNDERHILL", river)) %&gt;%</span></span>
<span id="cb282-792"><a href="#cb282-792" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("dcky", river, ignore.case = TRUE), "DICKEY", river))</span></span>
<span id="cb282-793"><a href="#cb282-793" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-794"><a href="#cb282-794" aria-hidden="true" tabindex="-1"></a><span class="in">#####################################################################################</span></span>
<span id="cb282-795"><a href="#cb282-795" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-796"><a href="#cb282-796" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove rows with repeating Total_Discharge values</span></span>
<span id="cb282-797"><a href="#cb282-797" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_3 &lt;- flow_tracker_3 %&gt;% </span></span>
<span id="cb282-798"><a href="#cb282-798" aria-hidden="true" tabindex="-1"></a><span class="in">  distinct(localEndTime, .keep_all = TRUE)</span></span>
<span id="cb282-799"><a href="#cb282-799" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-800"><a href="#cb282-800" aria-hidden="true" tabindex="-1"></a><span class="in">#####################################################################################</span></span>
<span id="cb282-801"><a href="#cb282-801" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-802"><a href="#cb282-802" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-803"><a href="#cb282-803" aria-hidden="true" tabindex="-1"></a><span class="in">head(flow_tracker_3)</span></span>
<span id="cb282-804"><a href="#cb282-804" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-805"><a href="#cb282-805" aria-hidden="true" tabindex="-1"></a><span class="in"># Write the final CSV file</span></span>
<span id="cb282-806"><a href="#cb282-806" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(flow_tracker_3, </span></span>
<span id="cb282-807"><a href="#cb282-807" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_3.csv", </span></span>
<span id="cb282-808"><a href="#cb282-808" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-809"><a href="#cb282-809" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-810"><a href="#cb282-810" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-811"><a href="#cb282-811" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-812"><a href="#cb282-812" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine flow tracker files for week 4}</span></span>
<span id="cb282-813"><a href="#cb282-813" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-814"><a href="#cb282-814" aria-hidden="true" tabindex="-1"></a><span class="in"># Define a function to search for files</span></span>
<span id="cb282-815"><a href="#cb282-815" aria-hidden="true" tabindex="-1"></a><span class="in">find_files &lt;- function(week_4_directory) {</span></span>
<span id="cb282-816"><a href="#cb282-816" aria-hidden="true" tabindex="-1"></a><span class="in">  week_4_files &lt;- list.files(path = week_4_directory, recursive = TRUE, full.names = TRUE)</span></span>
<span id="cb282-817"><a href="#cb282-817" aria-hidden="true" tabindex="-1"></a><span class="in">  return(week_4_files)</span></span>
<span id="cb282-818"><a href="#cb282-818" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-819"><a href="#cb282-819" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-820"><a href="#cb282-820" aria-hidden="true" tabindex="-1"></a><span class="in"># Function to extract the required values from a single file and convert only Fahrenheit (°F) to Celsius</span></span>
<span id="cb282-821"><a href="#cb282-821" aria-hidden="true" tabindex="-1"></a><span class="in">extract_values &lt;- function(file_path) {</span></span>
<span id="cb282-822"><a href="#cb282-822" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-823"><a href="#cb282-823" aria-hidden="true" tabindex="-1"></a><span class="in">  # Read the csv file</span></span>
<span id="cb282-824"><a href="#cb282-824" aria-hidden="true" tabindex="-1"></a><span class="in">  df &lt;- read.csv(file_path, header = FALSE, stringsAsFactors = FALSE)</span></span>
<span id="cb282-825"><a href="#cb282-825" aria-hidden="true" tabindex="-1"></a><span class="in">  colnames(df) &lt;- c("Column1", "Column2", "Column3")</span></span>
<span id="cb282-826"><a href="#cb282-826" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-827"><a href="#cb282-827" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract values</span></span>
<span id="cb282-828"><a href="#cb282-828" aria-hidden="true" tabindex="-1"></a><span class="in">  local_end_time &lt;- df %&gt;% filter(Column1 == "Local_End_Time") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-829"><a href="#cb282-829" aria-hidden="true" tabindex="-1"></a><span class="in">  site_name &lt;- df %&gt;% filter(Column1 == "Site_Name") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-830"><a href="#cb282-830" aria-hidden="true" tabindex="-1"></a><span class="in">  total_discharge &lt;- df %&gt;% filter(Column1 == "Total_Discharge") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-831"><a href="#cb282-831" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-832"><a href="#cb282-832" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract the temperature value and unit</span></span>
<span id="cb282-833"><a href="#cb282-833" aria-hidden="true" tabindex="-1"></a><span class="in">  #mean_temp_value &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-834"><a href="#cb282-834" aria-hidden="true" tabindex="-1"></a><span class="in">  #temp_unit &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column2) %&gt;% pull()</span></span>
<span id="cb282-835"><a href="#cb282-835" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-836"><a href="#cb282-836" aria-hidden="true" tabindex="-1"></a><span class="in">  # Convert only if the unit is Fahrenheit ("°F")</span></span>
<span id="cb282-837"><a href="#cb282-837" aria-hidden="true" tabindex="-1"></a><span class="in">  #if (temp_unit == "°F") {</span></span>
<span id="cb282-838"><a href="#cb282-838" aria-hidden="true" tabindex="-1"></a><span class="in">    #mean_temp_value &lt;- (as.numeric(mean_temp_value) - 32) * 5 / 9</span></span>
<span id="cb282-839"><a href="#cb282-839" aria-hidden="true" tabindex="-1"></a><span class="in">  #} else {</span></span>
<span id="cb282-840"><a href="#cb282-840" aria-hidden="true" tabindex="-1"></a><span class="in">    #mean_temp_value &lt;- as.numeric(mean_temp_value)  # Ensure it's numeric for Celsius values or NA</span></span>
<span id="cb282-841"><a href="#cb282-841" aria-hidden="true" tabindex="-1"></a><span class="in">  #}</span></span>
<span id="cb282-842"><a href="#cb282-842" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-843"><a href="#cb282-843" aria-hidden="true" tabindex="-1"></a><span class="in">  # Round values to 2 decimal places</span></span>
<span id="cb282-844"><a href="#cb282-844" aria-hidden="true" tabindex="-1"></a><span class="in">  #mean_temp_value &lt;- round(mean_temp_value, 2)</span></span>
<span id="cb282-845"><a href="#cb282-845" aria-hidden="true" tabindex="-1"></a><span class="in">  total_discharge &lt;- round(as.numeric(total_discharge), 2)</span></span>
<span id="cb282-846"><a href="#cb282-846" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-847"><a href="#cb282-847" aria-hidden="true" tabindex="-1"></a><span class="in">  data.frame(</span></span>
<span id="cb282-848"><a href="#cb282-848" aria-hidden="true" tabindex="-1"></a><span class="in">    localEndTime = local_end_time,</span></span>
<span id="cb282-849"><a href="#cb282-849" aria-hidden="true" tabindex="-1"></a><span class="in">    river = site_name,</span></span>
<span id="cb282-850"><a href="#cb282-850" aria-hidden="true" tabindex="-1"></a><span class="in">    totalDischarge = as.numeric(total_discharge),  # Ensure numeric type</span></span>
<span id="cb282-851"><a href="#cb282-851" aria-hidden="true" tabindex="-1"></a><span class="in">    #meanTemp = mean_temp_value,  # Already handled as numeric</span></span>
<span id="cb282-852"><a href="#cb282-852" aria-hidden="true" tabindex="-1"></a><span class="in">    stringsAsFactors = FALSE</span></span>
<span id="cb282-853"><a href="#cb282-853" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-854"><a href="#cb282-854" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-855"><a href="#cb282-855" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-856"><a href="#cb282-856" aria-hidden="true" tabindex="-1"></a><span class="in">week_4_directory &lt;- "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/FlowTracker/FlowTrackerFiles/TAMEflow/Week4"</span></span>
<span id="cb282-857"><a href="#cb282-857" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-858"><a href="#cb282-858" aria-hidden="true" tabindex="-1"></a><span class="in"># Find all files in the week 4 directory</span></span>
<span id="cb282-859"><a href="#cb282-859" aria-hidden="true" tabindex="-1"></a><span class="in">week_4_files &lt;- find_files(week_4_directory)</span></span>
<span id="cb282-860"><a href="#cb282-860" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-861"><a href="#cb282-861" aria-hidden="true" tabindex="-1"></a><span class="in"># Initialize the result dataframe with the correct data types</span></span>
<span id="cb282-862"><a href="#cb282-862" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_4 &lt;- data.frame(</span></span>
<span id="cb282-863"><a href="#cb282-863" aria-hidden="true" tabindex="-1"></a><span class="in">  localEndTime = character(),</span></span>
<span id="cb282-864"><a href="#cb282-864" aria-hidden="true" tabindex="-1"></a><span class="in">  river = character(),</span></span>
<span id="cb282-865"><a href="#cb282-865" aria-hidden="true" tabindex="-1"></a><span class="in">  totalDischarge = numeric(),  # Initialize as numeric</span></span>
<span id="cb282-866"><a href="#cb282-866" aria-hidden="true" tabindex="-1"></a><span class="in">  #meanTemp = numeric(),  # Initialize as numeric</span></span>
<span id="cb282-867"><a href="#cb282-867" aria-hidden="true" tabindex="-1"></a><span class="in">  stringsAsFactors = FALSE</span></span>
<span id="cb282-868"><a href="#cb282-868" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb282-869"><a href="#cb282-869" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-870"><a href="#cb282-870" aria-hidden="true" tabindex="-1"></a><span class="in"># Loop through all files and extract values</span></span>
<span id="cb282-871"><a href="#cb282-871" aria-hidden="true" tabindex="-1"></a><span class="in">for (file in week_4_files) {</span></span>
<span id="cb282-872"><a href="#cb282-872" aria-hidden="true" tabindex="-1"></a><span class="in">  file_data &lt;- extract_values(file)</span></span>
<span id="cb282-873"><a href="#cb282-873" aria-hidden="true" tabindex="-1"></a><span class="in">  flow_tracker_4 &lt;- bind_rows(flow_tracker_4, file_data)</span></span>
<span id="cb282-874"><a href="#cb282-874" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-875"><a href="#cb282-875" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-876"><a href="#cb282-876" aria-hidden="true" tabindex="-1"></a><span class="in"># Standardize site names</span></span>
<span id="cb282-877"><a href="#cb282-877" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_4 &lt;- flow_tracker_4 %&gt;%</span></span>
<span id="cb282-878"><a href="#cb282-878" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("buff", river, ignore.case = TRUE), "BUFFAM", river)) %&gt;%</span></span>
<span id="cb282-879"><a href="#cb282-879" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("dryu", river, ignore.case = TRUE), "DRY UPPER", river)) %&gt;%</span></span>
<span id="cb282-880"><a href="#cb282-880" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("harr", river, ignore.case = TRUE), "HARRIS", river)) %&gt;%</span></span>
<span id="cb282-881"><a href="#cb282-881" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("undh", river, ignore.case = TRUE), "UNDERHILL", river)) %&gt;%</span></span>
<span id="cb282-882"><a href="#cb282-882" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("dcky", river, ignore.case = TRUE), "DICKEY", river))</span></span>
<span id="cb282-883"><a href="#cb282-883" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-884"><a href="#cb282-884" aria-hidden="true" tabindex="-1"></a><span class="in">#####################################################################################</span></span>
<span id="cb282-885"><a href="#cb282-885" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-886"><a href="#cb282-886" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove rows with repeating Total_Discharge values</span></span>
<span id="cb282-887"><a href="#cb282-887" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_4 &lt;- flow_tracker_4 %&gt;% </span></span>
<span id="cb282-888"><a href="#cb282-888" aria-hidden="true" tabindex="-1"></a><span class="in">  distinct(localEndTime, .keep_all = TRUE)</span></span>
<span id="cb282-889"><a href="#cb282-889" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-890"><a href="#cb282-890" aria-hidden="true" tabindex="-1"></a><span class="in">#####################################################################################</span></span>
<span id="cb282-891"><a href="#cb282-891" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-892"><a href="#cb282-892" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-893"><a href="#cb282-893" aria-hidden="true" tabindex="-1"></a><span class="in">head(flow_tracker_4)</span></span>
<span id="cb282-894"><a href="#cb282-894" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-895"><a href="#cb282-895" aria-hidden="true" tabindex="-1"></a><span class="in"># Write the final CSV file</span></span>
<span id="cb282-896"><a href="#cb282-896" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(flow_tracker_4, </span></span>
<span id="cb282-897"><a href="#cb282-897" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_4.csv", </span></span>
<span id="cb282-898"><a href="#cb282-898" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-899"><a href="#cb282-899" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-900"><a href="#cb282-900" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-901"><a href="#cb282-901" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-902"><a href="#cb282-902" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine flow tracker files for week 5}</span></span>
<span id="cb282-903"><a href="#cb282-903" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-904"><a href="#cb282-904" aria-hidden="true" tabindex="-1"></a><span class="in"># Define a function to search for files</span></span>
<span id="cb282-905"><a href="#cb282-905" aria-hidden="true" tabindex="-1"></a><span class="in">find_files &lt;- function(week_5_directory) {</span></span>
<span id="cb282-906"><a href="#cb282-906" aria-hidden="true" tabindex="-1"></a><span class="in">  week_5_files &lt;- list.files(path = week_5_directory, recursive = TRUE, full.names = TRUE)</span></span>
<span id="cb282-907"><a href="#cb282-907" aria-hidden="true" tabindex="-1"></a><span class="in">  return(week_5_files)</span></span>
<span id="cb282-908"><a href="#cb282-908" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-909"><a href="#cb282-909" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-910"><a href="#cb282-910" aria-hidden="true" tabindex="-1"></a><span class="in"># Function to extract the required values from a single file and convert only Fahrenheit (°F) to Celsius</span></span>
<span id="cb282-911"><a href="#cb282-911" aria-hidden="true" tabindex="-1"></a><span class="in">extract_values &lt;- function(file_path) {</span></span>
<span id="cb282-912"><a href="#cb282-912" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-913"><a href="#cb282-913" aria-hidden="true" tabindex="-1"></a><span class="in">  # Read the csv file</span></span>
<span id="cb282-914"><a href="#cb282-914" aria-hidden="true" tabindex="-1"></a><span class="in">  df &lt;- read.csv(file_path, header = FALSE, stringsAsFactors = FALSE)</span></span>
<span id="cb282-915"><a href="#cb282-915" aria-hidden="true" tabindex="-1"></a><span class="in">  colnames(df) &lt;- c("Column1", "Column2", "Column3")</span></span>
<span id="cb282-916"><a href="#cb282-916" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-917"><a href="#cb282-917" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract values</span></span>
<span id="cb282-918"><a href="#cb282-918" aria-hidden="true" tabindex="-1"></a><span class="in">  local_end_time &lt;- df %&gt;% filter(Column1 == "Local_End_Time") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-919"><a href="#cb282-919" aria-hidden="true" tabindex="-1"></a><span class="in">  site_name &lt;- df %&gt;% filter(Column1 == "Site_Name") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-920"><a href="#cb282-920" aria-hidden="true" tabindex="-1"></a><span class="in">  total_discharge &lt;- df %&gt;% filter(Column1 == "Total_Discharge") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-921"><a href="#cb282-921" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-922"><a href="#cb282-922" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract the temperature value and unit</span></span>
<span id="cb282-923"><a href="#cb282-923" aria-hidden="true" tabindex="-1"></a><span class="in">  #mean_temp_value &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-924"><a href="#cb282-924" aria-hidden="true" tabindex="-1"></a><span class="in">  #temp_unit &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column2) %&gt;% pull()</span></span>
<span id="cb282-925"><a href="#cb282-925" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-926"><a href="#cb282-926" aria-hidden="true" tabindex="-1"></a><span class="in">  # Convert only if the unit is Fahrenheit ("°F")</span></span>
<span id="cb282-927"><a href="#cb282-927" aria-hidden="true" tabindex="-1"></a><span class="in">  #if (temp_unit == "°F") {</span></span>
<span id="cb282-928"><a href="#cb282-928" aria-hidden="true" tabindex="-1"></a><span class="in">    #mean_temp_value &lt;- (as.numeric(mean_temp_value) - 32) * 5 / 9</span></span>
<span id="cb282-929"><a href="#cb282-929" aria-hidden="true" tabindex="-1"></a><span class="in">  #} else {</span></span>
<span id="cb282-930"><a href="#cb282-930" aria-hidden="true" tabindex="-1"></a><span class="in">    #mean_temp_value &lt;- as.numeric(mean_temp_value)  # Ensure it's numeric for Celsius values or NA</span></span>
<span id="cb282-931"><a href="#cb282-931" aria-hidden="true" tabindex="-1"></a><span class="in">  #}</span></span>
<span id="cb282-932"><a href="#cb282-932" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-933"><a href="#cb282-933" aria-hidden="true" tabindex="-1"></a><span class="in">  # Round values to 2 decimal places</span></span>
<span id="cb282-934"><a href="#cb282-934" aria-hidden="true" tabindex="-1"></a><span class="in">  #mean_temp_value &lt;- round(mean_temp_value, 2)</span></span>
<span id="cb282-935"><a href="#cb282-935" aria-hidden="true" tabindex="-1"></a><span class="in">  total_discharge &lt;- round(as.numeric(total_discharge), 2)</span></span>
<span id="cb282-936"><a href="#cb282-936" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-937"><a href="#cb282-937" aria-hidden="true" tabindex="-1"></a><span class="in">  data.frame(</span></span>
<span id="cb282-938"><a href="#cb282-938" aria-hidden="true" tabindex="-1"></a><span class="in">    localEndTime = local_end_time,</span></span>
<span id="cb282-939"><a href="#cb282-939" aria-hidden="true" tabindex="-1"></a><span class="in">    river = site_name,</span></span>
<span id="cb282-940"><a href="#cb282-940" aria-hidden="true" tabindex="-1"></a><span class="in">    totalDischarge = as.numeric(total_discharge),  # Ensure numeric type</span></span>
<span id="cb282-941"><a href="#cb282-941" aria-hidden="true" tabindex="-1"></a><span class="in">    #meanTemp = mean_temp_value,  # Already handled as numeric</span></span>
<span id="cb282-942"><a href="#cb282-942" aria-hidden="true" tabindex="-1"></a><span class="in">    stringsAsFactors = FALSE</span></span>
<span id="cb282-943"><a href="#cb282-943" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-944"><a href="#cb282-944" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-945"><a href="#cb282-945" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-946"><a href="#cb282-946" aria-hidden="true" tabindex="-1"></a><span class="in">week_5_directory &lt;- "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/FlowTracker/FlowTrackerFiles/TAMEflow/Week5"</span></span>
<span id="cb282-947"><a href="#cb282-947" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-948"><a href="#cb282-948" aria-hidden="true" tabindex="-1"></a><span class="in"># Find all files in the week 5 directory</span></span>
<span id="cb282-949"><a href="#cb282-949" aria-hidden="true" tabindex="-1"></a><span class="in">week_5_files &lt;- find_files(week_5_directory)</span></span>
<span id="cb282-950"><a href="#cb282-950" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-951"><a href="#cb282-951" aria-hidden="true" tabindex="-1"></a><span class="in"># Initialize the result dataframe with the correct data types</span></span>
<span id="cb282-952"><a href="#cb282-952" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_5 &lt;- data.frame(</span></span>
<span id="cb282-953"><a href="#cb282-953" aria-hidden="true" tabindex="-1"></a><span class="in">  localEndTime = character(),</span></span>
<span id="cb282-954"><a href="#cb282-954" aria-hidden="true" tabindex="-1"></a><span class="in">  river = character(),</span></span>
<span id="cb282-955"><a href="#cb282-955" aria-hidden="true" tabindex="-1"></a><span class="in">  totalDischarge = numeric(),  # Initialize as numeric</span></span>
<span id="cb282-956"><a href="#cb282-956" aria-hidden="true" tabindex="-1"></a><span class="in">  #meanTemp = numeric(),  # Initialize as numeric</span></span>
<span id="cb282-957"><a href="#cb282-957" aria-hidden="true" tabindex="-1"></a><span class="in">  stringsAsFactors = FALSE</span></span>
<span id="cb282-958"><a href="#cb282-958" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb282-959"><a href="#cb282-959" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-960"><a href="#cb282-960" aria-hidden="true" tabindex="-1"></a><span class="in"># Loop through all files and extract values</span></span>
<span id="cb282-961"><a href="#cb282-961" aria-hidden="true" tabindex="-1"></a><span class="in">for (file in week_5_files) {</span></span>
<span id="cb282-962"><a href="#cb282-962" aria-hidden="true" tabindex="-1"></a><span class="in">  file_data &lt;- extract_values(file)</span></span>
<span id="cb282-963"><a href="#cb282-963" aria-hidden="true" tabindex="-1"></a><span class="in">  flow_tracker_5 &lt;- bind_rows(flow_tracker_5, file_data)</span></span>
<span id="cb282-964"><a href="#cb282-964" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-965"><a href="#cb282-965" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-966"><a href="#cb282-966" aria-hidden="true" tabindex="-1"></a><span class="in"># Standardize site names</span></span>
<span id="cb282-967"><a href="#cb282-967" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_5 &lt;- flow_tracker_5 %&gt;%</span></span>
<span id="cb282-968"><a href="#cb282-968" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("buff", river, ignore.case = TRUE), "BUFFAM", river)) %&gt;%</span></span>
<span id="cb282-969"><a href="#cb282-969" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("dryu", river, ignore.case = TRUE), "DRY UPPER", river)) %&gt;%</span></span>
<span id="cb282-970"><a href="#cb282-970" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("harr", river, ignore.case = TRUE), "HARRIS", river)) %&gt;%</span></span>
<span id="cb282-971"><a href="#cb282-971" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("undh", river, ignore.case = TRUE), "UNDERHILL", river)) %&gt;%</span></span>
<span id="cb282-972"><a href="#cb282-972" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("dcky", river, ignore.case = TRUE), "DICKEY", river))</span></span>
<span id="cb282-973"><a href="#cb282-973" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-974"><a href="#cb282-974" aria-hidden="true" tabindex="-1"></a><span class="in">#####################################################################################</span></span>
<span id="cb282-975"><a href="#cb282-975" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-976"><a href="#cb282-976" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove rows with repeating Total_Discharge values</span></span>
<span id="cb282-977"><a href="#cb282-977" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_5 &lt;- flow_tracker_5 %&gt;% </span></span>
<span id="cb282-978"><a href="#cb282-978" aria-hidden="true" tabindex="-1"></a><span class="in">  distinct(localEndTime, .keep_all = TRUE)</span></span>
<span id="cb282-979"><a href="#cb282-979" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-980"><a href="#cb282-980" aria-hidden="true" tabindex="-1"></a><span class="in">#####################################################################################</span></span>
<span id="cb282-981"><a href="#cb282-981" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-982"><a href="#cb282-982" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-983"><a href="#cb282-983" aria-hidden="true" tabindex="-1"></a><span class="in">head(flow_tracker_5)</span></span>
<span id="cb282-984"><a href="#cb282-984" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-985"><a href="#cb282-985" aria-hidden="true" tabindex="-1"></a><span class="in"># Write the final CSV file</span></span>
<span id="cb282-986"><a href="#cb282-986" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(flow_tracker_5, </span></span>
<span id="cb282-987"><a href="#cb282-987" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_5.csv", </span></span>
<span id="cb282-988"><a href="#cb282-988" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-989"><a href="#cb282-989" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-990"><a href="#cb282-990" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-991"><a href="#cb282-991" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-992"><a href="#cb282-992" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine flow tracker files for week 6}</span></span>
<span id="cb282-993"><a href="#cb282-993" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-994"><a href="#cb282-994" aria-hidden="true" tabindex="-1"></a><span class="in"># Define a function to search for files</span></span>
<span id="cb282-995"><a href="#cb282-995" aria-hidden="true" tabindex="-1"></a><span class="in">find_files &lt;- function(week_6_directory) {</span></span>
<span id="cb282-996"><a href="#cb282-996" aria-hidden="true" tabindex="-1"></a><span class="in">  week_6_files &lt;- list.files(path = week_6_directory, recursive = TRUE, full.names = TRUE)</span></span>
<span id="cb282-997"><a href="#cb282-997" aria-hidden="true" tabindex="-1"></a><span class="in">  return(week_6_files)</span></span>
<span id="cb282-998"><a href="#cb282-998" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-999"><a href="#cb282-999" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1000"><a href="#cb282-1000" aria-hidden="true" tabindex="-1"></a><span class="in"># Function to extract the required values from a single file and convert only Fahrenheit (°F) to Celsius</span></span>
<span id="cb282-1001"><a href="#cb282-1001" aria-hidden="true" tabindex="-1"></a><span class="in">extract_values &lt;- function(file_path) {</span></span>
<span id="cb282-1002"><a href="#cb282-1002" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1003"><a href="#cb282-1003" aria-hidden="true" tabindex="-1"></a><span class="in">  # Read the csv file</span></span>
<span id="cb282-1004"><a href="#cb282-1004" aria-hidden="true" tabindex="-1"></a><span class="in">  df &lt;- read.csv(file_path, header = FALSE, stringsAsFactors = FALSE)</span></span>
<span id="cb282-1005"><a href="#cb282-1005" aria-hidden="true" tabindex="-1"></a><span class="in">  colnames(df) &lt;- c("Column1", "Column2", "Column3")</span></span>
<span id="cb282-1006"><a href="#cb282-1006" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1007"><a href="#cb282-1007" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract values</span></span>
<span id="cb282-1008"><a href="#cb282-1008" aria-hidden="true" tabindex="-1"></a><span class="in">  local_end_time &lt;- df %&gt;% filter(Column1 == "Local_End_Time") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1009"><a href="#cb282-1009" aria-hidden="true" tabindex="-1"></a><span class="in">  site_name &lt;- df %&gt;% filter(Column1 == "Site_Name") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1010"><a href="#cb282-1010" aria-hidden="true" tabindex="-1"></a><span class="in">  total_discharge &lt;- df %&gt;% filter(Column1 == "Total_Discharge") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1011"><a href="#cb282-1011" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1012"><a href="#cb282-1012" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract the temperature value and unit</span></span>
<span id="cb282-1013"><a href="#cb282-1013" aria-hidden="true" tabindex="-1"></a><span class="in">  #mean_temp_value &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1014"><a href="#cb282-1014" aria-hidden="true" tabindex="-1"></a><span class="in">  #temp_unit &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column2) %&gt;% pull()</span></span>
<span id="cb282-1015"><a href="#cb282-1015" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1016"><a href="#cb282-1016" aria-hidden="true" tabindex="-1"></a><span class="in">  # Convert only if the unit is Fahrenheit ("°F")</span></span>
<span id="cb282-1017"><a href="#cb282-1017" aria-hidden="true" tabindex="-1"></a><span class="in">  #if (temp_unit == "°F") {</span></span>
<span id="cb282-1018"><a href="#cb282-1018" aria-hidden="true" tabindex="-1"></a><span class="in">    #mean_temp_value &lt;- (as.numeric(mean_temp_value) - 32) * 5 / 9</span></span>
<span id="cb282-1019"><a href="#cb282-1019" aria-hidden="true" tabindex="-1"></a><span class="in">  #} else {</span></span>
<span id="cb282-1020"><a href="#cb282-1020" aria-hidden="true" tabindex="-1"></a><span class="in">    #mean_temp_value &lt;- as.numeric(mean_temp_value)  # Ensure it's numeric for Celsius values or NA</span></span>
<span id="cb282-1021"><a href="#cb282-1021" aria-hidden="true" tabindex="-1"></a><span class="in">  #}</span></span>
<span id="cb282-1022"><a href="#cb282-1022" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1023"><a href="#cb282-1023" aria-hidden="true" tabindex="-1"></a><span class="in">  # Round values to 2 decimal places</span></span>
<span id="cb282-1024"><a href="#cb282-1024" aria-hidden="true" tabindex="-1"></a><span class="in">  #mean_temp_value &lt;- round(mean_temp_value, 2)</span></span>
<span id="cb282-1025"><a href="#cb282-1025" aria-hidden="true" tabindex="-1"></a><span class="in">  total_discharge &lt;- round(as.numeric(total_discharge), 2)</span></span>
<span id="cb282-1026"><a href="#cb282-1026" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1027"><a href="#cb282-1027" aria-hidden="true" tabindex="-1"></a><span class="in">  data.frame(</span></span>
<span id="cb282-1028"><a href="#cb282-1028" aria-hidden="true" tabindex="-1"></a><span class="in">    localEndTime = local_end_time,</span></span>
<span id="cb282-1029"><a href="#cb282-1029" aria-hidden="true" tabindex="-1"></a><span class="in">    river = site_name,</span></span>
<span id="cb282-1030"><a href="#cb282-1030" aria-hidden="true" tabindex="-1"></a><span class="in">    totalDischarge = as.numeric(total_discharge),  # Ensure numeric type</span></span>
<span id="cb282-1031"><a href="#cb282-1031" aria-hidden="true" tabindex="-1"></a><span class="in">    #meanTemp = mean_temp_value,  # Already handled as numeric</span></span>
<span id="cb282-1032"><a href="#cb282-1032" aria-hidden="true" tabindex="-1"></a><span class="in">    stringsAsFactors = FALSE</span></span>
<span id="cb282-1033"><a href="#cb282-1033" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1034"><a href="#cb282-1034" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-1035"><a href="#cb282-1035" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1036"><a href="#cb282-1036" aria-hidden="true" tabindex="-1"></a><span class="in">week_6_directory &lt;- "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/FlowTracker/FlowTrackerFiles/TAMEflow/Week6"</span></span>
<span id="cb282-1037"><a href="#cb282-1037" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1038"><a href="#cb282-1038" aria-hidden="true" tabindex="-1"></a><span class="in"># Find all files in the week 6 directory</span></span>
<span id="cb282-1039"><a href="#cb282-1039" aria-hidden="true" tabindex="-1"></a><span class="in">week_6_files &lt;- find_files(week_6_directory)</span></span>
<span id="cb282-1040"><a href="#cb282-1040" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1041"><a href="#cb282-1041" aria-hidden="true" tabindex="-1"></a><span class="in"># Initialize the result dataframe with the correct data types</span></span>
<span id="cb282-1042"><a href="#cb282-1042" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_6 &lt;- data.frame(</span></span>
<span id="cb282-1043"><a href="#cb282-1043" aria-hidden="true" tabindex="-1"></a><span class="in">  localEndTime = character(),</span></span>
<span id="cb282-1044"><a href="#cb282-1044" aria-hidden="true" tabindex="-1"></a><span class="in">  river = character(),</span></span>
<span id="cb282-1045"><a href="#cb282-1045" aria-hidden="true" tabindex="-1"></a><span class="in">  totalDischarge = numeric(),  # Initialize as numeric</span></span>
<span id="cb282-1046"><a href="#cb282-1046" aria-hidden="true" tabindex="-1"></a><span class="in">  #meanTemp = numeric(),  # Initialize as numeric</span></span>
<span id="cb282-1047"><a href="#cb282-1047" aria-hidden="true" tabindex="-1"></a><span class="in">  stringsAsFactors = FALSE</span></span>
<span id="cb282-1048"><a href="#cb282-1048" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb282-1049"><a href="#cb282-1049" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1050"><a href="#cb282-1050" aria-hidden="true" tabindex="-1"></a><span class="in"># Loop through all files and extract values</span></span>
<span id="cb282-1051"><a href="#cb282-1051" aria-hidden="true" tabindex="-1"></a><span class="in">for (file in week_6_files) {</span></span>
<span id="cb282-1052"><a href="#cb282-1052" aria-hidden="true" tabindex="-1"></a><span class="in">  file_data &lt;- extract_values(file)</span></span>
<span id="cb282-1053"><a href="#cb282-1053" aria-hidden="true" tabindex="-1"></a><span class="in">  flow_tracker_6 &lt;- bind_rows(flow_tracker_6, file_data)</span></span>
<span id="cb282-1054"><a href="#cb282-1054" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-1055"><a href="#cb282-1055" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1056"><a href="#cb282-1056" aria-hidden="true" tabindex="-1"></a><span class="in"># Standardize site names</span></span>
<span id="cb282-1057"><a href="#cb282-1057" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_6 &lt;- flow_tracker_6 %&gt;%</span></span>
<span id="cb282-1058"><a href="#cb282-1058" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("buff", river, ignore.case = TRUE), "BUFFAM", river)) %&gt;%</span></span>
<span id="cb282-1059"><a href="#cb282-1059" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("dryu", river, ignore.case = TRUE), "DRY UPPER", river)) %&gt;%</span></span>
<span id="cb282-1060"><a href="#cb282-1060" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("harr", river, ignore.case = TRUE), "HARRIS", river)) %&gt;%</span></span>
<span id="cb282-1061"><a href="#cb282-1061" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("undh", river, ignore.case = TRUE), "UNDERHILL", river)) %&gt;%</span></span>
<span id="cb282-1062"><a href="#cb282-1062" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("dcky", river, ignore.case = TRUE), "DICKEY", river))</span></span>
<span id="cb282-1063"><a href="#cb282-1063" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1064"><a href="#cb282-1064" aria-hidden="true" tabindex="-1"></a><span class="in">#####################################################################################</span></span>
<span id="cb282-1065"><a href="#cb282-1065" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1066"><a href="#cb282-1066" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove rows with repeating Total_Discharge values</span></span>
<span id="cb282-1067"><a href="#cb282-1067" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_6 &lt;- flow_tracker_6 %&gt;% </span></span>
<span id="cb282-1068"><a href="#cb282-1068" aria-hidden="true" tabindex="-1"></a><span class="in">  distinct(localEndTime, .keep_all = TRUE)</span></span>
<span id="cb282-1069"><a href="#cb282-1069" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1070"><a href="#cb282-1070" aria-hidden="true" tabindex="-1"></a><span class="in">#####################################################################################</span></span>
<span id="cb282-1071"><a href="#cb282-1071" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1072"><a href="#cb282-1072" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-1073"><a href="#cb282-1073" aria-hidden="true" tabindex="-1"></a><span class="in">head(flow_tracker_6)</span></span>
<span id="cb282-1074"><a href="#cb282-1074" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1075"><a href="#cb282-1075" aria-hidden="true" tabindex="-1"></a><span class="in"># Write the final CSV file</span></span>
<span id="cb282-1076"><a href="#cb282-1076" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(flow_tracker_6, </span></span>
<span id="cb282-1077"><a href="#cb282-1077" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_6.csv", </span></span>
<span id="cb282-1078"><a href="#cb282-1078" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-1079"><a href="#cb282-1079" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1080"><a href="#cb282-1080" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-1081"><a href="#cb282-1081" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1082"><a href="#cb282-1082" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine flow tracker files for week 7}</span></span>
<span id="cb282-1083"><a href="#cb282-1083" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1084"><a href="#cb282-1084" aria-hidden="true" tabindex="-1"></a><span class="in"># Define a function to search for files</span></span>
<span id="cb282-1085"><a href="#cb282-1085" aria-hidden="true" tabindex="-1"></a><span class="in">find_files &lt;- function(week_7_directory) {</span></span>
<span id="cb282-1086"><a href="#cb282-1086" aria-hidden="true" tabindex="-1"></a><span class="in">  week_7_files &lt;- list.files(path = week_7_directory, recursive = TRUE, full.names = TRUE)</span></span>
<span id="cb282-1087"><a href="#cb282-1087" aria-hidden="true" tabindex="-1"></a><span class="in">  return(week_7_files)</span></span>
<span id="cb282-1088"><a href="#cb282-1088" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-1089"><a href="#cb282-1089" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1090"><a href="#cb282-1090" aria-hidden="true" tabindex="-1"></a><span class="in"># Function to extract the required values from a single file and convert only Fahrenheit (°F) to Celsius</span></span>
<span id="cb282-1091"><a href="#cb282-1091" aria-hidden="true" tabindex="-1"></a><span class="in">extract_values &lt;- function(file_path) {</span></span>
<span id="cb282-1092"><a href="#cb282-1092" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1093"><a href="#cb282-1093" aria-hidden="true" tabindex="-1"></a><span class="in">  # Read the csv file</span></span>
<span id="cb282-1094"><a href="#cb282-1094" aria-hidden="true" tabindex="-1"></a><span class="in">  df &lt;- read.csv(file_path, header = FALSE, stringsAsFactors = FALSE)</span></span>
<span id="cb282-1095"><a href="#cb282-1095" aria-hidden="true" tabindex="-1"></a><span class="in">  colnames(df) &lt;- c("Column1", "Column2", "Column3")</span></span>
<span id="cb282-1096"><a href="#cb282-1096" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1097"><a href="#cb282-1097" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract values</span></span>
<span id="cb282-1098"><a href="#cb282-1098" aria-hidden="true" tabindex="-1"></a><span class="in">  local_end_time &lt;- df %&gt;% filter(Column1 == "Local_End_Time") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1099"><a href="#cb282-1099" aria-hidden="true" tabindex="-1"></a><span class="in">  site_name &lt;- df %&gt;% filter(Column1 == "Site_Name") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1100"><a href="#cb282-1100" aria-hidden="true" tabindex="-1"></a><span class="in">  total_discharge &lt;- df %&gt;% filter(Column1 == "Total_Discharge") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1101"><a href="#cb282-1101" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1102"><a href="#cb282-1102" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract the temperature value and unit</span></span>
<span id="cb282-1103"><a href="#cb282-1103" aria-hidden="true" tabindex="-1"></a><span class="in">  #mean_temp_value &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1104"><a href="#cb282-1104" aria-hidden="true" tabindex="-1"></a><span class="in">  #temp_unit &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column2) %&gt;% pull()</span></span>
<span id="cb282-1105"><a href="#cb282-1105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1106"><a href="#cb282-1106" aria-hidden="true" tabindex="-1"></a><span class="in">  # Convert only if the unit is Fahrenheit ("°F")</span></span>
<span id="cb282-1107"><a href="#cb282-1107" aria-hidden="true" tabindex="-1"></a><span class="in">  #if (temp_unit == "°F") {</span></span>
<span id="cb282-1108"><a href="#cb282-1108" aria-hidden="true" tabindex="-1"></a><span class="in">    #mean_temp_value &lt;- (as.numeric(mean_temp_value) - 32) * 5 / 9</span></span>
<span id="cb282-1109"><a href="#cb282-1109" aria-hidden="true" tabindex="-1"></a><span class="in">  #} else {</span></span>
<span id="cb282-1110"><a href="#cb282-1110" aria-hidden="true" tabindex="-1"></a><span class="in">    #mean_temp_value &lt;- as.numeric(mean_temp_value)  # Ensure it's numeric for Celsius values or NA</span></span>
<span id="cb282-1111"><a href="#cb282-1111" aria-hidden="true" tabindex="-1"></a><span class="in">  #}</span></span>
<span id="cb282-1112"><a href="#cb282-1112" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1113"><a href="#cb282-1113" aria-hidden="true" tabindex="-1"></a><span class="in">  # Round values to 2 decimal places</span></span>
<span id="cb282-1114"><a href="#cb282-1114" aria-hidden="true" tabindex="-1"></a><span class="in">  #mean_temp_value &lt;- round(mean_temp_value, 2)</span></span>
<span id="cb282-1115"><a href="#cb282-1115" aria-hidden="true" tabindex="-1"></a><span class="in">  total_discharge &lt;- round(as.numeric(total_discharge), 2)</span></span>
<span id="cb282-1116"><a href="#cb282-1116" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1117"><a href="#cb282-1117" aria-hidden="true" tabindex="-1"></a><span class="in">  data.frame(</span></span>
<span id="cb282-1118"><a href="#cb282-1118" aria-hidden="true" tabindex="-1"></a><span class="in">    localEndTime = local_end_time,</span></span>
<span id="cb282-1119"><a href="#cb282-1119" aria-hidden="true" tabindex="-1"></a><span class="in">    river = site_name,</span></span>
<span id="cb282-1120"><a href="#cb282-1120" aria-hidden="true" tabindex="-1"></a><span class="in">    totalDischarge = as.numeric(total_discharge),  # Ensure numeric type</span></span>
<span id="cb282-1121"><a href="#cb282-1121" aria-hidden="true" tabindex="-1"></a><span class="in">    #meanTemp = mean_temp_value,  # Already handled as numeric</span></span>
<span id="cb282-1122"><a href="#cb282-1122" aria-hidden="true" tabindex="-1"></a><span class="in">    stringsAsFactors = FALSE</span></span>
<span id="cb282-1123"><a href="#cb282-1123" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1124"><a href="#cb282-1124" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-1125"><a href="#cb282-1125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1126"><a href="#cb282-1126" aria-hidden="true" tabindex="-1"></a><span class="in">week_7_directory &lt;- "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/FlowTracker/FlowTrackerFiles/TAMEflow/Week7"</span></span>
<span id="cb282-1127"><a href="#cb282-1127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1128"><a href="#cb282-1128" aria-hidden="true" tabindex="-1"></a><span class="in"># Find all files in the week 7 directory</span></span>
<span id="cb282-1129"><a href="#cb282-1129" aria-hidden="true" tabindex="-1"></a><span class="in">week_7_files &lt;- find_files(week_7_directory)</span></span>
<span id="cb282-1130"><a href="#cb282-1130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1131"><a href="#cb282-1131" aria-hidden="true" tabindex="-1"></a><span class="in"># Initialize the result dataframe with the correct data types</span></span>
<span id="cb282-1132"><a href="#cb282-1132" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_7 &lt;- data.frame(</span></span>
<span id="cb282-1133"><a href="#cb282-1133" aria-hidden="true" tabindex="-1"></a><span class="in">  localEndTime = character(),</span></span>
<span id="cb282-1134"><a href="#cb282-1134" aria-hidden="true" tabindex="-1"></a><span class="in">  river = character(),</span></span>
<span id="cb282-1135"><a href="#cb282-1135" aria-hidden="true" tabindex="-1"></a><span class="in">  totalDischarge = numeric(),  # Initialize as numeric</span></span>
<span id="cb282-1136"><a href="#cb282-1136" aria-hidden="true" tabindex="-1"></a><span class="in">  #meanTemp = numeric(),  # Initialize as numeric</span></span>
<span id="cb282-1137"><a href="#cb282-1137" aria-hidden="true" tabindex="-1"></a><span class="in">  stringsAsFactors = FALSE</span></span>
<span id="cb282-1138"><a href="#cb282-1138" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb282-1139"><a href="#cb282-1139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1140"><a href="#cb282-1140" aria-hidden="true" tabindex="-1"></a><span class="in"># Loop through all files and extract values</span></span>
<span id="cb282-1141"><a href="#cb282-1141" aria-hidden="true" tabindex="-1"></a><span class="in">for (file in week_7_files) {</span></span>
<span id="cb282-1142"><a href="#cb282-1142" aria-hidden="true" tabindex="-1"></a><span class="in">  file_data &lt;- extract_values(file)</span></span>
<span id="cb282-1143"><a href="#cb282-1143" aria-hidden="true" tabindex="-1"></a><span class="in">  flow_tracker_7 &lt;- bind_rows(flow_tracker_7, file_data)</span></span>
<span id="cb282-1144"><a href="#cb282-1144" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-1145"><a href="#cb282-1145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1146"><a href="#cb282-1146" aria-hidden="true" tabindex="-1"></a><span class="in"># Standardize site names</span></span>
<span id="cb282-1147"><a href="#cb282-1147" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_7 &lt;- flow_tracker_7 %&gt;%</span></span>
<span id="cb282-1148"><a href="#cb282-1148" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("buff", river, ignore.case = TRUE), "BUFFAM", river)) %&gt;%</span></span>
<span id="cb282-1149"><a href="#cb282-1149" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("dryu", river, ignore.case = TRUE), "DRY UPPER", river)) %&gt;%</span></span>
<span id="cb282-1150"><a href="#cb282-1150" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("harr", river, ignore.case = TRUE), "HARRIS", river)) %&gt;%</span></span>
<span id="cb282-1151"><a href="#cb282-1151" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("undh", river, ignore.case = TRUE), "UNDERHILL", river)) %&gt;%</span></span>
<span id="cb282-1152"><a href="#cb282-1152" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("dcky", river, ignore.case = TRUE), "DICKEY", river))</span></span>
<span id="cb282-1153"><a href="#cb282-1153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1154"><a href="#cb282-1154" aria-hidden="true" tabindex="-1"></a><span class="in">#####################################################################################</span></span>
<span id="cb282-1155"><a href="#cb282-1155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1156"><a href="#cb282-1156" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove rows with repeating Total_Discharge values</span></span>
<span id="cb282-1157"><a href="#cb282-1157" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_7 &lt;- flow_tracker_7 %&gt;% </span></span>
<span id="cb282-1158"><a href="#cb282-1158" aria-hidden="true" tabindex="-1"></a><span class="in">  distinct(localEndTime, .keep_all = TRUE)</span></span>
<span id="cb282-1159"><a href="#cb282-1159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1160"><a href="#cb282-1160" aria-hidden="true" tabindex="-1"></a><span class="in">#####################################################################################</span></span>
<span id="cb282-1161"><a href="#cb282-1161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1162"><a href="#cb282-1162" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-1163"><a href="#cb282-1163" aria-hidden="true" tabindex="-1"></a><span class="in">head(flow_tracker_7)</span></span>
<span id="cb282-1164"><a href="#cb282-1164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1165"><a href="#cb282-1165" aria-hidden="true" tabindex="-1"></a><span class="in"># Write the final CSV file</span></span>
<span id="cb282-1166"><a href="#cb282-1166" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(flow_tracker_7, </span></span>
<span id="cb282-1167"><a href="#cb282-1167" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_7.csv", </span></span>
<span id="cb282-1168"><a href="#cb282-1168" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-1169"><a href="#cb282-1169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1170"><a href="#cb282-1170" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-1171"><a href="#cb282-1171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1172"><a href="#cb282-1172" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine flow tracker files for week 8}</span></span>
<span id="cb282-1173"><a href="#cb282-1173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1174"><a href="#cb282-1174" aria-hidden="true" tabindex="-1"></a><span class="in"># Define a function to search for files</span></span>
<span id="cb282-1175"><a href="#cb282-1175" aria-hidden="true" tabindex="-1"></a><span class="in">find_files &lt;- function(week_8_directory) {</span></span>
<span id="cb282-1176"><a href="#cb282-1176" aria-hidden="true" tabindex="-1"></a><span class="in">  week_8_files &lt;- list.files(path = week_8_directory, recursive = TRUE, full.names = TRUE)</span></span>
<span id="cb282-1177"><a href="#cb282-1177" aria-hidden="true" tabindex="-1"></a><span class="in">  return(week_8_files)</span></span>
<span id="cb282-1178"><a href="#cb282-1178" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-1179"><a href="#cb282-1179" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1180"><a href="#cb282-1180" aria-hidden="true" tabindex="-1"></a><span class="in"># Function to extract the required values from a single file and convert only Fahrenheit (°F) to Celsius</span></span>
<span id="cb282-1181"><a href="#cb282-1181" aria-hidden="true" tabindex="-1"></a><span class="in">extract_values &lt;- function(file_path) {</span></span>
<span id="cb282-1182"><a href="#cb282-1182" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1183"><a href="#cb282-1183" aria-hidden="true" tabindex="-1"></a><span class="in">  # Read the csv file</span></span>
<span id="cb282-1184"><a href="#cb282-1184" aria-hidden="true" tabindex="-1"></a><span class="in">  df &lt;- read.csv(file_path, header = FALSE, stringsAsFactors = FALSE)</span></span>
<span id="cb282-1185"><a href="#cb282-1185" aria-hidden="true" tabindex="-1"></a><span class="in">  colnames(df) &lt;- c("Column1", "Column2", "Column3")</span></span>
<span id="cb282-1186"><a href="#cb282-1186" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1187"><a href="#cb282-1187" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract values</span></span>
<span id="cb282-1188"><a href="#cb282-1188" aria-hidden="true" tabindex="-1"></a><span class="in">  local_end_time &lt;- df %&gt;% filter(Column1 == "Local_End_Time") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1189"><a href="#cb282-1189" aria-hidden="true" tabindex="-1"></a><span class="in">  site_name &lt;- df %&gt;% filter(Column1 == "Site_Name") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1190"><a href="#cb282-1190" aria-hidden="true" tabindex="-1"></a><span class="in">  total_discharge &lt;- df %&gt;% filter(Column1 == "Total_Discharge") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1191"><a href="#cb282-1191" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1192"><a href="#cb282-1192" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract the temperature value and unit</span></span>
<span id="cb282-1193"><a href="#cb282-1193" aria-hidden="true" tabindex="-1"></a><span class="in">  #mean_temp_value &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1194"><a href="#cb282-1194" aria-hidden="true" tabindex="-1"></a><span class="in">  #temp_unit &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column2) %&gt;% pull()</span></span>
<span id="cb282-1195"><a href="#cb282-1195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1196"><a href="#cb282-1196" aria-hidden="true" tabindex="-1"></a><span class="in">  # Convert only if the unit is Fahrenheit ("°F")</span></span>
<span id="cb282-1197"><a href="#cb282-1197" aria-hidden="true" tabindex="-1"></a><span class="in">  #if (temp_unit == "°F") {</span></span>
<span id="cb282-1198"><a href="#cb282-1198" aria-hidden="true" tabindex="-1"></a><span class="in">    #mean_temp_value &lt;- (as.numeric(mean_temp_value) - 32) * 5 / 9</span></span>
<span id="cb282-1199"><a href="#cb282-1199" aria-hidden="true" tabindex="-1"></a><span class="in">  #} else {</span></span>
<span id="cb282-1200"><a href="#cb282-1200" aria-hidden="true" tabindex="-1"></a><span class="in">    #mean_temp_value &lt;- as.numeric(mean_temp_value)  # Ensure it's numeric for Celsius values or NA</span></span>
<span id="cb282-1201"><a href="#cb282-1201" aria-hidden="true" tabindex="-1"></a><span class="in">  #}</span></span>
<span id="cb282-1202"><a href="#cb282-1202" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1203"><a href="#cb282-1203" aria-hidden="true" tabindex="-1"></a><span class="in">  # Round values to 2 decimal places</span></span>
<span id="cb282-1204"><a href="#cb282-1204" aria-hidden="true" tabindex="-1"></a><span class="in">  #mean_temp_value &lt;- round(mean_temp_value, 2)</span></span>
<span id="cb282-1205"><a href="#cb282-1205" aria-hidden="true" tabindex="-1"></a><span class="in">  total_discharge &lt;- round(as.numeric(total_discharge), 2)</span></span>
<span id="cb282-1206"><a href="#cb282-1206" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1207"><a href="#cb282-1207" aria-hidden="true" tabindex="-1"></a><span class="in">  data.frame(</span></span>
<span id="cb282-1208"><a href="#cb282-1208" aria-hidden="true" tabindex="-1"></a><span class="in">    localEndTime = local_end_time,</span></span>
<span id="cb282-1209"><a href="#cb282-1209" aria-hidden="true" tabindex="-1"></a><span class="in">    river = site_name,</span></span>
<span id="cb282-1210"><a href="#cb282-1210" aria-hidden="true" tabindex="-1"></a><span class="in">    totalDischarge = as.numeric(total_discharge),  # Ensure numeric type</span></span>
<span id="cb282-1211"><a href="#cb282-1211" aria-hidden="true" tabindex="-1"></a><span class="in">    #meanTemp = mean_temp_value,  # Already handled as numeric</span></span>
<span id="cb282-1212"><a href="#cb282-1212" aria-hidden="true" tabindex="-1"></a><span class="in">    stringsAsFactors = FALSE</span></span>
<span id="cb282-1213"><a href="#cb282-1213" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1214"><a href="#cb282-1214" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-1215"><a href="#cb282-1215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1216"><a href="#cb282-1216" aria-hidden="true" tabindex="-1"></a><span class="in">week_8_directory &lt;- "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/FlowTracker/FlowTrackerFiles/TAMEflow/Week8"</span></span>
<span id="cb282-1217"><a href="#cb282-1217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1218"><a href="#cb282-1218" aria-hidden="true" tabindex="-1"></a><span class="in"># Find all files in the week 8 directory</span></span>
<span id="cb282-1219"><a href="#cb282-1219" aria-hidden="true" tabindex="-1"></a><span class="in">week_8_files &lt;- find_files(week_8_directory)</span></span>
<span id="cb282-1220"><a href="#cb282-1220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1221"><a href="#cb282-1221" aria-hidden="true" tabindex="-1"></a><span class="in"># Initialize the result dataframe with the correct data types</span></span>
<span id="cb282-1222"><a href="#cb282-1222" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_8 &lt;- data.frame(</span></span>
<span id="cb282-1223"><a href="#cb282-1223" aria-hidden="true" tabindex="-1"></a><span class="in">  localEndTime = character(),</span></span>
<span id="cb282-1224"><a href="#cb282-1224" aria-hidden="true" tabindex="-1"></a><span class="in">  river = character(),</span></span>
<span id="cb282-1225"><a href="#cb282-1225" aria-hidden="true" tabindex="-1"></a><span class="in">  totalDischarge = numeric(),  # Initialize as numeric</span></span>
<span id="cb282-1226"><a href="#cb282-1226" aria-hidden="true" tabindex="-1"></a><span class="in">  #meanTemp = numeric(),  # Initialize as numeric</span></span>
<span id="cb282-1227"><a href="#cb282-1227" aria-hidden="true" tabindex="-1"></a><span class="in">  stringsAsFactors = FALSE</span></span>
<span id="cb282-1228"><a href="#cb282-1228" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb282-1229"><a href="#cb282-1229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1230"><a href="#cb282-1230" aria-hidden="true" tabindex="-1"></a><span class="in"># Loop through all files and extract values</span></span>
<span id="cb282-1231"><a href="#cb282-1231" aria-hidden="true" tabindex="-1"></a><span class="in">for (file in week_8_files) {</span></span>
<span id="cb282-1232"><a href="#cb282-1232" aria-hidden="true" tabindex="-1"></a><span class="in">  file_data &lt;- extract_values(file)</span></span>
<span id="cb282-1233"><a href="#cb282-1233" aria-hidden="true" tabindex="-1"></a><span class="in">  flow_tracker_8 &lt;- bind_rows(flow_tracker_8, file_data)</span></span>
<span id="cb282-1234"><a href="#cb282-1234" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-1235"><a href="#cb282-1235" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1236"><a href="#cb282-1236" aria-hidden="true" tabindex="-1"></a><span class="in"># Standardize site names</span></span>
<span id="cb282-1237"><a href="#cb282-1237" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_8 &lt;- flow_tracker_8 %&gt;%</span></span>
<span id="cb282-1238"><a href="#cb282-1238" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("buff", river, ignore.case = TRUE), "BUFFAM", river)) %&gt;%</span></span>
<span id="cb282-1239"><a href="#cb282-1239" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("dryu", river, ignore.case = TRUE), "DRY UPPER", river)) %&gt;%</span></span>
<span id="cb282-1240"><a href="#cb282-1240" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("harr", river, ignore.case = TRUE), "HARRIS", river)) %&gt;%</span></span>
<span id="cb282-1241"><a href="#cb282-1241" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("undh", river, ignore.case = TRUE), "UNDERHILL", river)) %&gt;%</span></span>
<span id="cb282-1242"><a href="#cb282-1242" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("dcky", river, ignore.case = TRUE), "DICKEY", river))</span></span>
<span id="cb282-1243"><a href="#cb282-1243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1244"><a href="#cb282-1244" aria-hidden="true" tabindex="-1"></a><span class="in">#####################################################################################</span></span>
<span id="cb282-1245"><a href="#cb282-1245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1246"><a href="#cb282-1246" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove rows with repeating Total_Discharge values</span></span>
<span id="cb282-1247"><a href="#cb282-1247" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_8 &lt;- flow_tracker_8 %&gt;% </span></span>
<span id="cb282-1248"><a href="#cb282-1248" aria-hidden="true" tabindex="-1"></a><span class="in">  distinct(localEndTime, .keep_all = TRUE)</span></span>
<span id="cb282-1249"><a href="#cb282-1249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1250"><a href="#cb282-1250" aria-hidden="true" tabindex="-1"></a><span class="in">#####################################################################################</span></span>
<span id="cb282-1251"><a href="#cb282-1251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1252"><a href="#cb282-1252" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-1253"><a href="#cb282-1253" aria-hidden="true" tabindex="-1"></a><span class="in">head(flow_tracker_8)</span></span>
<span id="cb282-1254"><a href="#cb282-1254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1255"><a href="#cb282-1255" aria-hidden="true" tabindex="-1"></a><span class="in"># Write the final CSV file</span></span>
<span id="cb282-1256"><a href="#cb282-1256" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(flow_tracker_8, </span></span>
<span id="cb282-1257"><a href="#cb282-1257" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_8.csv", </span></span>
<span id="cb282-1258"><a href="#cb282-1258" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-1259"><a href="#cb282-1259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1260"><a href="#cb282-1260" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-1261"><a href="#cb282-1261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1262"><a href="#cb282-1262" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine flow tracker files for week 9}</span></span>
<span id="cb282-1263"><a href="#cb282-1263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1264"><a href="#cb282-1264" aria-hidden="true" tabindex="-1"></a><span class="in"># Define a function to search for files</span></span>
<span id="cb282-1265"><a href="#cb282-1265" aria-hidden="true" tabindex="-1"></a><span class="in">find_files &lt;- function(week_9_directory) {</span></span>
<span id="cb282-1266"><a href="#cb282-1266" aria-hidden="true" tabindex="-1"></a><span class="in">  week_9_files &lt;- list.files(path = week_9_directory, recursive = TRUE, full.names = TRUE)</span></span>
<span id="cb282-1267"><a href="#cb282-1267" aria-hidden="true" tabindex="-1"></a><span class="in">  return(week_9_files)</span></span>
<span id="cb282-1268"><a href="#cb282-1268" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-1269"><a href="#cb282-1269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1270"><a href="#cb282-1270" aria-hidden="true" tabindex="-1"></a><span class="in"># Function to extract the required values from a single file and convert only Fahrenheit (°F) to Celsius</span></span>
<span id="cb282-1271"><a href="#cb282-1271" aria-hidden="true" tabindex="-1"></a><span class="in">extract_values &lt;- function(file_path) {</span></span>
<span id="cb282-1272"><a href="#cb282-1272" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1273"><a href="#cb282-1273" aria-hidden="true" tabindex="-1"></a><span class="in">  # Read the csv file</span></span>
<span id="cb282-1274"><a href="#cb282-1274" aria-hidden="true" tabindex="-1"></a><span class="in">  df &lt;- read.csv(file_path, header = FALSE, stringsAsFactors = FALSE)</span></span>
<span id="cb282-1275"><a href="#cb282-1275" aria-hidden="true" tabindex="-1"></a><span class="in">  colnames(df) &lt;- c("Column1", "Column2", "Column3")</span></span>
<span id="cb282-1276"><a href="#cb282-1276" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1277"><a href="#cb282-1277" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract values</span></span>
<span id="cb282-1278"><a href="#cb282-1278" aria-hidden="true" tabindex="-1"></a><span class="in">  local_end_time &lt;- df %&gt;% filter(Column1 == "Local_End_Time") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1279"><a href="#cb282-1279" aria-hidden="true" tabindex="-1"></a><span class="in">  site_name &lt;- df %&gt;% filter(Column1 == "Site_Name") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1280"><a href="#cb282-1280" aria-hidden="true" tabindex="-1"></a><span class="in">  total_discharge &lt;- df %&gt;% filter(Column1 == "Total_Discharge") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1281"><a href="#cb282-1281" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1282"><a href="#cb282-1282" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract the temperature value and unit</span></span>
<span id="cb282-1283"><a href="#cb282-1283" aria-hidden="true" tabindex="-1"></a><span class="in">  #mean_temp_value &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1284"><a href="#cb282-1284" aria-hidden="true" tabindex="-1"></a><span class="in">  #temp_unit &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column2) %&gt;% pull()</span></span>
<span id="cb282-1285"><a href="#cb282-1285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1286"><a href="#cb282-1286" aria-hidden="true" tabindex="-1"></a><span class="in">  # Convert only if the unit is Fahrenheit ("°F")</span></span>
<span id="cb282-1287"><a href="#cb282-1287" aria-hidden="true" tabindex="-1"></a><span class="in">  #if (temp_unit == "°F") {</span></span>
<span id="cb282-1288"><a href="#cb282-1288" aria-hidden="true" tabindex="-1"></a><span class="in">    #mean_temp_value &lt;- (as.numeric(mean_temp_value) - 32) * 5 / 9</span></span>
<span id="cb282-1289"><a href="#cb282-1289" aria-hidden="true" tabindex="-1"></a><span class="in">  #} else {</span></span>
<span id="cb282-1290"><a href="#cb282-1290" aria-hidden="true" tabindex="-1"></a><span class="in">    #mean_temp_value &lt;- as.numeric(mean_temp_value)  # Ensure it's numeric for Celsius values or NA</span></span>
<span id="cb282-1291"><a href="#cb282-1291" aria-hidden="true" tabindex="-1"></a><span class="in">  #}</span></span>
<span id="cb282-1292"><a href="#cb282-1292" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1293"><a href="#cb282-1293" aria-hidden="true" tabindex="-1"></a><span class="in">  # Round values to 2 decimal places</span></span>
<span id="cb282-1294"><a href="#cb282-1294" aria-hidden="true" tabindex="-1"></a><span class="in">  #mean_temp_value &lt;- round(mean_temp_value, 2)</span></span>
<span id="cb282-1295"><a href="#cb282-1295" aria-hidden="true" tabindex="-1"></a><span class="in">  total_discharge &lt;- round(as.numeric(total_discharge), 2)</span></span>
<span id="cb282-1296"><a href="#cb282-1296" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1297"><a href="#cb282-1297" aria-hidden="true" tabindex="-1"></a><span class="in">  data.frame(</span></span>
<span id="cb282-1298"><a href="#cb282-1298" aria-hidden="true" tabindex="-1"></a><span class="in">    localEndTime = local_end_time,</span></span>
<span id="cb282-1299"><a href="#cb282-1299" aria-hidden="true" tabindex="-1"></a><span class="in">    river = site_name,</span></span>
<span id="cb282-1300"><a href="#cb282-1300" aria-hidden="true" tabindex="-1"></a><span class="in">    totalDischarge = as.numeric(total_discharge),  # Ensure numeric type</span></span>
<span id="cb282-1301"><a href="#cb282-1301" aria-hidden="true" tabindex="-1"></a><span class="in">    #meanTemp = mean_temp_value,  # Already handled as numeric</span></span>
<span id="cb282-1302"><a href="#cb282-1302" aria-hidden="true" tabindex="-1"></a><span class="in">    stringsAsFactors = FALSE</span></span>
<span id="cb282-1303"><a href="#cb282-1303" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1304"><a href="#cb282-1304" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-1305"><a href="#cb282-1305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1306"><a href="#cb282-1306" aria-hidden="true" tabindex="-1"></a><span class="in">week_9_directory &lt;- "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/FlowTracker/FlowTrackerFiles/TAMEflow/Week9"</span></span>
<span id="cb282-1307"><a href="#cb282-1307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1308"><a href="#cb282-1308" aria-hidden="true" tabindex="-1"></a><span class="in"># Find all files in the week 9 directory</span></span>
<span id="cb282-1309"><a href="#cb282-1309" aria-hidden="true" tabindex="-1"></a><span class="in">week_9_files &lt;- find_files(week_9_directory)</span></span>
<span id="cb282-1310"><a href="#cb282-1310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1311"><a href="#cb282-1311" aria-hidden="true" tabindex="-1"></a><span class="in"># Initialize the result dataframe with the correct data types</span></span>
<span id="cb282-1312"><a href="#cb282-1312" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_9 &lt;- data.frame(</span></span>
<span id="cb282-1313"><a href="#cb282-1313" aria-hidden="true" tabindex="-1"></a><span class="in">  localEndTime = character(),</span></span>
<span id="cb282-1314"><a href="#cb282-1314" aria-hidden="true" tabindex="-1"></a><span class="in">  river = character(),</span></span>
<span id="cb282-1315"><a href="#cb282-1315" aria-hidden="true" tabindex="-1"></a><span class="in">  totalDischarge = numeric(),  # Initialize as numeric</span></span>
<span id="cb282-1316"><a href="#cb282-1316" aria-hidden="true" tabindex="-1"></a><span class="in">  #meanTemp = numeric(),  # Initialize as numeric</span></span>
<span id="cb282-1317"><a href="#cb282-1317" aria-hidden="true" tabindex="-1"></a><span class="in">  stringsAsFactors = FALSE</span></span>
<span id="cb282-1318"><a href="#cb282-1318" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb282-1319"><a href="#cb282-1319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1320"><a href="#cb282-1320" aria-hidden="true" tabindex="-1"></a><span class="in"># Loop through all files and extract values</span></span>
<span id="cb282-1321"><a href="#cb282-1321" aria-hidden="true" tabindex="-1"></a><span class="in">for (file in week_9_files) {</span></span>
<span id="cb282-1322"><a href="#cb282-1322" aria-hidden="true" tabindex="-1"></a><span class="in">  file_data &lt;- extract_values(file)</span></span>
<span id="cb282-1323"><a href="#cb282-1323" aria-hidden="true" tabindex="-1"></a><span class="in">  flow_tracker_9 &lt;- bind_rows(flow_tracker_9, file_data)</span></span>
<span id="cb282-1324"><a href="#cb282-1324" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-1325"><a href="#cb282-1325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1326"><a href="#cb282-1326" aria-hidden="true" tabindex="-1"></a><span class="in"># Standardize site names</span></span>
<span id="cb282-1327"><a href="#cb282-1327" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_9 &lt;- flow_tracker_9 %&gt;%</span></span>
<span id="cb282-1328"><a href="#cb282-1328" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("buff", river, ignore.case = TRUE), "BUFFAM", river)) %&gt;%</span></span>
<span id="cb282-1329"><a href="#cb282-1329" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("dryu", river, ignore.case = TRUE), "DRY UPPER", river)) %&gt;%</span></span>
<span id="cb282-1330"><a href="#cb282-1330" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("harr", river, ignore.case = TRUE), "HARRIS", river)) %&gt;%</span></span>
<span id="cb282-1331"><a href="#cb282-1331" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("undh", river, ignore.case = TRUE), "UNDERHILL", river)) %&gt;%</span></span>
<span id="cb282-1332"><a href="#cb282-1332" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("dcky", river, ignore.case = TRUE), "DICKEY", river))</span></span>
<span id="cb282-1333"><a href="#cb282-1333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1334"><a href="#cb282-1334" aria-hidden="true" tabindex="-1"></a><span class="in">#####################################################################################</span></span>
<span id="cb282-1335"><a href="#cb282-1335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1336"><a href="#cb282-1336" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove rows with repeating Total_Discharge values</span></span>
<span id="cb282-1337"><a href="#cb282-1337" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_9 &lt;- flow_tracker_9 %&gt;% </span></span>
<span id="cb282-1338"><a href="#cb282-1338" aria-hidden="true" tabindex="-1"></a><span class="in">  distinct(localEndTime, .keep_all = TRUE)</span></span>
<span id="cb282-1339"><a href="#cb282-1339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1340"><a href="#cb282-1340" aria-hidden="true" tabindex="-1"></a><span class="in">#####################################################################################</span></span>
<span id="cb282-1341"><a href="#cb282-1341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1342"><a href="#cb282-1342" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-1343"><a href="#cb282-1343" aria-hidden="true" tabindex="-1"></a><span class="in">head(flow_tracker_9)</span></span>
<span id="cb282-1344"><a href="#cb282-1344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1345"><a href="#cb282-1345" aria-hidden="true" tabindex="-1"></a><span class="in"># Write the final CSV file</span></span>
<span id="cb282-1346"><a href="#cb282-1346" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(flow_tracker_9, </span></span>
<span id="cb282-1347"><a href="#cb282-1347" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_9.csv", </span></span>
<span id="cb282-1348"><a href="#cb282-1348" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-1349"><a href="#cb282-1349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1350"><a href="#cb282-1350" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-1351"><a href="#cb282-1351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1352"><a href="#cb282-1352" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine flow tracker files for week 10}</span></span>
<span id="cb282-1353"><a href="#cb282-1353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1354"><a href="#cb282-1354" aria-hidden="true" tabindex="-1"></a><span class="in"># Define a function to search for files</span></span>
<span id="cb282-1355"><a href="#cb282-1355" aria-hidden="true" tabindex="-1"></a><span class="in">find_files &lt;- function(week_10_directory) {</span></span>
<span id="cb282-1356"><a href="#cb282-1356" aria-hidden="true" tabindex="-1"></a><span class="in">  week_10_files &lt;- list.files(path = week_10_directory, recursive = TRUE, full.names = TRUE)</span></span>
<span id="cb282-1357"><a href="#cb282-1357" aria-hidden="true" tabindex="-1"></a><span class="in">  return(week_10_files)</span></span>
<span id="cb282-1358"><a href="#cb282-1358" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-1359"><a href="#cb282-1359" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1360"><a href="#cb282-1360" aria-hidden="true" tabindex="-1"></a><span class="in"># Function to extract the required values from a single file and convert only Fahrenheit (°F) to Celsius</span></span>
<span id="cb282-1361"><a href="#cb282-1361" aria-hidden="true" tabindex="-1"></a><span class="in">extract_values &lt;- function(file_path) {</span></span>
<span id="cb282-1362"><a href="#cb282-1362" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1363"><a href="#cb282-1363" aria-hidden="true" tabindex="-1"></a><span class="in">  # Read the csv file</span></span>
<span id="cb282-1364"><a href="#cb282-1364" aria-hidden="true" tabindex="-1"></a><span class="in">  df &lt;- read.csv(file_path, header = FALSE, stringsAsFactors = FALSE)</span></span>
<span id="cb282-1365"><a href="#cb282-1365" aria-hidden="true" tabindex="-1"></a><span class="in">  colnames(df) &lt;- c("Column1", "Column2", "Column3")</span></span>
<span id="cb282-1366"><a href="#cb282-1366" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1367"><a href="#cb282-1367" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract values</span></span>
<span id="cb282-1368"><a href="#cb282-1368" aria-hidden="true" tabindex="-1"></a><span class="in">  local_end_time &lt;- df %&gt;% filter(Column1 == "Local_End_Time") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1369"><a href="#cb282-1369" aria-hidden="true" tabindex="-1"></a><span class="in">  site_name &lt;- df %&gt;% filter(Column1 == "Site_Name") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1370"><a href="#cb282-1370" aria-hidden="true" tabindex="-1"></a><span class="in">  total_discharge &lt;- df %&gt;% filter(Column1 == "Total_Discharge") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1371"><a href="#cb282-1371" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1372"><a href="#cb282-1372" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract the temperature value and unit</span></span>
<span id="cb282-1373"><a href="#cb282-1373" aria-hidden="true" tabindex="-1"></a><span class="in">  #mean_temp_value &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1374"><a href="#cb282-1374" aria-hidden="true" tabindex="-1"></a><span class="in">  #temp_unit &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column2) %&gt;% pull()</span></span>
<span id="cb282-1375"><a href="#cb282-1375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1376"><a href="#cb282-1376" aria-hidden="true" tabindex="-1"></a><span class="in">  # Convert only if the unit is Fahrenheit ("°F")</span></span>
<span id="cb282-1377"><a href="#cb282-1377" aria-hidden="true" tabindex="-1"></a><span class="in">  #if (temp_unit == "°F") {</span></span>
<span id="cb282-1378"><a href="#cb282-1378" aria-hidden="true" tabindex="-1"></a><span class="in">    #mean_temp_value &lt;- (as.numeric(mean_temp_value) - 32) * 5 / 9</span></span>
<span id="cb282-1379"><a href="#cb282-1379" aria-hidden="true" tabindex="-1"></a><span class="in">  #} else {</span></span>
<span id="cb282-1380"><a href="#cb282-1380" aria-hidden="true" tabindex="-1"></a><span class="in">    #mean_temp_value &lt;- as.numeric(mean_temp_value)  # Ensure it's numeric for Celsius values or NA</span></span>
<span id="cb282-1381"><a href="#cb282-1381" aria-hidden="true" tabindex="-1"></a><span class="in">  #}</span></span>
<span id="cb282-1382"><a href="#cb282-1382" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1383"><a href="#cb282-1383" aria-hidden="true" tabindex="-1"></a><span class="in">  # Round values to 2 decimal places</span></span>
<span id="cb282-1384"><a href="#cb282-1384" aria-hidden="true" tabindex="-1"></a><span class="in">  #mean_temp_value &lt;- round(mean_temp_value, 2)</span></span>
<span id="cb282-1385"><a href="#cb282-1385" aria-hidden="true" tabindex="-1"></a><span class="in">  total_discharge &lt;- round(as.numeric(total_discharge), 2)</span></span>
<span id="cb282-1386"><a href="#cb282-1386" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1387"><a href="#cb282-1387" aria-hidden="true" tabindex="-1"></a><span class="in">  data.frame(</span></span>
<span id="cb282-1388"><a href="#cb282-1388" aria-hidden="true" tabindex="-1"></a><span class="in">    localEndTime = local_end_time,</span></span>
<span id="cb282-1389"><a href="#cb282-1389" aria-hidden="true" tabindex="-1"></a><span class="in">    river = site_name,</span></span>
<span id="cb282-1390"><a href="#cb282-1390" aria-hidden="true" tabindex="-1"></a><span class="in">    totalDischarge = as.numeric(total_discharge),  # Ensure numeric type</span></span>
<span id="cb282-1391"><a href="#cb282-1391" aria-hidden="true" tabindex="-1"></a><span class="in">    #meanTemp = mean_temp_value,  # Already handled as numeric</span></span>
<span id="cb282-1392"><a href="#cb282-1392" aria-hidden="true" tabindex="-1"></a><span class="in">    stringsAsFactors = FALSE</span></span>
<span id="cb282-1393"><a href="#cb282-1393" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1394"><a href="#cb282-1394" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-1395"><a href="#cb282-1395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1396"><a href="#cb282-1396" aria-hidden="true" tabindex="-1"></a><span class="in">week_10_directory &lt;- "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/FlowTracker/FlowTrackerFiles/TAMEflow/Week10"</span></span>
<span id="cb282-1397"><a href="#cb282-1397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1398"><a href="#cb282-1398" aria-hidden="true" tabindex="-1"></a><span class="in"># Find all files in the week 10 directory</span></span>
<span id="cb282-1399"><a href="#cb282-1399" aria-hidden="true" tabindex="-1"></a><span class="in">week_10_files &lt;- find_files(week_10_directory)</span></span>
<span id="cb282-1400"><a href="#cb282-1400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1401"><a href="#cb282-1401" aria-hidden="true" tabindex="-1"></a><span class="in"># Initialize the result dataframe with the correct data types</span></span>
<span id="cb282-1402"><a href="#cb282-1402" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_10 &lt;- data.frame(</span></span>
<span id="cb282-1403"><a href="#cb282-1403" aria-hidden="true" tabindex="-1"></a><span class="in">  localEndTime = character(),</span></span>
<span id="cb282-1404"><a href="#cb282-1404" aria-hidden="true" tabindex="-1"></a><span class="in">  river = character(),</span></span>
<span id="cb282-1405"><a href="#cb282-1405" aria-hidden="true" tabindex="-1"></a><span class="in">  totalDischarge = numeric(),  # Initialize as numeric</span></span>
<span id="cb282-1406"><a href="#cb282-1406" aria-hidden="true" tabindex="-1"></a><span class="in">  #meanTemp = numeric(),  # Initialize as numeric</span></span>
<span id="cb282-1407"><a href="#cb282-1407" aria-hidden="true" tabindex="-1"></a><span class="in">  stringsAsFactors = FALSE</span></span>
<span id="cb282-1408"><a href="#cb282-1408" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb282-1409"><a href="#cb282-1409" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1410"><a href="#cb282-1410" aria-hidden="true" tabindex="-1"></a><span class="in"># Loop through all files and extract values</span></span>
<span id="cb282-1411"><a href="#cb282-1411" aria-hidden="true" tabindex="-1"></a><span class="in">for (file in week_10_files) {</span></span>
<span id="cb282-1412"><a href="#cb282-1412" aria-hidden="true" tabindex="-1"></a><span class="in">  file_data &lt;- extract_values(file)</span></span>
<span id="cb282-1413"><a href="#cb282-1413" aria-hidden="true" tabindex="-1"></a><span class="in">  flow_tracker_10 &lt;- bind_rows(flow_tracker_10, file_data)</span></span>
<span id="cb282-1414"><a href="#cb282-1414" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-1415"><a href="#cb282-1415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1416"><a href="#cb282-1416" aria-hidden="true" tabindex="-1"></a><span class="in"># Standardize site names</span></span>
<span id="cb282-1417"><a href="#cb282-1417" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_10 &lt;- flow_tracker_10 %&gt;%</span></span>
<span id="cb282-1418"><a href="#cb282-1418" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("buff", river, ignore.case = TRUE), "BUFFAM", river)) %&gt;%</span></span>
<span id="cb282-1419"><a href="#cb282-1419" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("dryu", river, ignore.case = TRUE), "DRY UPPER", river)) %&gt;%</span></span>
<span id="cb282-1420"><a href="#cb282-1420" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("harr", river, ignore.case = TRUE), "HARRIS", river)) %&gt;%</span></span>
<span id="cb282-1421"><a href="#cb282-1421" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("undh", river, ignore.case = TRUE), "UNDERHILL", river)) %&gt;%</span></span>
<span id="cb282-1422"><a href="#cb282-1422" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("dcky", river, ignore.case = TRUE), "DICKEY", river))</span></span>
<span id="cb282-1423"><a href="#cb282-1423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1424"><a href="#cb282-1424" aria-hidden="true" tabindex="-1"></a><span class="in">#####################################################################################</span></span>
<span id="cb282-1425"><a href="#cb282-1425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1426"><a href="#cb282-1426" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove rows with repeating Total_Discharge values</span></span>
<span id="cb282-1427"><a href="#cb282-1427" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_10 &lt;- flow_tracker_10 %&gt;% </span></span>
<span id="cb282-1428"><a href="#cb282-1428" aria-hidden="true" tabindex="-1"></a><span class="in">  distinct(localEndTime, .keep_all = TRUE)</span></span>
<span id="cb282-1429"><a href="#cb282-1429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1430"><a href="#cb282-1430" aria-hidden="true" tabindex="-1"></a><span class="in">#####################################################################################</span></span>
<span id="cb282-1431"><a href="#cb282-1431" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1432"><a href="#cb282-1432" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-1433"><a href="#cb282-1433" aria-hidden="true" tabindex="-1"></a><span class="in">head(flow_tracker_10)</span></span>
<span id="cb282-1434"><a href="#cb282-1434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1435"><a href="#cb282-1435" aria-hidden="true" tabindex="-1"></a><span class="in"># Write the final CSV file</span></span>
<span id="cb282-1436"><a href="#cb282-1436" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(flow_tracker_10, </span></span>
<span id="cb282-1437"><a href="#cb282-1437" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_10.csv", </span></span>
<span id="cb282-1438"><a href="#cb282-1438" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-1439"><a href="#cb282-1439" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1440"><a href="#cb282-1440" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-1441"><a href="#cb282-1441" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1442"><a href="#cb282-1442" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine flow tracker files for week 11}</span></span>
<span id="cb282-1443"><a href="#cb282-1443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1444"><a href="#cb282-1444" aria-hidden="true" tabindex="-1"></a><span class="in"># Define a function to search for files</span></span>
<span id="cb282-1445"><a href="#cb282-1445" aria-hidden="true" tabindex="-1"></a><span class="in">find_files &lt;- function(week_11_directory) {</span></span>
<span id="cb282-1446"><a href="#cb282-1446" aria-hidden="true" tabindex="-1"></a><span class="in">  week_11_files &lt;- list.files(path = week_11_directory, recursive = TRUE, full.names = TRUE)</span></span>
<span id="cb282-1447"><a href="#cb282-1447" aria-hidden="true" tabindex="-1"></a><span class="in">  return(week_11_files)</span></span>
<span id="cb282-1448"><a href="#cb282-1448" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-1449"><a href="#cb282-1449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1450"><a href="#cb282-1450" aria-hidden="true" tabindex="-1"></a><span class="in"># Function to extract the required values from a single file and convert only Fahrenheit (°F) to Celsius</span></span>
<span id="cb282-1451"><a href="#cb282-1451" aria-hidden="true" tabindex="-1"></a><span class="in">extract_values &lt;- function(file_path) {</span></span>
<span id="cb282-1452"><a href="#cb282-1452" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1453"><a href="#cb282-1453" aria-hidden="true" tabindex="-1"></a><span class="in">  # Read the csv file</span></span>
<span id="cb282-1454"><a href="#cb282-1454" aria-hidden="true" tabindex="-1"></a><span class="in">  df &lt;- read.csv(file_path, header = FALSE, stringsAsFactors = FALSE)</span></span>
<span id="cb282-1455"><a href="#cb282-1455" aria-hidden="true" tabindex="-1"></a><span class="in">  colnames(df) &lt;- c("Column1", "Column2", "Column3")</span></span>
<span id="cb282-1456"><a href="#cb282-1456" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1457"><a href="#cb282-1457" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract values</span></span>
<span id="cb282-1458"><a href="#cb282-1458" aria-hidden="true" tabindex="-1"></a><span class="in">  local_end_time &lt;- df %&gt;% filter(Column1 == "Local_End_Time") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1459"><a href="#cb282-1459" aria-hidden="true" tabindex="-1"></a><span class="in">  site_name &lt;- df %&gt;% filter(Column1 == "Site_Name") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1460"><a href="#cb282-1460" aria-hidden="true" tabindex="-1"></a><span class="in">  total_discharge &lt;- df %&gt;% filter(Column1 == "Total_Discharge") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1461"><a href="#cb282-1461" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1462"><a href="#cb282-1462" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract the temperature value and unit</span></span>
<span id="cb282-1463"><a href="#cb282-1463" aria-hidden="true" tabindex="-1"></a><span class="in">  #mean_temp_value &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1464"><a href="#cb282-1464" aria-hidden="true" tabindex="-1"></a><span class="in">  #temp_unit &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column2) %&gt;% pull()</span></span>
<span id="cb282-1465"><a href="#cb282-1465" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1466"><a href="#cb282-1466" aria-hidden="true" tabindex="-1"></a><span class="in">  # Convert only if the unit is Fahrenheit ("°F")</span></span>
<span id="cb282-1467"><a href="#cb282-1467" aria-hidden="true" tabindex="-1"></a><span class="in">  #if (temp_unit == "°F") {</span></span>
<span id="cb282-1468"><a href="#cb282-1468" aria-hidden="true" tabindex="-1"></a><span class="in">    #mean_temp_value &lt;- (as.numeric(mean_temp_value) - 32) * 5 / 9</span></span>
<span id="cb282-1469"><a href="#cb282-1469" aria-hidden="true" tabindex="-1"></a><span class="in">  #} else {</span></span>
<span id="cb282-1470"><a href="#cb282-1470" aria-hidden="true" tabindex="-1"></a><span class="in">    #mean_temp_value &lt;- as.numeric(mean_temp_value)  # Ensure it's numeric for Celsius values or NA</span></span>
<span id="cb282-1471"><a href="#cb282-1471" aria-hidden="true" tabindex="-1"></a><span class="in">  #}</span></span>
<span id="cb282-1472"><a href="#cb282-1472" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1473"><a href="#cb282-1473" aria-hidden="true" tabindex="-1"></a><span class="in">  # Round values to 2 decimal places</span></span>
<span id="cb282-1474"><a href="#cb282-1474" aria-hidden="true" tabindex="-1"></a><span class="in">  #mean_temp_value &lt;- round(mean_temp_value, 2)</span></span>
<span id="cb282-1475"><a href="#cb282-1475" aria-hidden="true" tabindex="-1"></a><span class="in">  total_discharge &lt;- round(as.numeric(total_discharge), 2)</span></span>
<span id="cb282-1476"><a href="#cb282-1476" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1477"><a href="#cb282-1477" aria-hidden="true" tabindex="-1"></a><span class="in">  data.frame(</span></span>
<span id="cb282-1478"><a href="#cb282-1478" aria-hidden="true" tabindex="-1"></a><span class="in">    localEndTime = local_end_time,</span></span>
<span id="cb282-1479"><a href="#cb282-1479" aria-hidden="true" tabindex="-1"></a><span class="in">    river = site_name,</span></span>
<span id="cb282-1480"><a href="#cb282-1480" aria-hidden="true" tabindex="-1"></a><span class="in">    totalDischarge = as.numeric(total_discharge),  # Ensure numeric type</span></span>
<span id="cb282-1481"><a href="#cb282-1481" aria-hidden="true" tabindex="-1"></a><span class="in">    #meanTemp = mean_temp_value,  # Already handled as numeric</span></span>
<span id="cb282-1482"><a href="#cb282-1482" aria-hidden="true" tabindex="-1"></a><span class="in">    stringsAsFactors = FALSE</span></span>
<span id="cb282-1483"><a href="#cb282-1483" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1484"><a href="#cb282-1484" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-1485"><a href="#cb282-1485" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1486"><a href="#cb282-1486" aria-hidden="true" tabindex="-1"></a><span class="in">week_11_directory &lt;- "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/FlowTracker/FlowTrackerFiles/TAMEflow/Week11"</span></span>
<span id="cb282-1487"><a href="#cb282-1487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1488"><a href="#cb282-1488" aria-hidden="true" tabindex="-1"></a><span class="in"># Find all files in the week 11 directory</span></span>
<span id="cb282-1489"><a href="#cb282-1489" aria-hidden="true" tabindex="-1"></a><span class="in">week_11_files &lt;- find_files(week_11_directory)</span></span>
<span id="cb282-1490"><a href="#cb282-1490" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1491"><a href="#cb282-1491" aria-hidden="true" tabindex="-1"></a><span class="in"># Initialize the result dataframe with the correct data types</span></span>
<span id="cb282-1492"><a href="#cb282-1492" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_11 &lt;- data.frame(</span></span>
<span id="cb282-1493"><a href="#cb282-1493" aria-hidden="true" tabindex="-1"></a><span class="in">  localEndTime = character(),</span></span>
<span id="cb282-1494"><a href="#cb282-1494" aria-hidden="true" tabindex="-1"></a><span class="in">  river = character(),</span></span>
<span id="cb282-1495"><a href="#cb282-1495" aria-hidden="true" tabindex="-1"></a><span class="in">  totalDischarge = numeric(),  # Initialize as numeric</span></span>
<span id="cb282-1496"><a href="#cb282-1496" aria-hidden="true" tabindex="-1"></a><span class="in">  #meanTemp = numeric(),  # Initialize as numeric</span></span>
<span id="cb282-1497"><a href="#cb282-1497" aria-hidden="true" tabindex="-1"></a><span class="in">  stringsAsFactors = FALSE</span></span>
<span id="cb282-1498"><a href="#cb282-1498" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb282-1499"><a href="#cb282-1499" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1500"><a href="#cb282-1500" aria-hidden="true" tabindex="-1"></a><span class="in"># Loop through all files and extract values</span></span>
<span id="cb282-1501"><a href="#cb282-1501" aria-hidden="true" tabindex="-1"></a><span class="in">for (file in week_11_files) {</span></span>
<span id="cb282-1502"><a href="#cb282-1502" aria-hidden="true" tabindex="-1"></a><span class="in">  file_data &lt;- extract_values(file)</span></span>
<span id="cb282-1503"><a href="#cb282-1503" aria-hidden="true" tabindex="-1"></a><span class="in">  flow_tracker_11 &lt;- bind_rows(flow_tracker_11, file_data)</span></span>
<span id="cb282-1504"><a href="#cb282-1504" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-1505"><a href="#cb282-1505" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1506"><a href="#cb282-1506" aria-hidden="true" tabindex="-1"></a><span class="in"># Standardize site names</span></span>
<span id="cb282-1507"><a href="#cb282-1507" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_11 &lt;- flow_tracker_11 %&gt;%</span></span>
<span id="cb282-1508"><a href="#cb282-1508" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("buff", river, ignore.case = TRUE), "BUFFAM", river)) %&gt;%</span></span>
<span id="cb282-1509"><a href="#cb282-1509" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("dryu", river, ignore.case = TRUE), "DRY UPPER", river)) %&gt;%</span></span>
<span id="cb282-1510"><a href="#cb282-1510" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("harr", river, ignore.case = TRUE), "HARRIS", river)) %&gt;%</span></span>
<span id="cb282-1511"><a href="#cb282-1511" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("undh", river, ignore.case = TRUE), "UNDERHILL", river)) %&gt;%</span></span>
<span id="cb282-1512"><a href="#cb282-1512" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("dcky", river, ignore.case = TRUE), "DICKEY", river))</span></span>
<span id="cb282-1513"><a href="#cb282-1513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1514"><a href="#cb282-1514" aria-hidden="true" tabindex="-1"></a><span class="in">#####################################################################################</span></span>
<span id="cb282-1515"><a href="#cb282-1515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1516"><a href="#cb282-1516" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove rows with repeating Total_Discharge values</span></span>
<span id="cb282-1517"><a href="#cb282-1517" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_11 &lt;- flow_tracker_11 %&gt;% </span></span>
<span id="cb282-1518"><a href="#cb282-1518" aria-hidden="true" tabindex="-1"></a><span class="in">  distinct(localEndTime, .keep_all = TRUE)</span></span>
<span id="cb282-1519"><a href="#cb282-1519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1520"><a href="#cb282-1520" aria-hidden="true" tabindex="-1"></a><span class="in">#####################################################################################</span></span>
<span id="cb282-1521"><a href="#cb282-1521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1522"><a href="#cb282-1522" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-1523"><a href="#cb282-1523" aria-hidden="true" tabindex="-1"></a><span class="in">head(flow_tracker_11)</span></span>
<span id="cb282-1524"><a href="#cb282-1524" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1525"><a href="#cb282-1525" aria-hidden="true" tabindex="-1"></a><span class="in"># Write the final CSV file</span></span>
<span id="cb282-1526"><a href="#cb282-1526" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(flow_tracker_11, </span></span>
<span id="cb282-1527"><a href="#cb282-1527" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_11.csv",</span></span>
<span id="cb282-1528"><a href="#cb282-1528" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-1529"><a href="#cb282-1529" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1530"><a href="#cb282-1530" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-1531"><a href="#cb282-1531" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1532"><a href="#cb282-1532" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine flow tracker files for week 12}</span></span>
<span id="cb282-1533"><a href="#cb282-1533" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1534"><a href="#cb282-1534" aria-hidden="true" tabindex="-1"></a><span class="in"># Define a function to search for files</span></span>
<span id="cb282-1535"><a href="#cb282-1535" aria-hidden="true" tabindex="-1"></a><span class="in">find_files &lt;- function(week_12_directory) {</span></span>
<span id="cb282-1536"><a href="#cb282-1536" aria-hidden="true" tabindex="-1"></a><span class="in">  week_12_files &lt;- list.files(path = week_12_directory, recursive = TRUE, full.names = TRUE)</span></span>
<span id="cb282-1537"><a href="#cb282-1537" aria-hidden="true" tabindex="-1"></a><span class="in">  return(week_12_files)</span></span>
<span id="cb282-1538"><a href="#cb282-1538" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-1539"><a href="#cb282-1539" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1540"><a href="#cb282-1540" aria-hidden="true" tabindex="-1"></a><span class="in"># Function to extract the required values from a single file and convert only Fahrenheit (°F) to Celsius</span></span>
<span id="cb282-1541"><a href="#cb282-1541" aria-hidden="true" tabindex="-1"></a><span class="in">extract_values &lt;- function(file_path) {</span></span>
<span id="cb282-1542"><a href="#cb282-1542" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1543"><a href="#cb282-1543" aria-hidden="true" tabindex="-1"></a><span class="in">  # Read the csv file</span></span>
<span id="cb282-1544"><a href="#cb282-1544" aria-hidden="true" tabindex="-1"></a><span class="in">  df &lt;- read.csv(file_path, header = FALSE, stringsAsFactors = FALSE)</span></span>
<span id="cb282-1545"><a href="#cb282-1545" aria-hidden="true" tabindex="-1"></a><span class="in">  colnames(df) &lt;- c("Column1", "Column2", "Column3")</span></span>
<span id="cb282-1546"><a href="#cb282-1546" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1547"><a href="#cb282-1547" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract values</span></span>
<span id="cb282-1548"><a href="#cb282-1548" aria-hidden="true" tabindex="-1"></a><span class="in">  local_end_time &lt;- df %&gt;% filter(Column1 == "Local_End_Time") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1549"><a href="#cb282-1549" aria-hidden="true" tabindex="-1"></a><span class="in">  site_name &lt;- df %&gt;% filter(Column1 == "Site_Name") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1550"><a href="#cb282-1550" aria-hidden="true" tabindex="-1"></a><span class="in">  total_discharge &lt;- df %&gt;% filter(Column1 == "Total_Discharge") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1551"><a href="#cb282-1551" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1552"><a href="#cb282-1552" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract the temperature value and unit</span></span>
<span id="cb282-1553"><a href="#cb282-1553" aria-hidden="true" tabindex="-1"></a><span class="in">  #mean_temp_value &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column3) %&gt;% pull()</span></span>
<span id="cb282-1554"><a href="#cb282-1554" aria-hidden="true" tabindex="-1"></a><span class="in">  #temp_unit &lt;- df %&gt;% filter(Column1 == "Mean_Temp") %&gt;% select(Column2) %&gt;% pull()</span></span>
<span id="cb282-1555"><a href="#cb282-1555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1556"><a href="#cb282-1556" aria-hidden="true" tabindex="-1"></a><span class="in">  # Convert only if the unit is Fahrenheit ("°F")</span></span>
<span id="cb282-1557"><a href="#cb282-1557" aria-hidden="true" tabindex="-1"></a><span class="in">  #if (temp_unit == "°F") {</span></span>
<span id="cb282-1558"><a href="#cb282-1558" aria-hidden="true" tabindex="-1"></a><span class="in">    #mean_temp_value &lt;- (as.numeric(mean_temp_value) - 32) * 5 / 9</span></span>
<span id="cb282-1559"><a href="#cb282-1559" aria-hidden="true" tabindex="-1"></a><span class="in">  #} else {</span></span>
<span id="cb282-1560"><a href="#cb282-1560" aria-hidden="true" tabindex="-1"></a><span class="in">    #mean_temp_value &lt;- as.numeric(mean_temp_value)  # Ensure it's numeric for Celsius values or NA</span></span>
<span id="cb282-1561"><a href="#cb282-1561" aria-hidden="true" tabindex="-1"></a><span class="in">  #}</span></span>
<span id="cb282-1562"><a href="#cb282-1562" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1563"><a href="#cb282-1563" aria-hidden="true" tabindex="-1"></a><span class="in">  # Round values to 2 decimal places</span></span>
<span id="cb282-1564"><a href="#cb282-1564" aria-hidden="true" tabindex="-1"></a><span class="in">  #mean_temp_value &lt;- round(mean_temp_value, 2)</span></span>
<span id="cb282-1565"><a href="#cb282-1565" aria-hidden="true" tabindex="-1"></a><span class="in">  total_discharge &lt;- round(as.numeric(total_discharge), 2)</span></span>
<span id="cb282-1566"><a href="#cb282-1566" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-1567"><a href="#cb282-1567" aria-hidden="true" tabindex="-1"></a><span class="in">  data.frame(</span></span>
<span id="cb282-1568"><a href="#cb282-1568" aria-hidden="true" tabindex="-1"></a><span class="in">    localEndTime = local_end_time,</span></span>
<span id="cb282-1569"><a href="#cb282-1569" aria-hidden="true" tabindex="-1"></a><span class="in">    river = site_name,</span></span>
<span id="cb282-1570"><a href="#cb282-1570" aria-hidden="true" tabindex="-1"></a><span class="in">    totalDischarge = as.numeric(total_discharge),  # Ensure numeric type</span></span>
<span id="cb282-1571"><a href="#cb282-1571" aria-hidden="true" tabindex="-1"></a><span class="in">    #meanTemp = mean_temp_value,  # Already handled as numeric</span></span>
<span id="cb282-1572"><a href="#cb282-1572" aria-hidden="true" tabindex="-1"></a><span class="in">    stringsAsFactors = FALSE</span></span>
<span id="cb282-1573"><a href="#cb282-1573" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1574"><a href="#cb282-1574" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-1575"><a href="#cb282-1575" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1576"><a href="#cb282-1576" aria-hidden="true" tabindex="-1"></a><span class="in">week_12_directory &lt;- "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/FlowTracker/FlowTrackerFiles/TAMEflow/Week12"</span></span>
<span id="cb282-1577"><a href="#cb282-1577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1578"><a href="#cb282-1578" aria-hidden="true" tabindex="-1"></a><span class="in"># Find all files in the week 12 directory</span></span>
<span id="cb282-1579"><a href="#cb282-1579" aria-hidden="true" tabindex="-1"></a><span class="in">week_12_files &lt;- find_files(week_12_directory)</span></span>
<span id="cb282-1580"><a href="#cb282-1580" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1581"><a href="#cb282-1581" aria-hidden="true" tabindex="-1"></a><span class="in"># Initialize the result dataframe with the correct data types</span></span>
<span id="cb282-1582"><a href="#cb282-1582" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_12 &lt;- data.frame(</span></span>
<span id="cb282-1583"><a href="#cb282-1583" aria-hidden="true" tabindex="-1"></a><span class="in">  localEndTime = character(),</span></span>
<span id="cb282-1584"><a href="#cb282-1584" aria-hidden="true" tabindex="-1"></a><span class="in">  river = character(),</span></span>
<span id="cb282-1585"><a href="#cb282-1585" aria-hidden="true" tabindex="-1"></a><span class="in">  totalDischarge = numeric(),  # Initialize as numeric</span></span>
<span id="cb282-1586"><a href="#cb282-1586" aria-hidden="true" tabindex="-1"></a><span class="in">  #meanTemp = numeric(),  # Initialize as numeric</span></span>
<span id="cb282-1587"><a href="#cb282-1587" aria-hidden="true" tabindex="-1"></a><span class="in">  stringsAsFactors = FALSE</span></span>
<span id="cb282-1588"><a href="#cb282-1588" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb282-1589"><a href="#cb282-1589" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1590"><a href="#cb282-1590" aria-hidden="true" tabindex="-1"></a><span class="in"># Loop through all files and extract values</span></span>
<span id="cb282-1591"><a href="#cb282-1591" aria-hidden="true" tabindex="-1"></a><span class="in">for (file in week_12_files) {</span></span>
<span id="cb282-1592"><a href="#cb282-1592" aria-hidden="true" tabindex="-1"></a><span class="in">  file_data &lt;- extract_values(file)</span></span>
<span id="cb282-1593"><a href="#cb282-1593" aria-hidden="true" tabindex="-1"></a><span class="in">  flow_tracker_12 &lt;- bind_rows(flow_tracker_12, file_data)</span></span>
<span id="cb282-1594"><a href="#cb282-1594" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-1595"><a href="#cb282-1595" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1596"><a href="#cb282-1596" aria-hidden="true" tabindex="-1"></a><span class="in"># Standardize site names</span></span>
<span id="cb282-1597"><a href="#cb282-1597" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_12 &lt;- flow_tracker_12 %&gt;%</span></span>
<span id="cb282-1598"><a href="#cb282-1598" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("buff", river, ignore.case = TRUE), "BUFFAM", river)) %&gt;%</span></span>
<span id="cb282-1599"><a href="#cb282-1599" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("dryu", river, ignore.case = TRUE), "DRY UPPER", river)) %&gt;%</span></span>
<span id="cb282-1600"><a href="#cb282-1600" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("harr", river, ignore.case = TRUE), "HARRIS", river)) %&gt;%</span></span>
<span id="cb282-1601"><a href="#cb282-1601" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("undh", river, ignore.case = TRUE), "UNDERHILL", river)) %&gt;%</span></span>
<span id="cb282-1602"><a href="#cb282-1602" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = ifelse(grepl("dcky", river, ignore.case = TRUE), "DICKEY", river))</span></span>
<span id="cb282-1603"><a href="#cb282-1603" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1604"><a href="#cb282-1604" aria-hidden="true" tabindex="-1"></a><span class="in">#####################################################################################</span></span>
<span id="cb282-1605"><a href="#cb282-1605" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1606"><a href="#cb282-1606" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove rows with repeating Total_Discharge values</span></span>
<span id="cb282-1607"><a href="#cb282-1607" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_12 &lt;- flow_tracker_12 %&gt;% </span></span>
<span id="cb282-1608"><a href="#cb282-1608" aria-hidden="true" tabindex="-1"></a><span class="in">  distinct(localEndTime, .keep_all = TRUE)</span></span>
<span id="cb282-1609"><a href="#cb282-1609" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1610"><a href="#cb282-1610" aria-hidden="true" tabindex="-1"></a><span class="in">#####################################################################################</span></span>
<span id="cb282-1611"><a href="#cb282-1611" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1612"><a href="#cb282-1612" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-1613"><a href="#cb282-1613" aria-hidden="true" tabindex="-1"></a><span class="in">head(flow_tracker_12)</span></span>
<span id="cb282-1614"><a href="#cb282-1614" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1615"><a href="#cb282-1615" aria-hidden="true" tabindex="-1"></a><span class="in"># Write the final CSV file</span></span>
<span id="cb282-1616"><a href="#cb282-1616" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(flow_tracker_12, </span></span>
<span id="cb282-1617"><a href="#cb282-1617" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_12.csv", </span></span>
<span id="cb282-1618"><a href="#cb282-1618" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-1619"><a href="#cb282-1619" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1620"><a href="#cb282-1620" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-1621"><a href="#cb282-1621" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1622"><a href="#cb282-1622" aria-hidden="true" tabindex="-1"></a><span class="fu">## Preparing Flow Tracker Files</span></span>
<span id="cb282-1623"><a href="#cb282-1623" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1624"><a href="#cb282-1624" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the flow week 1}</span></span>
<span id="cb282-1625"><a href="#cb282-1625" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1626"><a href="#cb282-1626" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the flow data</span></span>
<span id="cb282-1627"><a href="#cb282-1627" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_1 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_1.csv")</span></span>
<span id="cb282-1628"><a href="#cb282-1628" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1629"><a href="#cb282-1629" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert the localEndTime column into a DateTime column</span></span>
<span id="cb282-1630"><a href="#cb282-1630" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_1$dateTime_EDT &lt;- as.POSIXct(flow_tracker_1$localEndTime, </span></span>
<span id="cb282-1631"><a href="#cb282-1631" aria-hidden="true" tabindex="-1"></a><span class="in">                                          format = "%Y-%m-%d %H:%M:%S",</span></span>
<span id="cb282-1632"><a href="#cb282-1632" aria-hidden="true" tabindex="-1"></a><span class="in">                                          tz = "America/New_York")</span></span>
<span id="cb282-1633"><a href="#cb282-1633" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1634"><a href="#cb282-1634" aria-hidden="true" tabindex="-1"></a><span class="in"># Force the DateTime column from EDT to EST</span></span>
<span id="cb282-1635"><a href="#cb282-1635" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_1$dateTime_EST &lt;- as.POSIXct(format(flow_tracker_1$dateTime_EDT, </span></span>
<span id="cb282-1636"><a href="#cb282-1636" aria-hidden="true" tabindex="-1"></a><span class="in">                                                  tz = "EST", </span></span>
<span id="cb282-1637"><a href="#cb282-1637" aria-hidden="true" tabindex="-1"></a><span class="in">                                                  usetz = TRUE), </span></span>
<span id="cb282-1638"><a href="#cb282-1638" aria-hidden="true" tabindex="-1"></a><span class="in">                                           tz = "EST")</span></span>
<span id="cb282-1639"><a href="#cb282-1639" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1640"><a href="#cb282-1640" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-1641"><a href="#cb282-1641" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 5:00 EST to 11:00 EST</span></span>
<span id="cb282-1642"><a href="#cb282-1642" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_1 &lt;- flow_tracker_1 %&gt;%</span></span>
<span id="cb282-1643"><a href="#cb282-1643" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-1644"><a href="#cb282-1644" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-1645"><a href="#cb282-1645" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 4 &amp; hour(dateTime_EST) &lt; 12 ~ "day",</span></span>
<span id="cb282-1646"><a href="#cb282-1646" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-1647"><a href="#cb282-1647" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-1648"><a href="#cb282-1648" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1649"><a href="#cb282-1649" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1650"><a href="#cb282-1650" aria-hidden="true" tabindex="-1"></a><span class="in"># Create rows representing Amethyst brook discharge and temperature by combining Buffam and Harris measurements per shift</span></span>
<span id="cb282-1651"><a href="#cb282-1651" aria-hidden="true" tabindex="-1"></a><span class="in">amethyst_combined &lt;- flow_tracker_1 %&gt;%</span></span>
<span id="cb282-1652"><a href="#cb282-1652" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(river %in% c("BUFFAM", "HARRIS")) %&gt;%   # Filter BUFFAM and HARRIS</span></span>
<span id="cb282-1653"><a href="#cb282-1653" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(shift) %&gt;%                            # Group by shift (day/night)</span></span>
<span id="cb282-1654"><a href="#cb282-1654" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(</span></span>
<span id="cb282-1655"><a href="#cb282-1655" aria-hidden="true" tabindex="-1"></a><span class="in">    river = "AMETHYST",                          # Set river to AMETHYST</span></span>
<span id="cb282-1656"><a href="#cb282-1656" aria-hidden="true" tabindex="-1"></a><span class="in">    totalDischarge = sum(totalDischarge, na.rm = TRUE)#, # Sum totalDischarge</span></span>
<span id="cb282-1657"><a href="#cb282-1657" aria-hidden="true" tabindex="-1"></a><span class="in">    #meanTemp = mean(meanTemp, na.rm = TRUE)      # Average meanTemp</span></span>
<span id="cb282-1658"><a href="#cb282-1658" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1659"><a href="#cb282-1659" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1660"><a href="#cb282-1660" aria-hidden="true" tabindex="-1"></a><span class="in"># Bind the AMETHYST rows to the original dataset</span></span>
<span id="cb282-1661"><a href="#cb282-1661" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_1 &lt;- bind_rows(flow_tracker_1, amethyst_combined)</span></span>
<span id="cb282-1662"><a href="#cb282-1662" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1663"><a href="#cb282-1663" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-1664"><a href="#cb282-1664" aria-hidden="true" tabindex="-1"></a><span class="in">head(flow_tracker_1)</span></span>
<span id="cb282-1665"><a href="#cb282-1665" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1666"><a href="#cb282-1666" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new flow csv</span></span>
<span id="cb282-1667"><a href="#cb282-1667" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(flow_tracker_1, </span></span>
<span id="cb282-1668"><a href="#cb282-1668" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_1.csv", </span></span>
<span id="cb282-1669"><a href="#cb282-1669" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-1670"><a href="#cb282-1670" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1671"><a href="#cb282-1671" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-1672"><a href="#cb282-1672" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the flow week 2}</span></span>
<span id="cb282-1673"><a href="#cb282-1673" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1674"><a href="#cb282-1674" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the flow data</span></span>
<span id="cb282-1675"><a href="#cb282-1675" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_2 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_2.csv")</span></span>
<span id="cb282-1676"><a href="#cb282-1676" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1677"><a href="#cb282-1677" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert the localEndTime column into a DateTime column</span></span>
<span id="cb282-1678"><a href="#cb282-1678" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_2$dateTime_EST &lt;- as.POSIXct(flow_tracker_2$localEndTime, </span></span>
<span id="cb282-1679"><a href="#cb282-1679" aria-hidden="true" tabindex="-1"></a><span class="in">                                          format = "%Y-%m-%d %H:%M:%S",</span></span>
<span id="cb282-1680"><a href="#cb282-1680" aria-hidden="true" tabindex="-1"></a><span class="in">                                          tz = "EST")</span></span>
<span id="cb282-1681"><a href="#cb282-1681" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1682"><a href="#cb282-1682" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-1683"><a href="#cb282-1683" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 11:00 EST to 17:00 EST</span></span>
<span id="cb282-1684"><a href="#cb282-1684" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_2 &lt;- flow_tracker_2 %&gt;%</span></span>
<span id="cb282-1685"><a href="#cb282-1685" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-1686"><a href="#cb282-1686" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-1687"><a href="#cb282-1687" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 10 &amp; hour(dateTime_EST) &lt; 18 ~ "day",</span></span>
<span id="cb282-1688"><a href="#cb282-1688" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-1689"><a href="#cb282-1689" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-1690"><a href="#cb282-1690" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1691"><a href="#cb282-1691" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1692"><a href="#cb282-1692" aria-hidden="true" tabindex="-1"></a><span class="in"># Create rows representing Amethyst brook discharge and temperature by combining Buffam and Harris measurements per shift</span></span>
<span id="cb282-1693"><a href="#cb282-1693" aria-hidden="true" tabindex="-1"></a><span class="in">amethyst_combined &lt;- flow_tracker_2 %&gt;%</span></span>
<span id="cb282-1694"><a href="#cb282-1694" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(river %in% c("BUFFAM", "HARRIS")) %&gt;%   # Filter BUFFAM and HARRIS</span></span>
<span id="cb282-1695"><a href="#cb282-1695" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(shift) %&gt;%                            # Group by shift (day/night)</span></span>
<span id="cb282-1696"><a href="#cb282-1696" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(</span></span>
<span id="cb282-1697"><a href="#cb282-1697" aria-hidden="true" tabindex="-1"></a><span class="in">    river = "AMETHYST",                          # Set river to AMETHYST</span></span>
<span id="cb282-1698"><a href="#cb282-1698" aria-hidden="true" tabindex="-1"></a><span class="in">    totalDischarge = sum(totalDischarge, na.rm = TRUE)#, # Sum totalDischarge</span></span>
<span id="cb282-1699"><a href="#cb282-1699" aria-hidden="true" tabindex="-1"></a><span class="in">    #meanTemp = mean(meanTemp, na.rm = TRUE)      # Average meanTemp</span></span>
<span id="cb282-1700"><a href="#cb282-1700" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1701"><a href="#cb282-1701" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1702"><a href="#cb282-1702" aria-hidden="true" tabindex="-1"></a><span class="in"># Bind the AMETHYST rows to the original dataset</span></span>
<span id="cb282-1703"><a href="#cb282-1703" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_2 &lt;- bind_rows(flow_tracker_2, amethyst_combined)</span></span>
<span id="cb282-1704"><a href="#cb282-1704" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1705"><a href="#cb282-1705" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-1706"><a href="#cb282-1706" aria-hidden="true" tabindex="-1"></a><span class="in">head(flow_tracker_2)</span></span>
<span id="cb282-1707"><a href="#cb282-1707" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1708"><a href="#cb282-1708" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new flow csv</span></span>
<span id="cb282-1709"><a href="#cb282-1709" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(flow_tracker_2, </span></span>
<span id="cb282-1710"><a href="#cb282-1710" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_2.csv", </span></span>
<span id="cb282-1711"><a href="#cb282-1711" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-1712"><a href="#cb282-1712" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1713"><a href="#cb282-1713" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-1714"><a href="#cb282-1714" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the flow week 3}</span></span>
<span id="cb282-1715"><a href="#cb282-1715" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1716"><a href="#cb282-1716" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the flow data</span></span>
<span id="cb282-1717"><a href="#cb282-1717" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_3 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_3.csv")</span></span>
<span id="cb282-1718"><a href="#cb282-1718" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1719"><a href="#cb282-1719" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert the localEndTime column into a DateTime column</span></span>
<span id="cb282-1720"><a href="#cb282-1720" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_3$dateTime_EST &lt;- as.POSIXct(flow_tracker_3$localEndTime, </span></span>
<span id="cb282-1721"><a href="#cb282-1721" aria-hidden="true" tabindex="-1"></a><span class="in">                                          format = "%Y-%m-%d %H:%M:%S",</span></span>
<span id="cb282-1722"><a href="#cb282-1722" aria-hidden="true" tabindex="-1"></a><span class="in">                                          tz = "EST")</span></span>
<span id="cb282-1723"><a href="#cb282-1723" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1724"><a href="#cb282-1724" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-1725"><a href="#cb282-1725" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 5:00 EST to 11:00 EST</span></span>
<span id="cb282-1726"><a href="#cb282-1726" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_3 &lt;- flow_tracker_3 %&gt;%</span></span>
<span id="cb282-1727"><a href="#cb282-1727" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-1728"><a href="#cb282-1728" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-1729"><a href="#cb282-1729" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 4 &amp; hour(dateTime_EST) &lt; 12 ~ "day",</span></span>
<span id="cb282-1730"><a href="#cb282-1730" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-1731"><a href="#cb282-1731" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-1732"><a href="#cb282-1732" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1733"><a href="#cb282-1733" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1734"><a href="#cb282-1734" aria-hidden="true" tabindex="-1"></a><span class="in"># Create rows representing Amethyst brook discharge and temperature by combining Buffam and Harris measurements per shift</span></span>
<span id="cb282-1735"><a href="#cb282-1735" aria-hidden="true" tabindex="-1"></a><span class="in">amethyst_combined &lt;- flow_tracker_3 %&gt;%</span></span>
<span id="cb282-1736"><a href="#cb282-1736" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(river %in% c("BUFFAM", "HARRIS")) %&gt;%   # Filter BUFFAM and HARRIS</span></span>
<span id="cb282-1737"><a href="#cb282-1737" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(shift) %&gt;%                            # Group by shift (day/night)</span></span>
<span id="cb282-1738"><a href="#cb282-1738" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(</span></span>
<span id="cb282-1739"><a href="#cb282-1739" aria-hidden="true" tabindex="-1"></a><span class="in">    river = "AMETHYST",                          # Set river to AMETHYST</span></span>
<span id="cb282-1740"><a href="#cb282-1740" aria-hidden="true" tabindex="-1"></a><span class="in">    totalDischarge = sum(totalDischarge, na.rm = TRUE)#, # Sum totalDischarge</span></span>
<span id="cb282-1741"><a href="#cb282-1741" aria-hidden="true" tabindex="-1"></a><span class="in">    #meanTemp = mean(meanTemp, na.rm = TRUE)      # Average meanTemp</span></span>
<span id="cb282-1742"><a href="#cb282-1742" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1743"><a href="#cb282-1743" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1744"><a href="#cb282-1744" aria-hidden="true" tabindex="-1"></a><span class="in"># Bind the AMETHYST rows to the original dataset</span></span>
<span id="cb282-1745"><a href="#cb282-1745" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_3 &lt;- bind_rows(flow_tracker_3, amethyst_combined)</span></span>
<span id="cb282-1746"><a href="#cb282-1746" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1747"><a href="#cb282-1747" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-1748"><a href="#cb282-1748" aria-hidden="true" tabindex="-1"></a><span class="in">head(flow_tracker_3)</span></span>
<span id="cb282-1749"><a href="#cb282-1749" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1750"><a href="#cb282-1750" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new flow csv</span></span>
<span id="cb282-1751"><a href="#cb282-1751" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(flow_tracker_3, </span></span>
<span id="cb282-1752"><a href="#cb282-1752" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_3.csv", </span></span>
<span id="cb282-1753"><a href="#cb282-1753" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-1754"><a href="#cb282-1754" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1755"><a href="#cb282-1755" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-1756"><a href="#cb282-1756" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the flow week 4}</span></span>
<span id="cb282-1757"><a href="#cb282-1757" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1758"><a href="#cb282-1758" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the flow data</span></span>
<span id="cb282-1759"><a href="#cb282-1759" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_4 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_4.csv")</span></span>
<span id="cb282-1760"><a href="#cb282-1760" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1761"><a href="#cb282-1761" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert the localEndTime column into a DateTime column</span></span>
<span id="cb282-1762"><a href="#cb282-1762" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_4$dateTime_EST &lt;- as.POSIXct(flow_tracker_4$localEndTime, </span></span>
<span id="cb282-1763"><a href="#cb282-1763" aria-hidden="true" tabindex="-1"></a><span class="in">                                          format = "%Y-%m-%d %H:%M:%S",</span></span>
<span id="cb282-1764"><a href="#cb282-1764" aria-hidden="true" tabindex="-1"></a><span class="in">                                          tz = "EST")</span></span>
<span id="cb282-1765"><a href="#cb282-1765" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1766"><a href="#cb282-1766" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-1767"><a href="#cb282-1767" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 3:00 EST to 9:00 EST</span></span>
<span id="cb282-1768"><a href="#cb282-1768" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_4 &lt;- flow_tracker_4 %&gt;%</span></span>
<span id="cb282-1769"><a href="#cb282-1769" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-1770"><a href="#cb282-1770" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-1771"><a href="#cb282-1771" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 2 &amp; hour(dateTime_EST) &lt; 10 ~ "day",</span></span>
<span id="cb282-1772"><a href="#cb282-1772" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-1773"><a href="#cb282-1773" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-1774"><a href="#cb282-1774" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1775"><a href="#cb282-1775" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1776"><a href="#cb282-1776" aria-hidden="true" tabindex="-1"></a><span class="in"># Create rows representing Amethyst brook discharge and temperature by combining Buffam and Harris measurements per shift</span></span>
<span id="cb282-1777"><a href="#cb282-1777" aria-hidden="true" tabindex="-1"></a><span class="in">amethyst_combined &lt;- flow_tracker_4 %&gt;%</span></span>
<span id="cb282-1778"><a href="#cb282-1778" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(river %in% c("BUFFAM", "HARRIS")) %&gt;%   # Filter BUFFAM and HARRIS</span></span>
<span id="cb282-1779"><a href="#cb282-1779" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(shift) %&gt;%                            # Group by shift (day/night)</span></span>
<span id="cb282-1780"><a href="#cb282-1780" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(</span></span>
<span id="cb282-1781"><a href="#cb282-1781" aria-hidden="true" tabindex="-1"></a><span class="in">    river = "AMETHYST",                          # Set river to AMETHYST</span></span>
<span id="cb282-1782"><a href="#cb282-1782" aria-hidden="true" tabindex="-1"></a><span class="in">    totalDischarge = sum(totalDischarge, na.rm = TRUE)#, # Sum totalDischarge</span></span>
<span id="cb282-1783"><a href="#cb282-1783" aria-hidden="true" tabindex="-1"></a><span class="in">    #meanTemp = mean(meanTemp, na.rm = TRUE)      # Average meanTemp</span></span>
<span id="cb282-1784"><a href="#cb282-1784" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1785"><a href="#cb282-1785" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1786"><a href="#cb282-1786" aria-hidden="true" tabindex="-1"></a><span class="in"># Bind the AMETHYST rows to the original dataset</span></span>
<span id="cb282-1787"><a href="#cb282-1787" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_4 &lt;- bind_rows(flow_tracker_4, amethyst_combined)</span></span>
<span id="cb282-1788"><a href="#cb282-1788" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1789"><a href="#cb282-1789" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-1790"><a href="#cb282-1790" aria-hidden="true" tabindex="-1"></a><span class="in">head(flow_tracker_4)</span></span>
<span id="cb282-1791"><a href="#cb282-1791" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1792"><a href="#cb282-1792" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new flow csv</span></span>
<span id="cb282-1793"><a href="#cb282-1793" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(flow_tracker_4, </span></span>
<span id="cb282-1794"><a href="#cb282-1794" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_4.csv", </span></span>
<span id="cb282-1795"><a href="#cb282-1795" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-1796"><a href="#cb282-1796" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1797"><a href="#cb282-1797" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-1798"><a href="#cb282-1798" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the flow week 5}</span></span>
<span id="cb282-1799"><a href="#cb282-1799" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1800"><a href="#cb282-1800" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the flow data</span></span>
<span id="cb282-1801"><a href="#cb282-1801" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_5 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_5.csv")</span></span>
<span id="cb282-1802"><a href="#cb282-1802" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1803"><a href="#cb282-1803" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert the localEndTime column into a DateTime column</span></span>
<span id="cb282-1804"><a href="#cb282-1804" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_5$dateTime_EST &lt;- as.POSIXct(flow_tracker_5$localEndTime, </span></span>
<span id="cb282-1805"><a href="#cb282-1805" aria-hidden="true" tabindex="-1"></a><span class="in">                                          format = "%Y-%m-%d %H:%M:%S",</span></span>
<span id="cb282-1806"><a href="#cb282-1806" aria-hidden="true" tabindex="-1"></a><span class="in">                                          tz = "EST")</span></span>
<span id="cb282-1807"><a href="#cb282-1807" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1808"><a href="#cb282-1808" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-1809"><a href="#cb282-1809" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb282-1810"><a href="#cb282-1810" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_5 &lt;- flow_tracker_5 %&gt;%</span></span>
<span id="cb282-1811"><a href="#cb282-1811" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-1812"><a href="#cb282-1812" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-1813"><a href="#cb282-1813" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 6 &amp; hour(dateTime_EST) &lt; 14 ~ "day",</span></span>
<span id="cb282-1814"><a href="#cb282-1814" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-1815"><a href="#cb282-1815" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-1816"><a href="#cb282-1816" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1817"><a href="#cb282-1817" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1818"><a href="#cb282-1818" aria-hidden="true" tabindex="-1"></a><span class="in"># Create rows representing Amethyst brook discharge and temperature by combining Buffam and Harris measurements per shift</span></span>
<span id="cb282-1819"><a href="#cb282-1819" aria-hidden="true" tabindex="-1"></a><span class="in">amethyst_combined &lt;- flow_tracker_5 %&gt;%</span></span>
<span id="cb282-1820"><a href="#cb282-1820" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(river %in% c("BUFFAM", "HARRIS")) %&gt;%   # Filter BUFFAM and HARRIS</span></span>
<span id="cb282-1821"><a href="#cb282-1821" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(shift) %&gt;%                            # Group by shift (day/night)</span></span>
<span id="cb282-1822"><a href="#cb282-1822" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(</span></span>
<span id="cb282-1823"><a href="#cb282-1823" aria-hidden="true" tabindex="-1"></a><span class="in">    river = "AMETHYST",                          # Set river to AMETHYST</span></span>
<span id="cb282-1824"><a href="#cb282-1824" aria-hidden="true" tabindex="-1"></a><span class="in">    totalDischarge = sum(totalDischarge, na.rm = TRUE)#, # Sum totalDischarge</span></span>
<span id="cb282-1825"><a href="#cb282-1825" aria-hidden="true" tabindex="-1"></a><span class="in">    #meanTemp = mean(meanTemp, na.rm = TRUE)      # Average meanTemp</span></span>
<span id="cb282-1826"><a href="#cb282-1826" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1827"><a href="#cb282-1827" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1828"><a href="#cb282-1828" aria-hidden="true" tabindex="-1"></a><span class="in"># Bind the AMETHYST rows to the original dataset</span></span>
<span id="cb282-1829"><a href="#cb282-1829" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_5 &lt;- bind_rows(flow_tracker_5, amethyst_combined)</span></span>
<span id="cb282-1830"><a href="#cb282-1830" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1831"><a href="#cb282-1831" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-1832"><a href="#cb282-1832" aria-hidden="true" tabindex="-1"></a><span class="in">head(flow_tracker_5)</span></span>
<span id="cb282-1833"><a href="#cb282-1833" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1834"><a href="#cb282-1834" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new flow csv</span></span>
<span id="cb282-1835"><a href="#cb282-1835" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(flow_tracker_5, </span></span>
<span id="cb282-1836"><a href="#cb282-1836" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_5.csv", </span></span>
<span id="cb282-1837"><a href="#cb282-1837" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-1838"><a href="#cb282-1838" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1839"><a href="#cb282-1839" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-1840"><a href="#cb282-1840" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the flow week 6}</span></span>
<span id="cb282-1841"><a href="#cb282-1841" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1842"><a href="#cb282-1842" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the flow data</span></span>
<span id="cb282-1843"><a href="#cb282-1843" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_6 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_6.csv")</span></span>
<span id="cb282-1844"><a href="#cb282-1844" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1845"><a href="#cb282-1845" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert the localEndTime column into a DateTime column</span></span>
<span id="cb282-1846"><a href="#cb282-1846" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_6$dateTime_EST &lt;- as.POSIXct(flow_tracker_6$localEndTime, </span></span>
<span id="cb282-1847"><a href="#cb282-1847" aria-hidden="true" tabindex="-1"></a><span class="in">                                          format = "%Y-%m-%d %H:%M:%S",</span></span>
<span id="cb282-1848"><a href="#cb282-1848" aria-hidden="true" tabindex="-1"></a><span class="in">                                          tz = "EST")</span></span>
<span id="cb282-1849"><a href="#cb282-1849" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1850"><a href="#cb282-1850" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-1851"><a href="#cb282-1851" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 3:00 EST to 9:00 EST</span></span>
<span id="cb282-1852"><a href="#cb282-1852" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_6 &lt;- flow_tracker_6 %&gt;%</span></span>
<span id="cb282-1853"><a href="#cb282-1853" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-1854"><a href="#cb282-1854" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-1855"><a href="#cb282-1855" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 2 &amp; hour(dateTime_EST) &lt; 10 ~ "day",</span></span>
<span id="cb282-1856"><a href="#cb282-1856" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-1857"><a href="#cb282-1857" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-1858"><a href="#cb282-1858" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1859"><a href="#cb282-1859" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1860"><a href="#cb282-1860" aria-hidden="true" tabindex="-1"></a><span class="in"># Create rows representing Amethyst brook discharge and temperature by combining Buffam and Harris measurements per shift</span></span>
<span id="cb282-1861"><a href="#cb282-1861" aria-hidden="true" tabindex="-1"></a><span class="in">amethyst_combined &lt;- flow_tracker_6 %&gt;%</span></span>
<span id="cb282-1862"><a href="#cb282-1862" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(river %in% c("BUFFAM", "HARRIS")) %&gt;%   # Filter BUFFAM and HARRIS</span></span>
<span id="cb282-1863"><a href="#cb282-1863" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(shift) %&gt;%                            # Group by shift (day/night)</span></span>
<span id="cb282-1864"><a href="#cb282-1864" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(</span></span>
<span id="cb282-1865"><a href="#cb282-1865" aria-hidden="true" tabindex="-1"></a><span class="in">    river = "AMETHYST",                          # Set river to AMETHYST</span></span>
<span id="cb282-1866"><a href="#cb282-1866" aria-hidden="true" tabindex="-1"></a><span class="in">    totalDischarge = sum(totalDischarge, na.rm = TRUE)#, # Sum totalDischarge</span></span>
<span id="cb282-1867"><a href="#cb282-1867" aria-hidden="true" tabindex="-1"></a><span class="in">    #meanTemp = mean(meanTemp, na.rm = TRUE)      # Average meanTemp</span></span>
<span id="cb282-1868"><a href="#cb282-1868" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1869"><a href="#cb282-1869" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1870"><a href="#cb282-1870" aria-hidden="true" tabindex="-1"></a><span class="in"># Bind the AMETHYST rows to the original dataset</span></span>
<span id="cb282-1871"><a href="#cb282-1871" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_6 &lt;- bind_rows(flow_tracker_6, amethyst_combined)</span></span>
<span id="cb282-1872"><a href="#cb282-1872" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1873"><a href="#cb282-1873" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-1874"><a href="#cb282-1874" aria-hidden="true" tabindex="-1"></a><span class="in">head(flow_tracker_6)</span></span>
<span id="cb282-1875"><a href="#cb282-1875" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1876"><a href="#cb282-1876" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new flow csv</span></span>
<span id="cb282-1877"><a href="#cb282-1877" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(flow_tracker_6, </span></span>
<span id="cb282-1878"><a href="#cb282-1878" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_6.csv", </span></span>
<span id="cb282-1879"><a href="#cb282-1879" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-1880"><a href="#cb282-1880" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1881"><a href="#cb282-1881" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-1882"><a href="#cb282-1882" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the flow week 7}</span></span>
<span id="cb282-1883"><a href="#cb282-1883" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1884"><a href="#cb282-1884" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the flow data</span></span>
<span id="cb282-1885"><a href="#cb282-1885" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_7 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_7.csv")</span></span>
<span id="cb282-1886"><a href="#cb282-1886" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1887"><a href="#cb282-1887" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert the localEndTime column into a DateTime column</span></span>
<span id="cb282-1888"><a href="#cb282-1888" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_7$dateTime_EST &lt;- as.POSIXct(flow_tracker_7$localEndTime, </span></span>
<span id="cb282-1889"><a href="#cb282-1889" aria-hidden="true" tabindex="-1"></a><span class="in">                                          format = "%Y-%m-%d %H:%M:%S",</span></span>
<span id="cb282-1890"><a href="#cb282-1890" aria-hidden="true" tabindex="-1"></a><span class="in">                                          tz = "EST")</span></span>
<span id="cb282-1891"><a href="#cb282-1891" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1892"><a href="#cb282-1892" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-1893"><a href="#cb282-1893" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb282-1894"><a href="#cb282-1894" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_7 &lt;- flow_tracker_7 %&gt;%</span></span>
<span id="cb282-1895"><a href="#cb282-1895" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-1896"><a href="#cb282-1896" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-1897"><a href="#cb282-1897" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 6 &amp; hour(dateTime_EST) &lt; 14 ~ "day",</span></span>
<span id="cb282-1898"><a href="#cb282-1898" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-1899"><a href="#cb282-1899" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-1900"><a href="#cb282-1900" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1901"><a href="#cb282-1901" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1902"><a href="#cb282-1902" aria-hidden="true" tabindex="-1"></a><span class="in"># Create rows representing Amethyst brook discharge and temperature by combining Buffam and Harris measurements per shift</span></span>
<span id="cb282-1903"><a href="#cb282-1903" aria-hidden="true" tabindex="-1"></a><span class="in">amethyst_combined &lt;- flow_tracker_7 %&gt;%</span></span>
<span id="cb282-1904"><a href="#cb282-1904" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(river %in% c("BUFFAM", "HARRIS")) %&gt;%   # Filter BUFFAM and HARRIS</span></span>
<span id="cb282-1905"><a href="#cb282-1905" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(shift) %&gt;%                            # Group by shift (day/night)</span></span>
<span id="cb282-1906"><a href="#cb282-1906" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(</span></span>
<span id="cb282-1907"><a href="#cb282-1907" aria-hidden="true" tabindex="-1"></a><span class="in">    river = "AMETHYST",                          # Set river to AMETHYST</span></span>
<span id="cb282-1908"><a href="#cb282-1908" aria-hidden="true" tabindex="-1"></a><span class="in">    totalDischarge = sum(totalDischarge, na.rm = TRUE)#, # Sum totalDischarge</span></span>
<span id="cb282-1909"><a href="#cb282-1909" aria-hidden="true" tabindex="-1"></a><span class="in">    #meanTemp = mean(meanTemp, na.rm = TRUE)      # Average meanTemp</span></span>
<span id="cb282-1910"><a href="#cb282-1910" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1911"><a href="#cb282-1911" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1912"><a href="#cb282-1912" aria-hidden="true" tabindex="-1"></a><span class="in"># Bind the AMETHYST rows to the original dataset</span></span>
<span id="cb282-1913"><a href="#cb282-1913" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_7 &lt;- bind_rows(flow_tracker_7, amethyst_combined)</span></span>
<span id="cb282-1914"><a href="#cb282-1914" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1915"><a href="#cb282-1915" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-1916"><a href="#cb282-1916" aria-hidden="true" tabindex="-1"></a><span class="in">head(flow_tracker_7)</span></span>
<span id="cb282-1917"><a href="#cb282-1917" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1918"><a href="#cb282-1918" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new flow csv</span></span>
<span id="cb282-1919"><a href="#cb282-1919" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(flow_tracker_7, </span></span>
<span id="cb282-1920"><a href="#cb282-1920" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_7.csv", </span></span>
<span id="cb282-1921"><a href="#cb282-1921" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-1922"><a href="#cb282-1922" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1923"><a href="#cb282-1923" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-1924"><a href="#cb282-1924" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the flow week 8}</span></span>
<span id="cb282-1925"><a href="#cb282-1925" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1926"><a href="#cb282-1926" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the flow data</span></span>
<span id="cb282-1927"><a href="#cb282-1927" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_8 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_8.csv")</span></span>
<span id="cb282-1928"><a href="#cb282-1928" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1929"><a href="#cb282-1929" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert the localEndTime column into a DateTime column</span></span>
<span id="cb282-1930"><a href="#cb282-1930" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_8$dateTime_EST &lt;- as.POSIXct(flow_tracker_8$localEndTime, </span></span>
<span id="cb282-1931"><a href="#cb282-1931" aria-hidden="true" tabindex="-1"></a><span class="in">                                          format = "%Y-%m-%d %H:%M:%S",</span></span>
<span id="cb282-1932"><a href="#cb282-1932" aria-hidden="true" tabindex="-1"></a><span class="in">                                          tz = "EST")</span></span>
<span id="cb282-1933"><a href="#cb282-1933" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1934"><a href="#cb282-1934" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-1935"><a href="#cb282-1935" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 3:30 EST to 9:30 EST</span></span>
<span id="cb282-1936"><a href="#cb282-1936" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_8 &lt;- flow_tracker_8 %&gt;%</span></span>
<span id="cb282-1937"><a href="#cb282-1937" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-1938"><a href="#cb282-1938" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-1939"><a href="#cb282-1939" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 2 &amp; hour(dateTime_EST) &lt; 11 ~ "day",</span></span>
<span id="cb282-1940"><a href="#cb282-1940" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-1941"><a href="#cb282-1941" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-1942"><a href="#cb282-1942" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1943"><a href="#cb282-1943" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1944"><a href="#cb282-1944" aria-hidden="true" tabindex="-1"></a><span class="in"># Create rows representing Amethyst brook discharge and temperature by combining Buffam and Harris measurements per shift</span></span>
<span id="cb282-1945"><a href="#cb282-1945" aria-hidden="true" tabindex="-1"></a><span class="in">amethyst_combined &lt;- flow_tracker_8 %&gt;%</span></span>
<span id="cb282-1946"><a href="#cb282-1946" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(river %in% c("BUFFAM", "HARRIS")) %&gt;%   # Filter BUFFAM and HARRIS</span></span>
<span id="cb282-1947"><a href="#cb282-1947" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(shift) %&gt;%                            # Group by shift (day/night)</span></span>
<span id="cb282-1948"><a href="#cb282-1948" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(</span></span>
<span id="cb282-1949"><a href="#cb282-1949" aria-hidden="true" tabindex="-1"></a><span class="in">    river = "AMETHYST",                          # Set river to AMETHYST</span></span>
<span id="cb282-1950"><a href="#cb282-1950" aria-hidden="true" tabindex="-1"></a><span class="in">    totalDischarge = sum(totalDischarge, na.rm = TRUE)#, # Sum totalDischarge</span></span>
<span id="cb282-1951"><a href="#cb282-1951" aria-hidden="true" tabindex="-1"></a><span class="in">    #meanTemp = mean(meanTemp, na.rm = TRUE)      # Average meanTemp</span></span>
<span id="cb282-1952"><a href="#cb282-1952" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1953"><a href="#cb282-1953" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1954"><a href="#cb282-1954" aria-hidden="true" tabindex="-1"></a><span class="in"># Bind the AMETHYST rows to the original dataset</span></span>
<span id="cb282-1955"><a href="#cb282-1955" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_8 &lt;- bind_rows(flow_tracker_8, amethyst_combined)</span></span>
<span id="cb282-1956"><a href="#cb282-1956" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1957"><a href="#cb282-1957" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-1958"><a href="#cb282-1958" aria-hidden="true" tabindex="-1"></a><span class="in">head(flow_tracker_8)</span></span>
<span id="cb282-1959"><a href="#cb282-1959" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1960"><a href="#cb282-1960" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new flow csv</span></span>
<span id="cb282-1961"><a href="#cb282-1961" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(flow_tracker_8, </span></span>
<span id="cb282-1962"><a href="#cb282-1962" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_8.csv", </span></span>
<span id="cb282-1963"><a href="#cb282-1963" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-1964"><a href="#cb282-1964" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1965"><a href="#cb282-1965" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-1966"><a href="#cb282-1966" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the flow week 9}</span></span>
<span id="cb282-1967"><a href="#cb282-1967" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1968"><a href="#cb282-1968" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the flow data</span></span>
<span id="cb282-1969"><a href="#cb282-1969" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_9 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_9.csv")</span></span>
<span id="cb282-1970"><a href="#cb282-1970" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1971"><a href="#cb282-1971" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert the localEndTime column into a DateTime column</span></span>
<span id="cb282-1972"><a href="#cb282-1972" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_9$dateTime_EST &lt;- as.POSIXct(flow_tracker_9$localEndTime, </span></span>
<span id="cb282-1973"><a href="#cb282-1973" aria-hidden="true" tabindex="-1"></a><span class="in">                                          format = "%Y-%m-%d %H:%M:%S",</span></span>
<span id="cb282-1974"><a href="#cb282-1974" aria-hidden="true" tabindex="-1"></a><span class="in">                                          tz = "EST")</span></span>
<span id="cb282-1975"><a href="#cb282-1975" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1976"><a href="#cb282-1976" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-1977"><a href="#cb282-1977" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb282-1978"><a href="#cb282-1978" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_9 &lt;- flow_tracker_9 %&gt;%</span></span>
<span id="cb282-1979"><a href="#cb282-1979" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-1980"><a href="#cb282-1980" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-1981"><a href="#cb282-1981" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 6 &amp; hour(dateTime_EST) &lt; 14 ~ "day",</span></span>
<span id="cb282-1982"><a href="#cb282-1982" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-1983"><a href="#cb282-1983" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-1984"><a href="#cb282-1984" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1985"><a href="#cb282-1985" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1986"><a href="#cb282-1986" aria-hidden="true" tabindex="-1"></a><span class="in"># Create rows representing Amethyst brook discharge and temperature by combining Buffam and Harris measurements per shift</span></span>
<span id="cb282-1987"><a href="#cb282-1987" aria-hidden="true" tabindex="-1"></a><span class="in">amethyst_combined &lt;- flow_tracker_9 %&gt;%</span></span>
<span id="cb282-1988"><a href="#cb282-1988" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(river %in% c("BUFFAM", "HARRIS")) %&gt;%   # Filter BUFFAM and HARRIS</span></span>
<span id="cb282-1989"><a href="#cb282-1989" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(shift) %&gt;%                            # Group by shift (day/night)</span></span>
<span id="cb282-1990"><a href="#cb282-1990" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(</span></span>
<span id="cb282-1991"><a href="#cb282-1991" aria-hidden="true" tabindex="-1"></a><span class="in">    river = "AMETHYST",                          # Set river to AMETHYST</span></span>
<span id="cb282-1992"><a href="#cb282-1992" aria-hidden="true" tabindex="-1"></a><span class="in">    totalDischarge = sum(totalDischarge, na.rm = TRUE)#, # Sum totalDischarge</span></span>
<span id="cb282-1993"><a href="#cb282-1993" aria-hidden="true" tabindex="-1"></a><span class="in">    #meanTemp = mean(meanTemp, na.rm = TRUE)      # Average meanTemp</span></span>
<span id="cb282-1994"><a href="#cb282-1994" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-1995"><a href="#cb282-1995" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1996"><a href="#cb282-1996" aria-hidden="true" tabindex="-1"></a><span class="in"># Bind the AMETHYST rows to the original dataset</span></span>
<span id="cb282-1997"><a href="#cb282-1997" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_9 &lt;- bind_rows(flow_tracker_9, amethyst_combined)</span></span>
<span id="cb282-1998"><a href="#cb282-1998" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-1999"><a href="#cb282-1999" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-2000"><a href="#cb282-2000" aria-hidden="true" tabindex="-1"></a><span class="in">head(flow_tracker_9)</span></span>
<span id="cb282-2001"><a href="#cb282-2001" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2002"><a href="#cb282-2002" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new flow csv</span></span>
<span id="cb282-2003"><a href="#cb282-2003" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(flow_tracker_9, </span></span>
<span id="cb282-2004"><a href="#cb282-2004" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_9.csv", </span></span>
<span id="cb282-2005"><a href="#cb282-2005" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-2006"><a href="#cb282-2006" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2007"><a href="#cb282-2007" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2008"><a href="#cb282-2008" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the flow week 10}</span></span>
<span id="cb282-2009"><a href="#cb282-2009" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2010"><a href="#cb282-2010" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the flow data</span></span>
<span id="cb282-2011"><a href="#cb282-2011" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_10 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_10.csv")</span></span>
<span id="cb282-2012"><a href="#cb282-2012" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2013"><a href="#cb282-2013" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert the localEndTime column into a DateTime column</span></span>
<span id="cb282-2014"><a href="#cb282-2014" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_10$dateTime_EST &lt;- as.POSIXct(flow_tracker_10$localEndTime, </span></span>
<span id="cb282-2015"><a href="#cb282-2015" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format = "%Y-%m-%d %H:%M:%S",</span></span>
<span id="cb282-2016"><a href="#cb282-2016" aria-hidden="true" tabindex="-1"></a><span class="in">                                           tz = "EST")</span></span>
<span id="cb282-2017"><a href="#cb282-2017" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2018"><a href="#cb282-2018" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-2019"><a href="#cb282-2019" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 4:00 EST to 10:00 EST</span></span>
<span id="cb282-2020"><a href="#cb282-2020" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_10 &lt;- flow_tracker_10 %&gt;%</span></span>
<span id="cb282-2021"><a href="#cb282-2021" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-2022"><a href="#cb282-2022" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-2023"><a href="#cb282-2023" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 3 &amp; hour(dateTime_EST) &lt; 11 ~ "day",</span></span>
<span id="cb282-2024"><a href="#cb282-2024" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-2025"><a href="#cb282-2025" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-2026"><a href="#cb282-2026" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-2027"><a href="#cb282-2027" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2028"><a href="#cb282-2028" aria-hidden="true" tabindex="-1"></a><span class="in"># Create rows representing Amethyst brook discharge and temperature by combining Buffam and Harris measurements per shift</span></span>
<span id="cb282-2029"><a href="#cb282-2029" aria-hidden="true" tabindex="-1"></a><span class="in">amethyst_combined &lt;- flow_tracker_10 %&gt;%</span></span>
<span id="cb282-2030"><a href="#cb282-2030" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(river %in% c("BUFFAM", "HARRIS")) %&gt;%   # Filter BUFFAM and HARRIS</span></span>
<span id="cb282-2031"><a href="#cb282-2031" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(shift) %&gt;%                            # Group by shift (day/night)</span></span>
<span id="cb282-2032"><a href="#cb282-2032" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(</span></span>
<span id="cb282-2033"><a href="#cb282-2033" aria-hidden="true" tabindex="-1"></a><span class="in">    river = "AMETHYST",                          # Set river to AMETHYST</span></span>
<span id="cb282-2034"><a href="#cb282-2034" aria-hidden="true" tabindex="-1"></a><span class="in">    totalDischarge = sum(totalDischarge, na.rm = TRUE)#, # Sum totalDischarge</span></span>
<span id="cb282-2035"><a href="#cb282-2035" aria-hidden="true" tabindex="-1"></a><span class="in">    #meanTemp = mean(meanTemp, na.rm = TRUE)      # Average meanTemp</span></span>
<span id="cb282-2036"><a href="#cb282-2036" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-2037"><a href="#cb282-2037" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2038"><a href="#cb282-2038" aria-hidden="true" tabindex="-1"></a><span class="in"># Bind the AMETHYST rows to the original dataset</span></span>
<span id="cb282-2039"><a href="#cb282-2039" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_10 &lt;- bind_rows(flow_tracker_10, amethyst_combined)</span></span>
<span id="cb282-2040"><a href="#cb282-2040" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2041"><a href="#cb282-2041" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-2042"><a href="#cb282-2042" aria-hidden="true" tabindex="-1"></a><span class="in">head(flow_tracker_10)</span></span>
<span id="cb282-2043"><a href="#cb282-2043" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2044"><a href="#cb282-2044" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new flow csv</span></span>
<span id="cb282-2045"><a href="#cb282-2045" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(flow_tracker_10, </span></span>
<span id="cb282-2046"><a href="#cb282-2046" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_10.csv", </span></span>
<span id="cb282-2047"><a href="#cb282-2047" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-2048"><a href="#cb282-2048" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2049"><a href="#cb282-2049" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2050"><a href="#cb282-2050" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the flow week 11}</span></span>
<span id="cb282-2051"><a href="#cb282-2051" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2052"><a href="#cb282-2052" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the flow data</span></span>
<span id="cb282-2053"><a href="#cb282-2053" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_11 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_11.csv")</span></span>
<span id="cb282-2054"><a href="#cb282-2054" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2055"><a href="#cb282-2055" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert the localEndTime column into a DateTime column</span></span>
<span id="cb282-2056"><a href="#cb282-2056" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_11$dateTime_EST &lt;- as.POSIXct(flow_tracker_11$localEndTime, </span></span>
<span id="cb282-2057"><a href="#cb282-2057" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format = "%Y-%m-%d %H:%M:%S",</span></span>
<span id="cb282-2058"><a href="#cb282-2058" aria-hidden="true" tabindex="-1"></a><span class="in">                                           tz = "EST")</span></span>
<span id="cb282-2059"><a href="#cb282-2059" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2060"><a href="#cb282-2060" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column </span></span>
<span id="cb282-2061"><a href="#cb282-2061" aria-hidden="true" tabindex="-1"></a><span class="in"># All shifts in week 11 were day shifts</span></span>
<span id="cb282-2062"><a href="#cb282-2062" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_11 &lt;- flow_tracker_11 %&gt;%</span></span>
<span id="cb282-2063"><a href="#cb282-2063" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(shift = "day")</span></span>
<span id="cb282-2064"><a href="#cb282-2064" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2065"><a href="#cb282-2065" aria-hidden="true" tabindex="-1"></a><span class="in"># Create rows representing Amethyst brook discharge and temperature by combining Buffam and Harris measurements per shift</span></span>
<span id="cb282-2066"><a href="#cb282-2066" aria-hidden="true" tabindex="-1"></a><span class="in">amethyst_combined &lt;- flow_tracker_11 %&gt;%</span></span>
<span id="cb282-2067"><a href="#cb282-2067" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(river %in% c("BUFFAM", "HARRIS")) %&gt;%   # Filter BUFFAM and HARRIS</span></span>
<span id="cb282-2068"><a href="#cb282-2068" aria-hidden="true" tabindex="-1"></a><span class="in">  group_by(shift) %&gt;%                            # Group by shift (day/night)</span></span>
<span id="cb282-2069"><a href="#cb282-2069" aria-hidden="true" tabindex="-1"></a><span class="in">  summarise(</span></span>
<span id="cb282-2070"><a href="#cb282-2070" aria-hidden="true" tabindex="-1"></a><span class="in">    river = "AMETHYST",                          # Set river to AMETHYST</span></span>
<span id="cb282-2071"><a href="#cb282-2071" aria-hidden="true" tabindex="-1"></a><span class="in">    totalDischarge = sum(totalDischarge, na.rm = TRUE)#, # Sum totalDischarge</span></span>
<span id="cb282-2072"><a href="#cb282-2072" aria-hidden="true" tabindex="-1"></a><span class="in">    #meanTemp = mean(meanTemp, na.rm = TRUE)      # Average meanTemp</span></span>
<span id="cb282-2073"><a href="#cb282-2073" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-2074"><a href="#cb282-2074" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2075"><a href="#cb282-2075" aria-hidden="true" tabindex="-1"></a><span class="in"># Bind the AMETHYST rows to the original dataset</span></span>
<span id="cb282-2076"><a href="#cb282-2076" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_11 &lt;- bind_rows(flow_tracker_11, amethyst_combined)</span></span>
<span id="cb282-2077"><a href="#cb282-2077" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2078"><a href="#cb282-2078" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-2079"><a href="#cb282-2079" aria-hidden="true" tabindex="-1"></a><span class="in">head(flow_tracker_11)</span></span>
<span id="cb282-2080"><a href="#cb282-2080" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2081"><a href="#cb282-2081" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new flow csv</span></span>
<span id="cb282-2082"><a href="#cb282-2082" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(flow_tracker_11, </span></span>
<span id="cb282-2083"><a href="#cb282-2083" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_11.csv", </span></span>
<span id="cb282-2084"><a href="#cb282-2084" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-2085"><a href="#cb282-2085" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2086"><a href="#cb282-2086" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2087"><a href="#cb282-2087" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the flow week 12}</span></span>
<span id="cb282-2088"><a href="#cb282-2088" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2089"><a href="#cb282-2089" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the flow data</span></span>
<span id="cb282-2090"><a href="#cb282-2090" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_12 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_12.csv")</span></span>
<span id="cb282-2091"><a href="#cb282-2091" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2092"><a href="#cb282-2092" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert the localEndTime column into a DateTime column</span></span>
<span id="cb282-2093"><a href="#cb282-2093" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_12$dateTime_EST &lt;- as.POSIXct(flow_tracker_12$localEndTime, </span></span>
<span id="cb282-2094"><a href="#cb282-2094" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format = "%Y-%m-%d %H:%M:%S",</span></span>
<span id="cb282-2095"><a href="#cb282-2095" aria-hidden="true" tabindex="-1"></a><span class="in">                                           tz = "EST")</span></span>
<span id="cb282-2096"><a href="#cb282-2096" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2097"><a href="#cb282-2097" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column</span></span>
<span id="cb282-2098"><a href="#cb282-2098" aria-hidden="true" tabindex="-1"></a><span class="in"># All shifts in week 12 were day shifts</span></span>
<span id="cb282-2099"><a href="#cb282-2099" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_12 &lt;- flow_tracker_12 %&gt;%</span></span>
<span id="cb282-2100"><a href="#cb282-2100" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(shift = "day")</span></span>
<span id="cb282-2101"><a href="#cb282-2101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2102"><a href="#cb282-2102" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-2103"><a href="#cb282-2103" aria-hidden="true" tabindex="-1"></a><span class="in">head(flow_tracker_12)</span></span>
<span id="cb282-2104"><a href="#cb282-2104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2105"><a href="#cb282-2105" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new flow csv</span></span>
<span id="cb282-2106"><a href="#cb282-2106" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(flow_tracker_12, </span></span>
<span id="cb282-2107"><a href="#cb282-2107" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_12.csv", </span></span>
<span id="cb282-2108"><a href="#cb282-2108" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-2109"><a href="#cb282-2109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2110"><a href="#cb282-2110" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2111"><a href="#cb282-2111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2112"><a href="#cb282-2112" aria-hidden="true" tabindex="-1"></a><span class="in">```{r processing flow files}</span></span>
<span id="cb282-2113"><a href="#cb282-2113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2114"><a href="#cb282-2114" aria-hidden="true" tabindex="-1"></a><span class="in"># Define file names</span></span>
<span id="cb282-2115"><a href="#cb282-2115" aria-hidden="true" tabindex="-1"></a><span class="in">flow_file_names &lt;- c("flow_tracker_1.csv", "flow_tracker_2.csv", "flow_tracker_3.csv", "flow_tracker_4.csv", </span></span>
<span id="cb282-2116"><a href="#cb282-2116" aria-hidden="true" tabindex="-1"></a><span class="in">                     "flow_tracker_5.csv", "flow_tracker_6.csv", "flow_tracker_7.csv", "flow_tracker_8.csv", </span></span>
<span id="cb282-2117"><a href="#cb282-2117" aria-hidden="true" tabindex="-1"></a><span class="in">                     "flow_tracker_9.csv", "flow_tracker_10.csv", "flow_tracker_11.csv", "flow_tracker_12.csv") </span></span>
<span id="cb282-2118"><a href="#cb282-2118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2119"><a href="#cb282-2119" aria-hidden="true" tabindex="-1"></a><span class="in"># Create an empty list to store the processed datasets</span></span>
<span id="cb282-2120"><a href="#cb282-2120" aria-hidden="true" tabindex="-1"></a><span class="in">processed_flow_data_list &lt;- list()</span></span>
<span id="cb282-2121"><a href="#cb282-2121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2122"><a href="#cb282-2122" aria-hidden="true" tabindex="-1"></a><span class="in"># Loop through each stream survey file</span></span>
<span id="cb282-2123"><a href="#cb282-2123" aria-hidden="true" tabindex="-1"></a><span class="in">for (file_name in flow_file_names) {</span></span>
<span id="cb282-2124"><a href="#cb282-2124" aria-hidden="true" tabindex="-1"></a><span class="in">  # Read in the stream survey data</span></span>
<span id="cb282-2125"><a href="#cb282-2125" aria-hidden="true" tabindex="-1"></a><span class="in">  raw_flow_data &lt;- read.csv(file_name)</span></span>
<span id="cb282-2126"><a href="#cb282-2126" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2127"><a href="#cb282-2127" aria-hidden="true" tabindex="-1"></a><span class="in">  # Step 1: Process the data</span></span>
<span id="cb282-2128"><a href="#cb282-2128" aria-hidden="true" tabindex="-1"></a><span class="in">  flow_data &lt;- raw_flow_data %&gt;%</span></span>
<span id="cb282-2129"><a href="#cb282-2129" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb282-2130"><a href="#cb282-2130" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 2: Select specific columns</span></span>
<span id="cb282-2131"><a href="#cb282-2131" aria-hidden="true" tabindex="-1"></a><span class="in">    select(river, totalDischarge, dateTime_EST, shift) %&gt;%</span></span>
<span id="cb282-2132"><a href="#cb282-2132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2133"><a href="#cb282-2133" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 3: Rename columns</span></span>
<span id="cb282-2134"><a href="#cb282-2134" aria-hidden="true" tabindex="-1"></a><span class="in">    rename(flowTime_EST = dateTime_EST) </span></span>
<span id="cb282-2135"><a href="#cb282-2135" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2136"><a href="#cb282-2136" aria-hidden="true" tabindex="-1"></a><span class="in">  # Store the processed data in the list</span></span>
<span id="cb282-2137"><a href="#cb282-2137" aria-hidden="true" tabindex="-1"></a><span class="in">  processed_flow_data_list[[file_name]] &lt;- flow_data</span></span>
<span id="cb282-2138"><a href="#cb282-2138" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2139"><a href="#cb282-2139" aria-hidden="true" tabindex="-1"></a><span class="in">  # Overwrite the original file with the processed data</span></span>
<span id="cb282-2140"><a href="#cb282-2140" aria-hidden="true" tabindex="-1"></a><span class="in">  write.csv(flow_data, file_name, row.names = FALSE)</span></span>
<span id="cb282-2141"><a href="#cb282-2141" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-2142"><a href="#cb282-2142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2143"><a href="#cb282-2143" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of each processed dataset</span></span>
<span id="cb282-2144"><a href="#cb282-2144" aria-hidden="true" tabindex="-1"></a><span class="in">for (i in 1:length(processed_flow_data_list)) {</span></span>
<span id="cb282-2145"><a href="#cb282-2145" aria-hidden="true" tabindex="-1"></a><span class="in">  cat("\nData for", flow_file_names[i], ":\n")</span></span>
<span id="cb282-2146"><a href="#cb282-2146" aria-hidden="true" tabindex="-1"></a><span class="in">  print(head(processed_flow_data_list[[i]]))</span></span>
<span id="cb282-2147"><a href="#cb282-2147" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-2148"><a href="#cb282-2148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2149"><a href="#cb282-2149" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2150"><a href="#cb282-2150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2151"><a href="#cb282-2151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2152"><a href="#cb282-2152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2153"><a href="#cb282-2153" aria-hidden="true" tabindex="-1"></a><span class="fu">## Combine fish survey and flow data</span></span>
<span id="cb282-2154"><a href="#cb282-2154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2155"><a href="#cb282-2155" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish survey and flow week 1 data}</span></span>
<span id="cb282-2156"><a href="#cb282-2156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2157"><a href="#cb282-2157" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey and flow data for week 1</span></span>
<span id="cb282-2158"><a href="#cb282-2158" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_1 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_1.csv")</span></span>
<span id="cb282-2159"><a href="#cb282-2159" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_1 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_1.csv")</span></span>
<span id="cb282-2160"><a href="#cb282-2160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2161"><a href="#cb282-2161" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets by shift and river columns</span></span>
<span id="cb282-2162"><a href="#cb282-2162" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_1 &lt;- left_join(fish_survey_1, flow_tracker_1, </span></span>
<span id="cb282-2163"><a href="#cb282-2163" aria-hidden="true" tabindex="-1"></a><span class="in">                                by = c("shift", "river"))</span></span>
<span id="cb282-2164"><a href="#cb282-2164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2165"><a href="#cb282-2165" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-2166"><a href="#cb282-2166" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_1)</span></span>
<span id="cb282-2167"><a href="#cb282-2167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2168"><a href="#cb282-2168" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-2169"><a href="#cb282-2169" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_1, </span></span>
<span id="cb282-2170"><a href="#cb282-2170" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_1.csv", </span></span>
<span id="cb282-2171"><a href="#cb282-2171" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-2172"><a href="#cb282-2172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2173"><a href="#cb282-2173" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2174"><a href="#cb282-2174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2175"><a href="#cb282-2175" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish survey and flow week 2 data}</span></span>
<span id="cb282-2176"><a href="#cb282-2176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2177"><a href="#cb282-2177" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey and flow data for week 2</span></span>
<span id="cb282-2178"><a href="#cb282-2178" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_2 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_2.csv")</span></span>
<span id="cb282-2179"><a href="#cb282-2179" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_2 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_2.csv")</span></span>
<span id="cb282-2180"><a href="#cb282-2180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2181"><a href="#cb282-2181" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets by shift and river columns</span></span>
<span id="cb282-2182"><a href="#cb282-2182" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_2 &lt;- left_join(fish_survey_2, flow_tracker_2, by = c("shift", "river"))</span></span>
<span id="cb282-2183"><a href="#cb282-2183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2184"><a href="#cb282-2184" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-2185"><a href="#cb282-2185" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_2)</span></span>
<span id="cb282-2186"><a href="#cb282-2186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2187"><a href="#cb282-2187" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-2188"><a href="#cb282-2188" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_2, </span></span>
<span id="cb282-2189"><a href="#cb282-2189" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_2.csv", </span></span>
<span id="cb282-2190"><a href="#cb282-2190" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-2191"><a href="#cb282-2191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2192"><a href="#cb282-2192" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2193"><a href="#cb282-2193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2194"><a href="#cb282-2194" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish survey and flow week 3 data}</span></span>
<span id="cb282-2195"><a href="#cb282-2195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2196"><a href="#cb282-2196" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey and flow data for week 3</span></span>
<span id="cb282-2197"><a href="#cb282-2197" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_3 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_3.csv")</span></span>
<span id="cb282-2198"><a href="#cb282-2198" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_3 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_3.csv")</span></span>
<span id="cb282-2199"><a href="#cb282-2199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2200"><a href="#cb282-2200" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets by shift and river columns</span></span>
<span id="cb282-2201"><a href="#cb282-2201" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_3 &lt;- left_join(fish_survey_3, flow_tracker_3, by = c("shift", "river"))</span></span>
<span id="cb282-2202"><a href="#cb282-2202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2203"><a href="#cb282-2203" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-2204"><a href="#cb282-2204" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_3)</span></span>
<span id="cb282-2205"><a href="#cb282-2205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2206"><a href="#cb282-2206" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-2207"><a href="#cb282-2207" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_3, </span></span>
<span id="cb282-2208"><a href="#cb282-2208" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_3.csv", </span></span>
<span id="cb282-2209"><a href="#cb282-2209" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-2210"><a href="#cb282-2210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2211"><a href="#cb282-2211" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2212"><a href="#cb282-2212" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish survey and flow week 4 data}</span></span>
<span id="cb282-2213"><a href="#cb282-2213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2214"><a href="#cb282-2214" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey and flow data for week 4</span></span>
<span id="cb282-2215"><a href="#cb282-2215" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_4 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_4.csv")</span></span>
<span id="cb282-2216"><a href="#cb282-2216" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_4 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_4.csv")</span></span>
<span id="cb282-2217"><a href="#cb282-2217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2218"><a href="#cb282-2218" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets by shift and river columns</span></span>
<span id="cb282-2219"><a href="#cb282-2219" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_4 &lt;- left_join(fish_survey_4, flow_tracker_4, by = c("shift", "river"))</span></span>
<span id="cb282-2220"><a href="#cb282-2220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2221"><a href="#cb282-2221" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-2222"><a href="#cb282-2222" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_4)</span></span>
<span id="cb282-2223"><a href="#cb282-2223" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2224"><a href="#cb282-2224" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-2225"><a href="#cb282-2225" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_4, </span></span>
<span id="cb282-2226"><a href="#cb282-2226" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_4.csv", </span></span>
<span id="cb282-2227"><a href="#cb282-2227" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-2228"><a href="#cb282-2228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2229"><a href="#cb282-2229" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2230"><a href="#cb282-2230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2231"><a href="#cb282-2231" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish survey and flow week 5 data}</span></span>
<span id="cb282-2232"><a href="#cb282-2232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2233"><a href="#cb282-2233" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey and flow data for week 5</span></span>
<span id="cb282-2234"><a href="#cb282-2234" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_5 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_5.csv")</span></span>
<span id="cb282-2235"><a href="#cb282-2235" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_5 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_5.csv")</span></span>
<span id="cb282-2236"><a href="#cb282-2236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2237"><a href="#cb282-2237" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets by shift and river columns</span></span>
<span id="cb282-2238"><a href="#cb282-2238" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_5 &lt;- left_join(fish_survey_5, flow_tracker_5, by = c("shift", "river"))</span></span>
<span id="cb282-2239"><a href="#cb282-2239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2240"><a href="#cb282-2240" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-2241"><a href="#cb282-2241" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_5)</span></span>
<span id="cb282-2242"><a href="#cb282-2242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2243"><a href="#cb282-2243" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-2244"><a href="#cb282-2244" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_5, </span></span>
<span id="cb282-2245"><a href="#cb282-2245" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_5.csv", </span></span>
<span id="cb282-2246"><a href="#cb282-2246" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-2247"><a href="#cb282-2247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2248"><a href="#cb282-2248" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2249"><a href="#cb282-2249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2250"><a href="#cb282-2250" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish survey and flow week 6 data}</span></span>
<span id="cb282-2251"><a href="#cb282-2251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2252"><a href="#cb282-2252" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey and flow data for week 6</span></span>
<span id="cb282-2253"><a href="#cb282-2253" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_6 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_6.csv")</span></span>
<span id="cb282-2254"><a href="#cb282-2254" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_6 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_6.csv")</span></span>
<span id="cb282-2255"><a href="#cb282-2255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2256"><a href="#cb282-2256" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets by shift and river columns</span></span>
<span id="cb282-2257"><a href="#cb282-2257" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_6 &lt;- left_join(fish_survey_6, flow_tracker_6, by = c("shift", "river"))</span></span>
<span id="cb282-2258"><a href="#cb282-2258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2259"><a href="#cb282-2259" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-2260"><a href="#cb282-2260" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_6)</span></span>
<span id="cb282-2261"><a href="#cb282-2261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2262"><a href="#cb282-2262" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-2263"><a href="#cb282-2263" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_6, </span></span>
<span id="cb282-2264"><a href="#cb282-2264" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_6.csv", </span></span>
<span id="cb282-2265"><a href="#cb282-2265" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-2266"><a href="#cb282-2266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2267"><a href="#cb282-2267" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2268"><a href="#cb282-2268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2269"><a href="#cb282-2269" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish survey and flow week 7 data}</span></span>
<span id="cb282-2270"><a href="#cb282-2270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2271"><a href="#cb282-2271" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey and flow data for week 7</span></span>
<span id="cb282-2272"><a href="#cb282-2272" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_7 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_7.csv")</span></span>
<span id="cb282-2273"><a href="#cb282-2273" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_7 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_7.csv")</span></span>
<span id="cb282-2274"><a href="#cb282-2274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2275"><a href="#cb282-2275" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets by shift and river columns</span></span>
<span id="cb282-2276"><a href="#cb282-2276" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_7 &lt;- left_join(fish_survey_7, flow_tracker_7, by = c("shift", "river"))</span></span>
<span id="cb282-2277"><a href="#cb282-2277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2278"><a href="#cb282-2278" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-2279"><a href="#cb282-2279" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_7)</span></span>
<span id="cb282-2280"><a href="#cb282-2280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2281"><a href="#cb282-2281" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-2282"><a href="#cb282-2282" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_7, </span></span>
<span id="cb282-2283"><a href="#cb282-2283" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_7.csv", </span></span>
<span id="cb282-2284"><a href="#cb282-2284" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-2285"><a href="#cb282-2285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2286"><a href="#cb282-2286" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2287"><a href="#cb282-2287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2288"><a href="#cb282-2288" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish survey and flow week 8 data}</span></span>
<span id="cb282-2289"><a href="#cb282-2289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2290"><a href="#cb282-2290" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey and flow data for week 8</span></span>
<span id="cb282-2291"><a href="#cb282-2291" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_8 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_8.csv")</span></span>
<span id="cb282-2292"><a href="#cb282-2292" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_8 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_8.csv")</span></span>
<span id="cb282-2293"><a href="#cb282-2293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2294"><a href="#cb282-2294" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets by shift and river columns</span></span>
<span id="cb282-2295"><a href="#cb282-2295" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_8 &lt;- left_join(fish_survey_8, flow_tracker_8, by = c("shift", "river"))</span></span>
<span id="cb282-2296"><a href="#cb282-2296" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2297"><a href="#cb282-2297" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-2298"><a href="#cb282-2298" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_8)</span></span>
<span id="cb282-2299"><a href="#cb282-2299" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2300"><a href="#cb282-2300" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-2301"><a href="#cb282-2301" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_8, </span></span>
<span id="cb282-2302"><a href="#cb282-2302" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_8.csv", </span></span>
<span id="cb282-2303"><a href="#cb282-2303" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-2304"><a href="#cb282-2304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2305"><a href="#cb282-2305" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2306"><a href="#cb282-2306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2307"><a href="#cb282-2307" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish survey and flow week 9 data}</span></span>
<span id="cb282-2308"><a href="#cb282-2308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2309"><a href="#cb282-2309" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey and flow data for week 9</span></span>
<span id="cb282-2310"><a href="#cb282-2310" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_9 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_9.csv")</span></span>
<span id="cb282-2311"><a href="#cb282-2311" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_9 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_9.csv")</span></span>
<span id="cb282-2312"><a href="#cb282-2312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2313"><a href="#cb282-2313" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets by shift and river columns</span></span>
<span id="cb282-2314"><a href="#cb282-2314" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_9 &lt;- left_join(fish_survey_9, flow_tracker_9, by = c("shift", "river"))</span></span>
<span id="cb282-2315"><a href="#cb282-2315" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2316"><a href="#cb282-2316" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-2317"><a href="#cb282-2317" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_9)</span></span>
<span id="cb282-2318"><a href="#cb282-2318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2319"><a href="#cb282-2319" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-2320"><a href="#cb282-2320" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_9, </span></span>
<span id="cb282-2321"><a href="#cb282-2321" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_9.csv", </span></span>
<span id="cb282-2322"><a href="#cb282-2322" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-2323"><a href="#cb282-2323" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2324"><a href="#cb282-2324" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2325"><a href="#cb282-2325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2326"><a href="#cb282-2326" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish survey and flow week 10 data}</span></span>
<span id="cb282-2327"><a href="#cb282-2327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2328"><a href="#cb282-2328" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey and flow data for week 10</span></span>
<span id="cb282-2329"><a href="#cb282-2329" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_10 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_10.csv")</span></span>
<span id="cb282-2330"><a href="#cb282-2330" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_10 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_10.csv")</span></span>
<span id="cb282-2331"><a href="#cb282-2331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2332"><a href="#cb282-2332" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets by shift and river columns</span></span>
<span id="cb282-2333"><a href="#cb282-2333" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_10 &lt;- left_join(fish_survey_10, flow_tracker_10, by = c("shift", "river"))</span></span>
<span id="cb282-2334"><a href="#cb282-2334" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2335"><a href="#cb282-2335" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-2336"><a href="#cb282-2336" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_10)</span></span>
<span id="cb282-2337"><a href="#cb282-2337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2338"><a href="#cb282-2338" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-2339"><a href="#cb282-2339" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_10, </span></span>
<span id="cb282-2340"><a href="#cb282-2340" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_10.csv", </span></span>
<span id="cb282-2341"><a href="#cb282-2341" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-2342"><a href="#cb282-2342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2343"><a href="#cb282-2343" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2344"><a href="#cb282-2344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2345"><a href="#cb282-2345" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish survey and flow week 11 data}</span></span>
<span id="cb282-2346"><a href="#cb282-2346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2347"><a href="#cb282-2347" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey and flow data for week 11</span></span>
<span id="cb282-2348"><a href="#cb282-2348" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_11 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_11.csv")</span></span>
<span id="cb282-2349"><a href="#cb282-2349" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_11 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_11.csv")</span></span>
<span id="cb282-2350"><a href="#cb282-2350" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2351"><a href="#cb282-2351" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets by shift and river columns</span></span>
<span id="cb282-2352"><a href="#cb282-2352" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_11 &lt;- left_join(fish_survey_11, flow_tracker_11, by = c("shift", "river"))</span></span>
<span id="cb282-2353"><a href="#cb282-2353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2354"><a href="#cb282-2354" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-2355"><a href="#cb282-2355" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_11)</span></span>
<span id="cb282-2356"><a href="#cb282-2356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2357"><a href="#cb282-2357" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-2358"><a href="#cb282-2358" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_11, </span></span>
<span id="cb282-2359"><a href="#cb282-2359" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_11.csv", </span></span>
<span id="cb282-2360"><a href="#cb282-2360" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-2361"><a href="#cb282-2361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2362"><a href="#cb282-2362" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2363"><a href="#cb282-2363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2364"><a href="#cb282-2364" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish survey and flow week 12 data}</span></span>
<span id="cb282-2365"><a href="#cb282-2365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2366"><a href="#cb282-2366" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey and flow data for week 12</span></span>
<span id="cb282-2367"><a href="#cb282-2367" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_12 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_survey_12.csv")</span></span>
<span id="cb282-2368"><a href="#cb282-2368" aria-hidden="true" tabindex="-1"></a><span class="in">flow_tracker_12 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/flow_tracker_12.csv")</span></span>
<span id="cb282-2369"><a href="#cb282-2369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2370"><a href="#cb282-2370" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets by shift and river columns</span></span>
<span id="cb282-2371"><a href="#cb282-2371" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_12 &lt;- left_join(fish_survey_12, flow_tracker_12, by = c("shift", "river"))</span></span>
<span id="cb282-2372"><a href="#cb282-2372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2373"><a href="#cb282-2373" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-2374"><a href="#cb282-2374" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_12)</span></span>
<span id="cb282-2375"><a href="#cb282-2375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2376"><a href="#cb282-2376" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-2377"><a href="#cb282-2377" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_12, </span></span>
<span id="cb282-2378"><a href="#cb282-2378" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_12.csv", </span></span>
<span id="cb282-2379"><a href="#cb282-2379" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-2380"><a href="#cb282-2380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2381"><a href="#cb282-2381" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2382"><a href="#cb282-2382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2383"><a href="#cb282-2383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2384"><a href="#cb282-2384" aria-hidden="true" tabindex="-1"></a><span class="fu">## Preparing lotek data files for analysis</span></span>
<span id="cb282-2385"><a href="#cb282-2385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2386"><a href="#cb282-2386" aria-hidden="true" tabindex="-1"></a><span class="fu">### Lotek receiver 000900 data</span></span>
<span id="cb282-2387"><a href="#cb282-2387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2388"><a href="#cb282-2388" aria-hidden="true" tabindex="-1"></a><span class="in">```{r processing the lotek receiver 000900 ID only data}</span></span>
<span id="cb282-2389"><a href="#cb282-2389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2390"><a href="#cb282-2390" aria-hidden="true" tabindex="-1"></a><span class="in"># ID Only Data ###########################################################</span></span>
<span id="cb282-2391"><a href="#cb282-2391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2392"><a href="#cb282-2392" aria-hidden="true" tabindex="-1"></a><span class="in"># Read the dataset</span></span>
<span id="cb282-2393"><a href="#cb282-2393" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_raw_data &lt;- read.delim("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawLotekData/000900/20240903/000900_20240903.txt")</span></span>
<span id="cb282-2394"><a href="#cb282-2394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2395"><a href="#cb282-2395" aria-hidden="true" tabindex="-1"></a><span class="in"># Rename the single column in the dataset as "columnOne"</span></span>
<span id="cb282-2396"><a href="#cb282-2396" aria-hidden="true" tabindex="-1"></a><span class="in">names(receiver_000900_raw_data) &lt;- c("columnOne")</span></span>
<span id="cb282-2397"><a href="#cb282-2397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2398"><a href="#cb282-2398" aria-hidden="true" tabindex="-1"></a><span class="in"># Detect the start of the row that says "ID Only Records:" and create a flag</span></span>
<span id="cb282-2399"><a href="#cb282-2399" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_ID_data &lt;- receiver_000900_raw_data %&gt;% </span></span>
<span id="cb282-2400"><a href="#cb282-2400" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(column2 = ifelse(columnOne == "ID Only Records:", 1, 0)) </span></span>
<span id="cb282-2401"><a href="#cb282-2401" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2402"><a href="#cb282-2402" aria-hidden="true" tabindex="-1"></a><span class="in"># Detect the start of row that says "ID + GPS Positions:"</span></span>
<span id="cb282-2403"><a href="#cb282-2403" aria-hidden="true" tabindex="-1"></a><span class="in">id_gps_row &lt;- which(receiver_000900_raw_data$columnOne == "ID + GPS Positions:")</span></span>
<span id="cb282-2404"><a href="#cb282-2404" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2405"><a href="#cb282-2405" aria-hidden="true" tabindex="-1"></a><span class="in"># If "ID + GPS Positions:" is found, slice until the row before it</span></span>
<span id="cb282-2406"><a href="#cb282-2406" aria-hidden="true" tabindex="-1"></a><span class="in">if(length(id_gps_row) &gt; 0) {</span></span>
<span id="cb282-2407"><a href="#cb282-2407" aria-hidden="true" tabindex="-1"></a><span class="in">  id_gps_row &lt;- id_gps_row[1] - 1  # One row before "ID + GPS Positions:"</span></span>
<span id="cb282-2408"><a href="#cb282-2408" aria-hidden="true" tabindex="-1"></a><span class="in">} else {</span></span>
<span id="cb282-2409"><a href="#cb282-2409" aria-hidden="true" tabindex="-1"></a><span class="in">  id_gps_row &lt;- nrow(receiver_000900_raw_data)  # If "ID + GPS Positions:" not found, slice till the bottom</span></span>
<span id="cb282-2410"><a href="#cb282-2410" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-2411"><a href="#cb282-2411" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2412"><a href="#cb282-2412" aria-hidden="true" tabindex="-1"></a><span class="in"># Slice out the ID data by detecting the start and extracting relevant rows</span></span>
<span id="cb282-2413"><a href="#cb282-2413" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_ID_data &lt;- receiver_000900_ID_data %&gt;% </span></span>
<span id="cb282-2414"><a href="#cb282-2414" aria-hidden="true" tabindex="-1"></a><span class="in">  slice((which(grepl(1, receiver_000900_ID_data$column2)) + 2) : id_gps_row)</span></span>
<span id="cb282-2415"><a href="#cb282-2415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2416"><a href="#cb282-2416" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_ID_data &lt;- receiver_000900_ID_data %&gt;% </span></span>
<span id="cb282-2417"><a href="#cb282-2417" aria-hidden="true" tabindex="-1"></a><span class="in">  # Split the initial columns based on space separation</span></span>
<span id="cb282-2418"><a href="#cb282-2418" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(columnOne , </span></span>
<span id="cb282-2419"><a href="#cb282-2419" aria-hidden="true" tabindex="-1"></a><span class="in">           c("Date", "Time", "Channel", "Tag ID", "Antenna", "Power"), </span></span>
<span id="cb282-2420"><a href="#cb282-2420" aria-hidden="true" tabindex="-1"></a><span class="in">           extra = "merge", </span></span>
<span id="cb282-2421"><a href="#cb282-2421" aria-hidden="true" tabindex="-1"></a><span class="in">           sep = "\\s+")</span></span>
<span id="cb282-2422"><a href="#cb282-2422" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2423"><a href="#cb282-2423" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_ID_data &lt;- receiver_000900_ID_data %&gt;% </span></span>
<span id="cb282-2424"><a href="#cb282-2424" aria-hidden="true" tabindex="-1"></a><span class="in">  # Select the columns for further processing</span></span>
<span id="cb282-2425"><a href="#cb282-2425" aria-hidden="true" tabindex="-1"></a><span class="in">  select("Date", "Time", "Tag ID", "Power") </span></span>
<span id="cb282-2426"><a href="#cb282-2426" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2427"><a href="#cb282-2427" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb282-2428"><a href="#cb282-2428" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_ID_data$dateTime_EST &lt;- as.POSIXct(paste(receiver_000900_ID_data$Date, </span></span>
<span id="cb282-2429"><a href="#cb282-2429" aria-hidden="true" tabindex="-1"></a><span class="in">                                                         receiver_000900_ID_data$Time), </span></span>
<span id="cb282-2430"><a href="#cb282-2430" aria-hidden="true" tabindex="-1"></a><span class="in">                                                   format="%m/%d/%y %H:%M:%S",</span></span>
<span id="cb282-2431"><a href="#cb282-2431" aria-hidden="true" tabindex="-1"></a><span class="in">                                                   tz = "EST")</span></span>
<span id="cb282-2432"><a href="#cb282-2432" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2433"><a href="#cb282-2433" aria-hidden="true" tabindex="-1"></a><span class="in">#receiver_000900_ID_data &lt;- receiver_000900_ID_data %&gt;% </span></span>
<span id="cb282-2434"><a href="#cb282-2434" aria-hidden="true" tabindex="-1"></a><span class="in">  # Combine Date and Time columns into a single datetime in mdy_hms format</span></span>
<span id="cb282-2435"><a href="#cb282-2435" aria-hidden="true" tabindex="-1"></a><span class="in">  #mutate(dateTime = mdy_hms(paste(Date, Time))) </span></span>
<span id="cb282-2436"><a href="#cb282-2436" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2437"><a href="#cb282-2437" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_ID_data &lt;- receiver_000900_ID_data %&gt;% </span></span>
<span id="cb282-2438"><a href="#cb282-2438" aria-hidden="true" tabindex="-1"></a><span class="in">  # Rename "Tag ID' column as "tagID"</span></span>
<span id="cb282-2439"><a href="#cb282-2439" aria-hidden="true" tabindex="-1"></a><span class="in">  rename_with(~ "tagID", .cols = `Tag ID`) %&gt;%</span></span>
<span id="cb282-2440"><a href="#cb282-2440" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2441"><a href="#cb282-2441" aria-hidden="true" tabindex="-1"></a><span class="in">  # Rename "Date' column as "date"</span></span>
<span id="cb282-2442"><a href="#cb282-2442" aria-hidden="true" tabindex="-1"></a><span class="in">  rename_with(~ "date", .cols = `Date`) %&gt;%</span></span>
<span id="cb282-2443"><a href="#cb282-2443" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2444"><a href="#cb282-2444" aria-hidden="true" tabindex="-1"></a><span class="in">  # Rename "Power' column as "power"</span></span>
<span id="cb282-2445"><a href="#cb282-2445" aria-hidden="true" tabindex="-1"></a><span class="in">  rename_with(~ "power", .cols = `Power`)</span></span>
<span id="cb282-2446"><a href="#cb282-2446" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2447"><a href="#cb282-2447" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_ID_data &lt;- receiver_000900_ID_data %&gt;% </span></span>
<span id="cb282-2448"><a href="#cb282-2448" aria-hidden="true" tabindex="-1"></a><span class="in">  # Select the columns for further processing</span></span>
<span id="cb282-2449"><a href="#cb282-2449" aria-hidden="true" tabindex="-1"></a><span class="in">  select("date", "tagID", "power", "dateTime_EST") </span></span>
<span id="cb282-2450"><a href="#cb282-2450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2451"><a href="#cb282-2451" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_ID_data &lt;- receiver_000900_ID_data %&gt;%</span></span>
<span id="cb282-2452"><a href="#cb282-2452" aria-hidden="true" tabindex="-1"></a><span class="in">  # Clean and format the data</span></span>
<span id="cb282-2453"><a href="#cb282-2453" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(tagID = as.numeric(tagID),</span></span>
<span id="cb282-2454"><a href="#cb282-2454" aria-hidden="true" tabindex="-1"></a><span class="in">         power = as.numeric(power),</span></span>
<span id="cb282-2455"><a href="#cb282-2455" aria-hidden="true" tabindex="-1"></a><span class="in">         date = mdy(date),</span></span>
<span id="cb282-2456"><a href="#cb282-2456" aria-hidden="true" tabindex="-1"></a><span class="in">         source = "lotek")</span></span>
<span id="cb282-2457"><a href="#cb282-2457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2458"><a href="#cb282-2458" aria-hidden="true" tabindex="-1"></a><span class="in"># Define the date range</span></span>
<span id="cb282-2459"><a href="#cb282-2459" aria-hidden="true" tabindex="-1"></a><span class="in">start_date &lt;- ymd("2024-06-11")  </span></span>
<span id="cb282-2460"><a href="#cb282-2460" aria-hidden="true" tabindex="-1"></a><span class="in">end_date &lt;- ymd("2024-08-29")   </span></span>
<span id="cb282-2461"><a href="#cb282-2461" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2462"><a href="#cb282-2462" aria-hidden="true" tabindex="-1"></a><span class="in"># Define specific days to filter out based on the non-tracking days on the calendar</span></span>
<span id="cb282-2463"><a href="#cb282-2463" aria-hidden="true" tabindex="-1"></a><span class="in">days_to_exclude &lt;- ymd(c("2024-06-21", "2024-06-24", "2024-07-04", "2024-07-05", </span></span>
<span id="cb282-2464"><a href="#cb282-2464" aria-hidden="true" tabindex="-1"></a><span class="in">                         "2024-07-08", "2024-07-15", "2024-07-22", "2024-07-29", </span></span>
<span id="cb282-2465"><a href="#cb282-2465" aria-hidden="true" tabindex="-1"></a><span class="in">                         "2024-08-12","2024-08-19", "2024-08-28"))</span></span>
<span id="cb282-2466"><a href="#cb282-2466" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2467"><a href="#cb282-2467" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_ID_data &lt;- receiver_000900_ID_data %&gt;% </span></span>
<span id="cb282-2468"><a href="#cb282-2468" aria-hidden="true" tabindex="-1"></a><span class="in">  # Filter by tagID range</span></span>
<span id="cb282-2469"><a href="#cb282-2469" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(tagID &gt; 10 &amp; tagID &lt; 63) %&gt;%</span></span>
<span id="cb282-2470"><a href="#cb282-2470" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2471"><a href="#cb282-2471" aria-hidden="true" tabindex="-1"></a><span class="in">  # Filter by the date range</span></span>
<span id="cb282-2472"><a href="#cb282-2472" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(date &gt;= start_date &amp; date &lt;= end_date) %&gt;%</span></span>
<span id="cb282-2473"><a href="#cb282-2473" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2474"><a href="#cb282-2474" aria-hidden="true" tabindex="-1"></a><span class="in">  # Filter out the specified days</span></span>
<span id="cb282-2475"><a href="#cb282-2475" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(!(date %in% days_to_exclude))</span></span>
<span id="cb282-2476"><a href="#cb282-2476" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2477"><a href="#cb282-2477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2478"><a href="#cb282-2478" aria-hidden="true" tabindex="-1"></a><span class="in"># Define the date ranges for different rivers to account for retagging</span></span>
<span id="cb282-2479"><a href="#cb282-2479" aria-hidden="true" tabindex="-1"></a><span class="in">river_date_ranges &lt;- tibble(</span></span>
<span id="cb282-2480"><a href="#cb282-2480" aria-hidden="true" tabindex="-1"></a><span class="in">  river = c("AMETHYST", "UNDERHILL", "DICKEY", "DICKEY", </span></span>
<span id="cb282-2481"><a href="#cb282-2481" aria-hidden="true" tabindex="-1"></a><span class="in">            "DRY UPPER", "DRY UPPER"),</span></span>
<span id="cb282-2482"><a href="#cb282-2482" aria-hidden="true" tabindex="-1"></a><span class="in">  tagID_range = list(c(59, 60, 56, 14, 61, 20, 12, 15, </span></span>
<span id="cb282-2483"><a href="#cb282-2483" aria-hidden="true" tabindex="-1"></a><span class="in">                       13, 57, 19, 62, 11, 58, 18), </span></span>
<span id="cb282-2484"><a href="#cb282-2484" aria-hidden="true" tabindex="-1"></a><span class="in">                     c(41, 43, 40, 44, 33, 34, 45, 35, 27, 36), </span></span>
<span id="cb282-2485"><a href="#cb282-2485" aria-hidden="true" tabindex="-1"></a><span class="in">                     c(50, 37, 38, 46, 26, 28, 51, 32, 29, 31),</span></span>
<span id="cb282-2486"><a href="#cb282-2486" aria-hidden="true" tabindex="-1"></a><span class="in">                     c(50, 37, 38, 26, 28, 51, 32, 31),</span></span>
<span id="cb282-2487"><a href="#cb282-2487" aria-hidden="true" tabindex="-1"></a><span class="in">                     c(42, 49, 55, 16, 52, 21, 47, 24, </span></span>
<span id="cb282-2488"><a href="#cb282-2488" aria-hidden="true" tabindex="-1"></a><span class="in">                       48, 22, 17, 25, 54, 23, 53),</span></span>
<span id="cb282-2489"><a href="#cb282-2489" aria-hidden="true" tabindex="-1"></a><span class="in">                     c(29, 30, 46, 39)),</span></span>
<span id="cb282-2490"><a href="#cb282-2490" aria-hidden="true" tabindex="-1"></a><span class="in">  start_date = ymd(c("2024-06-11", "2024-06-11", "2024-06-11", </span></span>
<span id="cb282-2491"><a href="#cb282-2491" aria-hidden="true" tabindex="-1"></a><span class="in">                     "2024-07-18", "2024-06-11", "2024-07-18")),</span></span>
<span id="cb282-2492"><a href="#cb282-2492" aria-hidden="true" tabindex="-1"></a><span class="in">  end_date = ymd(c("2024-08-29", "2024-08-29", "2024-07-17", </span></span>
<span id="cb282-2493"><a href="#cb282-2493" aria-hidden="true" tabindex="-1"></a><span class="in">                   "2024-08-29", "2024-08-29", "2024-08-29"))</span></span>
<span id="cb282-2494"><a href="#cb282-2494" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb282-2495"><a href="#cb282-2495" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2496"><a href="#cb282-2496" aria-hidden="true" tabindex="-1"></a><span class="in"># Function to determine river based on tagID and date</span></span>
<span id="cb282-2497"><a href="#cb282-2497" aria-hidden="true" tabindex="-1"></a><span class="in">assign_river &lt;- function(tagID, date) {</span></span>
<span id="cb282-2498"><a href="#cb282-2498" aria-hidden="true" tabindex="-1"></a><span class="in">  # Filter the river_date_ranges for matching tagID and date range</span></span>
<span id="cb282-2499"><a href="#cb282-2499" aria-hidden="true" tabindex="-1"></a><span class="in">  river_info &lt;- river_date_ranges %&gt;%</span></span>
<span id="cb282-2500"><a href="#cb282-2500" aria-hidden="true" tabindex="-1"></a><span class="in">    filter(map_lgl(tagID_range, ~ tagID %in% .) &amp; date &gt;= start_date &amp; date &lt;= end_date)</span></span>
<span id="cb282-2501"><a href="#cb282-2501" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2502"><a href="#cb282-2502" aria-hidden="true" tabindex="-1"></a><span class="in">  if (nrow(river_info) &gt; 0) {</span></span>
<span id="cb282-2503"><a href="#cb282-2503" aria-hidden="true" tabindex="-1"></a><span class="in">    return(river_info$river[1])  # Return the matching river</span></span>
<span id="cb282-2504"><a href="#cb282-2504" aria-hidden="true" tabindex="-1"></a><span class="in">  } else {</span></span>
<span id="cb282-2505"><a href="#cb282-2505" aria-hidden="true" tabindex="-1"></a><span class="in">    return("Unknown")  # Default for no match</span></span>
<span id="cb282-2506"><a href="#cb282-2506" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb282-2507"><a href="#cb282-2507" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-2508"><a href="#cb282-2508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2509"><a href="#cb282-2509" aria-hidden="true" tabindex="-1"></a><span class="in"># Ensure the 'date' column is in Date format</span></span>
<span id="cb282-2510"><a href="#cb282-2510" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_ID_data$date &lt;- ymd(receiver_000900_ID_data$date)</span></span>
<span id="cb282-2511"><a href="#cb282-2511" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2512"><a href="#cb282-2512" aria-hidden="true" tabindex="-1"></a><span class="in"># Apply the function to the data frame</span></span>
<span id="cb282-2513"><a href="#cb282-2513" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_ID_data &lt;- receiver_000900_ID_data %&gt;%</span></span>
<span id="cb282-2514"><a href="#cb282-2514" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = mapply(assign_river, tagID, date))</span></span>
<span id="cb282-2515"><a href="#cb282-2515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2516"><a href="#cb282-2516" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove rows where river is "Unknown"</span></span>
<span id="cb282-2517"><a href="#cb282-2517" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_ID_data &lt;- receiver_000900_ID_data %&gt;%</span></span>
<span id="cb282-2518"><a href="#cb282-2518" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(river != "Unknown")</span></span>
<span id="cb282-2519"><a href="#cb282-2519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2520"><a href="#cb282-2520" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_ID_data &lt;- receiver_000900_ID_data %&gt;% </span></span>
<span id="cb282-2521"><a href="#cb282-2521" aria-hidden="true" tabindex="-1"></a><span class="in">  # Select the columns for the final dataframe</span></span>
<span id="cb282-2522"><a href="#cb282-2522" aria-hidden="true" tabindex="-1"></a><span class="in">  select("tagID", "power", "dateTime_EST", "river", "date") </span></span>
<span id="cb282-2523"><a href="#cb282-2523" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2524"><a href="#cb282-2524" aria-hidden="true" tabindex="-1"></a><span class="in"># View dataframe</span></span>
<span id="cb282-2525"><a href="#cb282-2525" aria-hidden="true" tabindex="-1"></a><span class="in">head(receiver_000900_ID_data)</span></span>
<span id="cb282-2526"><a href="#cb282-2526" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2527"><a href="#cb282-2527" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2528"><a href="#cb282-2528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2529"><a href="#cb282-2529" aria-hidden="true" tabindex="-1"></a><span class="in">```{r processing the lotek receiver 000900 ID + GPS data}</span></span>
<span id="cb282-2530"><a href="#cb282-2530" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2531"><a href="#cb282-2531" aria-hidden="true" tabindex="-1"></a><span class="in"># ID + GPS Data ###########################################################</span></span>
<span id="cb282-2532"><a href="#cb282-2532" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2533"><a href="#cb282-2533" aria-hidden="true" tabindex="-1"></a><span class="in"># Read the dataset</span></span>
<span id="cb282-2534"><a href="#cb282-2534" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_raw_data &lt;- read.delim("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawLotekData/000900/20240903/000900_20240903.txt")</span></span>
<span id="cb282-2535"><a href="#cb282-2535" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2536"><a href="#cb282-2536" aria-hidden="true" tabindex="-1"></a><span class="in"># Rename the single column in the dataset as "columnOne"</span></span>
<span id="cb282-2537"><a href="#cb282-2537" aria-hidden="true" tabindex="-1"></a><span class="in">names(receiver_000900_raw_data) &lt;- c("columnOne")</span></span>
<span id="cb282-2538"><a href="#cb282-2538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2539"><a href="#cb282-2539" aria-hidden="true" tabindex="-1"></a><span class="in"># Detect the start of the row that says "ID + GPS Positions:" and create a flag</span></span>
<span id="cb282-2540"><a href="#cb282-2540" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_GPS_data &lt;- receiver_000900_raw_data %&gt;% </span></span>
<span id="cb282-2541"><a href="#cb282-2541" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(column2 = ifelse(columnOne == "ID + GPS Positions:", 1, 0)) </span></span>
<span id="cb282-2542"><a href="#cb282-2542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2543"><a href="#cb282-2543" aria-hidden="true" tabindex="-1"></a><span class="in"># Detect the start of row that says "End of Data" </span></span>
<span id="cb282-2544"><a href="#cb282-2544" aria-hidden="true" tabindex="-1"></a><span class="in">end_of_data_row &lt;- which(receiver_000900_raw_data$columnOne == "End of Data")</span></span>
<span id="cb282-2545"><a href="#cb282-2545" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2546"><a href="#cb282-2546" aria-hidden="true" tabindex="-1"></a><span class="in"># If "End of Data" is found, slice until the row before it</span></span>
<span id="cb282-2547"><a href="#cb282-2547" aria-hidden="true" tabindex="-1"></a><span class="in">if(length(end_of_data_row) &gt; 0) {</span></span>
<span id="cb282-2548"><a href="#cb282-2548" aria-hidden="true" tabindex="-1"></a><span class="in">  end_of_data_row &lt;- end_of_data_row[1] - 1  # One row before "End of data"</span></span>
<span id="cb282-2549"><a href="#cb282-2549" aria-hidden="true" tabindex="-1"></a><span class="in">} else {</span></span>
<span id="cb282-2550"><a href="#cb282-2550" aria-hidden="true" tabindex="-1"></a><span class="in">  end_of_data_row &lt;- nrow(receiver_000900_raw_data)  # If "End of data" not found, slice till the bottom</span></span>
<span id="cb282-2551"><a href="#cb282-2551" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-2552"><a href="#cb282-2552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2553"><a href="#cb282-2553" aria-hidden="true" tabindex="-1"></a><span class="in"># Slice out the GPS data by detecting the start and extracting relevant rows</span></span>
<span id="cb282-2554"><a href="#cb282-2554" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_GPS_data &lt;- receiver_000900_GPS_data %&gt;% </span></span>
<span id="cb282-2555"><a href="#cb282-2555" aria-hidden="true" tabindex="-1"></a><span class="in">  slice((which(grepl(1, receiver_000900_GPS_data$column2)) + 2) : end_of_data_row)</span></span>
<span id="cb282-2556"><a href="#cb282-2556" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2557"><a href="#cb282-2557" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_GPS_data &lt;- receiver_000900_GPS_data %&gt;% </span></span>
<span id="cb282-2558"><a href="#cb282-2558" aria-hidden="true" tabindex="-1"></a><span class="in">  # Split the initial columns based on space separation</span></span>
<span id="cb282-2559"><a href="#cb282-2559" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(columnOne , c("Date", "Time", "Channel", "Tag ID", "Antenna", "Power"), </span></span>
<span id="cb282-2560"><a href="#cb282-2560" aria-hidden="true" tabindex="-1"></a><span class="in">           extra = "merge", sep = "\\s+")</span></span>
<span id="cb282-2561"><a href="#cb282-2561" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2562"><a href="#cb282-2562" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_GPS_data &lt;- receiver_000900_GPS_data %&gt;% </span></span>
<span id="cb282-2563"><a href="#cb282-2563" aria-hidden="true" tabindex="-1"></a><span class="in">  # Separate the "Power" column into power, latitude, and longitude</span></span>
<span id="cb282-2564"><a href="#cb282-2564" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(Power, c("power", "lat", "lon"), sep = "\\s+") </span></span>
<span id="cb282-2565"><a href="#cb282-2565" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2566"><a href="#cb282-2566" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_GPS_data &lt;- receiver_000900_GPS_data %&gt;% </span></span>
<span id="cb282-2567"><a href="#cb282-2567" aria-hidden="true" tabindex="-1"></a><span class="in">  # Select the columns for further processing</span></span>
<span id="cb282-2568"><a href="#cb282-2568" aria-hidden="true" tabindex="-1"></a><span class="in">  select("Date", "Time", "Tag ID", "power", "lon", "lat") </span></span>
<span id="cb282-2569"><a href="#cb282-2569" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2570"><a href="#cb282-2570" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb282-2571"><a href="#cb282-2571" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_GPS_data$dateTime_EST &lt;- as.POSIXct(paste(receiver_000900_GPS_data$Date, </span></span>
<span id="cb282-2572"><a href="#cb282-2572" aria-hidden="true" tabindex="-1"></a><span class="in">                                                          receiver_000900_GPS_data$Time), </span></span>
<span id="cb282-2573"><a href="#cb282-2573" aria-hidden="true" tabindex="-1"></a><span class="in">                                                    format="%m/%d/%y %H:%M:%S",</span></span>
<span id="cb282-2574"><a href="#cb282-2574" aria-hidden="true" tabindex="-1"></a><span class="in">                                                    tz = "EST")</span></span>
<span id="cb282-2575"><a href="#cb282-2575" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2576"><a href="#cb282-2576" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_GPS_data &lt;- receiver_000900_GPS_data %&gt;% </span></span>
<span id="cb282-2577"><a href="#cb282-2577" aria-hidden="true" tabindex="-1"></a><span class="in">  # Rename "Tag ID' column as "tagID"</span></span>
<span id="cb282-2578"><a href="#cb282-2578" aria-hidden="true" tabindex="-1"></a><span class="in">  rename_with(~ "tagID", .cols = `Tag ID`) %&gt;%</span></span>
<span id="cb282-2579"><a href="#cb282-2579" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2580"><a href="#cb282-2580" aria-hidden="true" tabindex="-1"></a><span class="in">  # Rename "Date' column as "date"</span></span>
<span id="cb282-2581"><a href="#cb282-2581" aria-hidden="true" tabindex="-1"></a><span class="in">  rename_with(~ "date", .cols = `Date`) </span></span>
<span id="cb282-2582"><a href="#cb282-2582" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2583"><a href="#cb282-2583" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_GPS_data &lt;- receiver_000900_GPS_data %&gt;% </span></span>
<span id="cb282-2584"><a href="#cb282-2584" aria-hidden="true" tabindex="-1"></a><span class="in">  # Select the columns for further processing</span></span>
<span id="cb282-2585"><a href="#cb282-2585" aria-hidden="true" tabindex="-1"></a><span class="in">  select("date", "tagID", "power","lon", "lat", "dateTime_EST") </span></span>
<span id="cb282-2586"><a href="#cb282-2586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2587"><a href="#cb282-2587" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_GPS_data &lt;- receiver_000900_GPS_data %&gt;%</span></span>
<span id="cb282-2588"><a href="#cb282-2588" aria-hidden="true" tabindex="-1"></a><span class="in">  # Clean and format the data</span></span>
<span id="cb282-2589"><a href="#cb282-2589" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(lat = as.numeric(lat), </span></span>
<span id="cb282-2590"><a href="#cb282-2590" aria-hidden="true" tabindex="-1"></a><span class="in">         lon = as.numeric(lon),</span></span>
<span id="cb282-2591"><a href="#cb282-2591" aria-hidden="true" tabindex="-1"></a><span class="in">         tagID = as.numeric(tagID),</span></span>
<span id="cb282-2592"><a href="#cb282-2592" aria-hidden="true" tabindex="-1"></a><span class="in">         power = as.numeric(power),</span></span>
<span id="cb282-2593"><a href="#cb282-2593" aria-hidden="true" tabindex="-1"></a><span class="in">         date = mdy(date),</span></span>
<span id="cb282-2594"><a href="#cb282-2594" aria-hidden="true" tabindex="-1"></a><span class="in">         source = "lotek")</span></span>
<span id="cb282-2595"><a href="#cb282-2595" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2596"><a href="#cb282-2596" aria-hidden="true" tabindex="-1"></a><span class="in"># Define the date range</span></span>
<span id="cb282-2597"><a href="#cb282-2597" aria-hidden="true" tabindex="-1"></a><span class="in">start_date &lt;- ymd("2024-06-11")  </span></span>
<span id="cb282-2598"><a href="#cb282-2598" aria-hidden="true" tabindex="-1"></a><span class="in">end_date &lt;- ymd("2024-08-29")   </span></span>
<span id="cb282-2599"><a href="#cb282-2599" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2600"><a href="#cb282-2600" aria-hidden="true" tabindex="-1"></a><span class="in"># Define specific days to filter out based on the non-tracking days on the calendar</span></span>
<span id="cb282-2601"><a href="#cb282-2601" aria-hidden="true" tabindex="-1"></a><span class="in">days_to_exclude &lt;- ymd(c("2024-06-21", "2024-06-24", "2024-07-04", "2024-07-05", </span></span>
<span id="cb282-2602"><a href="#cb282-2602" aria-hidden="true" tabindex="-1"></a><span class="in">                         "2024-07-08", "2024-07-15", "2024-07-22", "2024-07-29", </span></span>
<span id="cb282-2603"><a href="#cb282-2603" aria-hidden="true" tabindex="-1"></a><span class="in">                         "2024-08-12","2024-08-19", "2024-08-28"))</span></span>
<span id="cb282-2604"><a href="#cb282-2604" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2605"><a href="#cb282-2605" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_GPS_data &lt;- receiver_000900_GPS_data %&gt;% </span></span>
<span id="cb282-2606"><a href="#cb282-2606" aria-hidden="true" tabindex="-1"></a><span class="in">  # Filter by tagID range</span></span>
<span id="cb282-2607"><a href="#cb282-2607" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(tagID &gt; 10 &amp; tagID &lt; 63) %&gt;%</span></span>
<span id="cb282-2608"><a href="#cb282-2608" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2609"><a href="#cb282-2609" aria-hidden="true" tabindex="-1"></a><span class="in">  # Filter by the date range</span></span>
<span id="cb282-2610"><a href="#cb282-2610" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(date &gt;= start_date &amp; date &lt;= end_date) %&gt;%</span></span>
<span id="cb282-2611"><a href="#cb282-2611" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2612"><a href="#cb282-2612" aria-hidden="true" tabindex="-1"></a><span class="in">  # Filter out the specified days</span></span>
<span id="cb282-2613"><a href="#cb282-2613" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(!(date %in% days_to_exclude))</span></span>
<span id="cb282-2614"><a href="#cb282-2614" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2615"><a href="#cb282-2615" aria-hidden="true" tabindex="-1"></a><span class="in"># Define the date ranges for different rivers to account for retagging</span></span>
<span id="cb282-2616"><a href="#cb282-2616" aria-hidden="true" tabindex="-1"></a><span class="in">river_date_ranges &lt;- tibble(</span></span>
<span id="cb282-2617"><a href="#cb282-2617" aria-hidden="true" tabindex="-1"></a><span class="in">  river = c("AMETHYST", "UNDERHILL", "DICKEY", "DICKEY", </span></span>
<span id="cb282-2618"><a href="#cb282-2618" aria-hidden="true" tabindex="-1"></a><span class="in">            "DRY UPPER", "DRY UPPER"),</span></span>
<span id="cb282-2619"><a href="#cb282-2619" aria-hidden="true" tabindex="-1"></a><span class="in">  tagID_range = list(c(59, 60, 56, 14, 61, 20, 12, 15, </span></span>
<span id="cb282-2620"><a href="#cb282-2620" aria-hidden="true" tabindex="-1"></a><span class="in">                       13, 57, 19, 62, 11, 58, 18), </span></span>
<span id="cb282-2621"><a href="#cb282-2621" aria-hidden="true" tabindex="-1"></a><span class="in">                     c(41, 43, 40, 44, 33, 34, 45, 35, 27, 36), </span></span>
<span id="cb282-2622"><a href="#cb282-2622" aria-hidden="true" tabindex="-1"></a><span class="in">                     c(50, 37, 38, 46, 26, 28, 51, 32, 29, 31),</span></span>
<span id="cb282-2623"><a href="#cb282-2623" aria-hidden="true" tabindex="-1"></a><span class="in">                     c(50, 37, 38, 26, 28, 51, 32, 31),</span></span>
<span id="cb282-2624"><a href="#cb282-2624" aria-hidden="true" tabindex="-1"></a><span class="in">                     c(42, 49, 55, 16, 52, 21, 47, 24, </span></span>
<span id="cb282-2625"><a href="#cb282-2625" aria-hidden="true" tabindex="-1"></a><span class="in">                       48, 22, 17, 25, 54, 23, 53),</span></span>
<span id="cb282-2626"><a href="#cb282-2626" aria-hidden="true" tabindex="-1"></a><span class="in">                     c(29, 30, 46, 39)),</span></span>
<span id="cb282-2627"><a href="#cb282-2627" aria-hidden="true" tabindex="-1"></a><span class="in">  start_date = ymd(c("2024-06-11", "2024-06-11", "2024-06-11", "2024-07-18", </span></span>
<span id="cb282-2628"><a href="#cb282-2628" aria-hidden="true" tabindex="-1"></a><span class="in">                         "2024-06-11", "2024-07-18")),</span></span>
<span id="cb282-2629"><a href="#cb282-2629" aria-hidden="true" tabindex="-1"></a><span class="in">  end_date = ymd(c("2024-08-29", "2024-08-29", "2024-07-17", "2024-08-29", </span></span>
<span id="cb282-2630"><a href="#cb282-2630" aria-hidden="true" tabindex="-1"></a><span class="in">                       "2024-08-29", "2024-08-29"))</span></span>
<span id="cb282-2631"><a href="#cb282-2631" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb282-2632"><a href="#cb282-2632" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2633"><a href="#cb282-2633" aria-hidden="true" tabindex="-1"></a><span class="in"># Function to determine river based on tagID and date</span></span>
<span id="cb282-2634"><a href="#cb282-2634" aria-hidden="true" tabindex="-1"></a><span class="in">assign_river &lt;- function(tagID, date) {</span></span>
<span id="cb282-2635"><a href="#cb282-2635" aria-hidden="true" tabindex="-1"></a><span class="in">  # Filter the river_date_ranges for matching tagID and date range</span></span>
<span id="cb282-2636"><a href="#cb282-2636" aria-hidden="true" tabindex="-1"></a><span class="in">  river_info &lt;- river_date_ranges %&gt;%</span></span>
<span id="cb282-2637"><a href="#cb282-2637" aria-hidden="true" tabindex="-1"></a><span class="in">    filter(map_lgl(tagID_range, ~ tagID %in% .) &amp; date &gt;= start_date &amp; date &lt;= end_date)</span></span>
<span id="cb282-2638"><a href="#cb282-2638" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2639"><a href="#cb282-2639" aria-hidden="true" tabindex="-1"></a><span class="in">  if (nrow(river_info) &gt; 0) {</span></span>
<span id="cb282-2640"><a href="#cb282-2640" aria-hidden="true" tabindex="-1"></a><span class="in">    return(river_info$river[1])  # Return the matching river</span></span>
<span id="cb282-2641"><a href="#cb282-2641" aria-hidden="true" tabindex="-1"></a><span class="in">  } else {</span></span>
<span id="cb282-2642"><a href="#cb282-2642" aria-hidden="true" tabindex="-1"></a><span class="in">    return("Unknown")  # Default for no match</span></span>
<span id="cb282-2643"><a href="#cb282-2643" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb282-2644"><a href="#cb282-2644" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-2645"><a href="#cb282-2645" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2646"><a href="#cb282-2646" aria-hidden="true" tabindex="-1"></a><span class="in"># Ensure the 'date' column is in Date format</span></span>
<span id="cb282-2647"><a href="#cb282-2647" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_GPS_data$date &lt;- ymd(receiver_000900_GPS_data$date)</span></span>
<span id="cb282-2648"><a href="#cb282-2648" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2649"><a href="#cb282-2649" aria-hidden="true" tabindex="-1"></a><span class="in"># Apply the function to the data frame</span></span>
<span id="cb282-2650"><a href="#cb282-2650" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_GPS_data &lt;- receiver_000900_GPS_data %&gt;%</span></span>
<span id="cb282-2651"><a href="#cb282-2651" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = mapply(assign_river, tagID, date))</span></span>
<span id="cb282-2652"><a href="#cb282-2652" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2653"><a href="#cb282-2653" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove rows where river is "Unknown"</span></span>
<span id="cb282-2654"><a href="#cb282-2654" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_GPS_data &lt;- receiver_000900_GPS_data %&gt;%</span></span>
<span id="cb282-2655"><a href="#cb282-2655" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(river != "Unknown")</span></span>
<span id="cb282-2656"><a href="#cb282-2656" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2657"><a href="#cb282-2657" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_GPS_data &lt;- receiver_000900_GPS_data %&gt;% </span></span>
<span id="cb282-2658"><a href="#cb282-2658" aria-hidden="true" tabindex="-1"></a><span class="in">  # Select the columns for the final dataframe</span></span>
<span id="cb282-2659"><a href="#cb282-2659" aria-hidden="true" tabindex="-1"></a><span class="in">  select("tagID", "power","lon", "lat", "dateTime_EST", "river", "date")</span></span>
<span id="cb282-2660"><a href="#cb282-2660" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2661"><a href="#cb282-2661" aria-hidden="true" tabindex="-1"></a><span class="in"># View dataframe</span></span>
<span id="cb282-2662"><a href="#cb282-2662" aria-hidden="true" tabindex="-1"></a><span class="in">head(receiver_000900_GPS_data)</span></span>
<span id="cb282-2663"><a href="#cb282-2663" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2664"><a href="#cb282-2664" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2665"><a href="#cb282-2665" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2666"><a href="#cb282-2666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2667"><a href="#cb282-2667" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combining the lotek receiver 000900 data back into one dataframe}</span></span>
<span id="cb282-2668"><a href="#cb282-2668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2669"><a href="#cb282-2669" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine back into one dataframe ###########################################################</span></span>
<span id="cb282-2670"><a href="#cb282-2670" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2671"><a href="#cb282-2671" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the two final dataframes horizontally </span></span>
<span id="cb282-2672"><a href="#cb282-2672" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000900_data &lt;- bind_rows(receiver_000900_ID_data, receiver_000900_GPS_data)</span></span>
<span id="cb282-2673"><a href="#cb282-2673" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2674"><a href="#cb282-2674" aria-hidden="true" tabindex="-1"></a><span class="in"># Clean workspace by removing excess variables</span></span>
<span id="cb282-2675"><a href="#cb282-2675" aria-hidden="true" tabindex="-1"></a><span class="in">rm(river_date_ranges, receiver_000900_raw_data, receiver_000900_ID_data, receiver_000900_GPS_data)</span></span>
<span id="cb282-2676"><a href="#cb282-2676" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2677"><a href="#cb282-2677" aria-hidden="true" tabindex="-1"></a><span class="in"># View dataframe</span></span>
<span id="cb282-2678"><a href="#cb282-2678" aria-hidden="true" tabindex="-1"></a><span class="in">head(receiver_000900_data)</span></span>
<span id="cb282-2679"><a href="#cb282-2679" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2680"><a href="#cb282-2680" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2681"><a href="#cb282-2681" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2682"><a href="#cb282-2682" aria-hidden="true" tabindex="-1"></a><span class="fu">### Lotek receiver 000517 data</span></span>
<span id="cb282-2683"><a href="#cb282-2683" aria-hidden="true" tabindex="-1"></a>No ID+GPS data on this receiver - No combination needed</span>
<span id="cb282-2684"><a href="#cb282-2684" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2685"><a href="#cb282-2685" aria-hidden="true" tabindex="-1"></a><span class="in">```{r processing the lotek receiver 000517 ID only data}</span></span>
<span id="cb282-2686"><a href="#cb282-2686" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2687"><a href="#cb282-2687" aria-hidden="true" tabindex="-1"></a><span class="in"># ID Only Data ###########################################################</span></span>
<span id="cb282-2688"><a href="#cb282-2688" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2689"><a href="#cb282-2689" aria-hidden="true" tabindex="-1"></a><span class="in"># Read the dataset</span></span>
<span id="cb282-2690"><a href="#cb282-2690" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000517_raw_data &lt;- read.delim("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawLotekData/000517/20240912/000517_20240912.txt")</span></span>
<span id="cb282-2691"><a href="#cb282-2691" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2692"><a href="#cb282-2692" aria-hidden="true" tabindex="-1"></a><span class="in"># Rename the single column in the dataset as "columnOne"</span></span>
<span id="cb282-2693"><a href="#cb282-2693" aria-hidden="true" tabindex="-1"></a><span class="in">names(receiver_000517_raw_data) &lt;- c("columnOne")</span></span>
<span id="cb282-2694"><a href="#cb282-2694" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2695"><a href="#cb282-2695" aria-hidden="true" tabindex="-1"></a><span class="in"># Detect the start of the row that says "ID Only Records:" and create a flag</span></span>
<span id="cb282-2696"><a href="#cb282-2696" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000517_ID_data &lt;- receiver_000517_raw_data %&gt;% </span></span>
<span id="cb282-2697"><a href="#cb282-2697" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(column2 = ifelse(columnOne == "ID Only Records:", 1, 0)) </span></span>
<span id="cb282-2698"><a href="#cb282-2698" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2699"><a href="#cb282-2699" aria-hidden="true" tabindex="-1"></a><span class="in"># Detect the start of row that says "End of Data" </span></span>
<span id="cb282-2700"><a href="#cb282-2700" aria-hidden="true" tabindex="-1"></a><span class="in">end_of_data_row &lt;- which(receiver_000517_raw_data$columnOne == "End of Data")</span></span>
<span id="cb282-2701"><a href="#cb282-2701" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2702"><a href="#cb282-2702" aria-hidden="true" tabindex="-1"></a><span class="in"># If "End of Data" is found, slice until the row before it</span></span>
<span id="cb282-2703"><a href="#cb282-2703" aria-hidden="true" tabindex="-1"></a><span class="in">if(length(end_of_data_row) &gt; 0) {</span></span>
<span id="cb282-2704"><a href="#cb282-2704" aria-hidden="true" tabindex="-1"></a><span class="in">  end_of_data_row &lt;- end_of_data_row[1] - 1  # One row before "End of data"</span></span>
<span id="cb282-2705"><a href="#cb282-2705" aria-hidden="true" tabindex="-1"></a><span class="in">} else {</span></span>
<span id="cb282-2706"><a href="#cb282-2706" aria-hidden="true" tabindex="-1"></a><span class="in">  end_of_data_row &lt;- nrow(receiver_000517_raw_data)  # If "End of data" not found, slice till the bottom</span></span>
<span id="cb282-2707"><a href="#cb282-2707" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-2708"><a href="#cb282-2708" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2709"><a href="#cb282-2709" aria-hidden="true" tabindex="-1"></a><span class="in"># Slice out the data by detecting the start and extracting relevant rows</span></span>
<span id="cb282-2710"><a href="#cb282-2710" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000517_ID_data &lt;- receiver_000517_ID_data %&gt;% </span></span>
<span id="cb282-2711"><a href="#cb282-2711" aria-hidden="true" tabindex="-1"></a><span class="in">  slice((which(grepl(1, receiver_000517_ID_data$column2)) + 2) : end_of_data_row)</span></span>
<span id="cb282-2712"><a href="#cb282-2712" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2713"><a href="#cb282-2713" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000517_ID_data &lt;- receiver_000517_ID_data %&gt;% </span></span>
<span id="cb282-2714"><a href="#cb282-2714" aria-hidden="true" tabindex="-1"></a><span class="in">  # Split the initial columns based on space separation</span></span>
<span id="cb282-2715"><a href="#cb282-2715" aria-hidden="true" tabindex="-1"></a><span class="in">  separate(columnOne , c("Date", "Time", "Channel", "Tag ID", "Antenna", "Power"), </span></span>
<span id="cb282-2716"><a href="#cb282-2716" aria-hidden="true" tabindex="-1"></a><span class="in">           extra = "merge", sep = "\\s+")</span></span>
<span id="cb282-2717"><a href="#cb282-2717" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2718"><a href="#cb282-2718" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000517_ID_data &lt;- receiver_000517_ID_data %&gt;% </span></span>
<span id="cb282-2719"><a href="#cb282-2719" aria-hidden="true" tabindex="-1"></a><span class="in">  # Select the columns for further processing</span></span>
<span id="cb282-2720"><a href="#cb282-2720" aria-hidden="true" tabindex="-1"></a><span class="in">  select("Date", "Time", "Tag ID", "Power") </span></span>
<span id="cb282-2721"><a href="#cb282-2721" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2722"><a href="#cb282-2722" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb282-2723"><a href="#cb282-2723" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000517_ID_data$dateTime_EST &lt;- as.POSIXct(paste(receiver_000517_ID_data$Date, </span></span>
<span id="cb282-2724"><a href="#cb282-2724" aria-hidden="true" tabindex="-1"></a><span class="in">                                                         receiver_000517_ID_data$Time), </span></span>
<span id="cb282-2725"><a href="#cb282-2725" aria-hidden="true" tabindex="-1"></a><span class="in">                                                   format="%m/%d/%y %H:%M:%S",</span></span>
<span id="cb282-2726"><a href="#cb282-2726" aria-hidden="true" tabindex="-1"></a><span class="in">                                                   tz = "EST") </span></span>
<span id="cb282-2727"><a href="#cb282-2727" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2728"><a href="#cb282-2728" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000517_ID_data &lt;- receiver_000517_ID_data %&gt;% </span></span>
<span id="cb282-2729"><a href="#cb282-2729" aria-hidden="true" tabindex="-1"></a><span class="in">  # Rename "Tag ID' column as "tagID"</span></span>
<span id="cb282-2730"><a href="#cb282-2730" aria-hidden="true" tabindex="-1"></a><span class="in">  rename_with(~ "tagID", .cols = `Tag ID`) %&gt;%</span></span>
<span id="cb282-2731"><a href="#cb282-2731" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2732"><a href="#cb282-2732" aria-hidden="true" tabindex="-1"></a><span class="in">  # Rename "Date' column as "date"</span></span>
<span id="cb282-2733"><a href="#cb282-2733" aria-hidden="true" tabindex="-1"></a><span class="in">  rename_with(~ "date", .cols = `Date`) %&gt;%</span></span>
<span id="cb282-2734"><a href="#cb282-2734" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2735"><a href="#cb282-2735" aria-hidden="true" tabindex="-1"></a><span class="in">  # Rename "Power' column as "power"</span></span>
<span id="cb282-2736"><a href="#cb282-2736" aria-hidden="true" tabindex="-1"></a><span class="in">  rename_with(~ "power", .cols = `Power`)</span></span>
<span id="cb282-2737"><a href="#cb282-2737" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2738"><a href="#cb282-2738" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000517_ID_data &lt;- receiver_000517_ID_data %&gt;% </span></span>
<span id="cb282-2739"><a href="#cb282-2739" aria-hidden="true" tabindex="-1"></a><span class="in">  # Select the columns for further processing</span></span>
<span id="cb282-2740"><a href="#cb282-2740" aria-hidden="true" tabindex="-1"></a><span class="in">  select("date", "tagID", "power", "dateTime_EST") </span></span>
<span id="cb282-2741"><a href="#cb282-2741" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2742"><a href="#cb282-2742" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000517_ID_data &lt;- receiver_000517_ID_data %&gt;%</span></span>
<span id="cb282-2743"><a href="#cb282-2743" aria-hidden="true" tabindex="-1"></a><span class="in">  # Clean and format the data</span></span>
<span id="cb282-2744"><a href="#cb282-2744" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(tagID = as.numeric(tagID),</span></span>
<span id="cb282-2745"><a href="#cb282-2745" aria-hidden="true" tabindex="-1"></a><span class="in">         power = as.numeric(power),</span></span>
<span id="cb282-2746"><a href="#cb282-2746" aria-hidden="true" tabindex="-1"></a><span class="in">         date = mdy(date),</span></span>
<span id="cb282-2747"><a href="#cb282-2747" aria-hidden="true" tabindex="-1"></a><span class="in">         source = "lotek")</span></span>
<span id="cb282-2748"><a href="#cb282-2748" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2749"><a href="#cb282-2749" aria-hidden="true" tabindex="-1"></a><span class="in"># Define the date range</span></span>
<span id="cb282-2750"><a href="#cb282-2750" aria-hidden="true" tabindex="-1"></a><span class="in">start_date &lt;- ymd("2024-06-11")  </span></span>
<span id="cb282-2751"><a href="#cb282-2751" aria-hidden="true" tabindex="-1"></a><span class="in">end_date &lt;- ymd("2024-08-29")   </span></span>
<span id="cb282-2752"><a href="#cb282-2752" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2753"><a href="#cb282-2753" aria-hidden="true" tabindex="-1"></a><span class="in"># Define specific days to filter out based on the non-tracking days on the calendar</span></span>
<span id="cb282-2754"><a href="#cb282-2754" aria-hidden="true" tabindex="-1"></a><span class="in">days_to_exclude &lt;- ymd(c("2024-06-21", "2024-06-24", "2024-07-04", "2024-07-05", </span></span>
<span id="cb282-2755"><a href="#cb282-2755" aria-hidden="true" tabindex="-1"></a><span class="in">                         "2024-07-08", "2024-07-15", "2024-07-22", "2024-07-29", </span></span>
<span id="cb282-2756"><a href="#cb282-2756" aria-hidden="true" tabindex="-1"></a><span class="in">                         "2024-08-12","2024-08-19", "2024-08-28"))</span></span>
<span id="cb282-2757"><a href="#cb282-2757" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2758"><a href="#cb282-2758" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000517_ID_data &lt;- receiver_000517_ID_data %&gt;% </span></span>
<span id="cb282-2759"><a href="#cb282-2759" aria-hidden="true" tabindex="-1"></a><span class="in">  # Filter by tagID range</span></span>
<span id="cb282-2760"><a href="#cb282-2760" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(tagID &gt; 10 &amp; tagID &lt; 63) %&gt;%</span></span>
<span id="cb282-2761"><a href="#cb282-2761" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2762"><a href="#cb282-2762" aria-hidden="true" tabindex="-1"></a><span class="in">  # Filter by the date range</span></span>
<span id="cb282-2763"><a href="#cb282-2763" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(date &gt;= start_date &amp; date &lt;= end_date) %&gt;%</span></span>
<span id="cb282-2764"><a href="#cb282-2764" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2765"><a href="#cb282-2765" aria-hidden="true" tabindex="-1"></a><span class="in">  # Filter out the specified days</span></span>
<span id="cb282-2766"><a href="#cb282-2766" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(!(date %in% days_to_exclude))</span></span>
<span id="cb282-2767"><a href="#cb282-2767" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2768"><a href="#cb282-2768" aria-hidden="true" tabindex="-1"></a><span class="in"># Define the date ranges for different rivers to account for retagging</span></span>
<span id="cb282-2769"><a href="#cb282-2769" aria-hidden="true" tabindex="-1"></a><span class="in">river_date_ranges &lt;- tibble(</span></span>
<span id="cb282-2770"><a href="#cb282-2770" aria-hidden="true" tabindex="-1"></a><span class="in">  river = c("AMETHYST", "UNDERHILL", "DICKEY", "DICKEY", </span></span>
<span id="cb282-2771"><a href="#cb282-2771" aria-hidden="true" tabindex="-1"></a><span class="in">            "DRY UPPER", "DRY UPPER"),</span></span>
<span id="cb282-2772"><a href="#cb282-2772" aria-hidden="true" tabindex="-1"></a><span class="in">  tagID_range = list(c(59, 60, 56, 14, 61, 20, 12, 15, </span></span>
<span id="cb282-2773"><a href="#cb282-2773" aria-hidden="true" tabindex="-1"></a><span class="in">                       13, 57, 19, 62, 11, 58, 18), </span></span>
<span id="cb282-2774"><a href="#cb282-2774" aria-hidden="true" tabindex="-1"></a><span class="in">                     c(41, 43, 40, 44, 33, 34, 45, 35, 27, 36), </span></span>
<span id="cb282-2775"><a href="#cb282-2775" aria-hidden="true" tabindex="-1"></a><span class="in">                     c(50, 37, 38, 46, 26, 28, 51, 32, 29, 31),</span></span>
<span id="cb282-2776"><a href="#cb282-2776" aria-hidden="true" tabindex="-1"></a><span class="in">                     c(50, 37, 38, 26, 28, 51, 32, 31),</span></span>
<span id="cb282-2777"><a href="#cb282-2777" aria-hidden="true" tabindex="-1"></a><span class="in">                     c(42, 49, 55, 16, 52, 21, 47, 24, </span></span>
<span id="cb282-2778"><a href="#cb282-2778" aria-hidden="true" tabindex="-1"></a><span class="in">                       48, 22, 17, 25, 54, 23, 53),</span></span>
<span id="cb282-2779"><a href="#cb282-2779" aria-hidden="true" tabindex="-1"></a><span class="in">                     c(29, 30, 46, 39)),</span></span>
<span id="cb282-2780"><a href="#cb282-2780" aria-hidden="true" tabindex="-1"></a><span class="in">  start_date = ymd(c("2024-06-11", "2024-06-11", "2024-06-11", "2024-07-18", </span></span>
<span id="cb282-2781"><a href="#cb282-2781" aria-hidden="true" tabindex="-1"></a><span class="in">                         "2024-06-11", "2024-07-18")),</span></span>
<span id="cb282-2782"><a href="#cb282-2782" aria-hidden="true" tabindex="-1"></a><span class="in">  end_date = ymd(c("2024-08-29", "2024-08-29", "2024-07-17", "2024-08-29", </span></span>
<span id="cb282-2783"><a href="#cb282-2783" aria-hidden="true" tabindex="-1"></a><span class="in">                       "2024-08-29", "2024-08-29"))</span></span>
<span id="cb282-2784"><a href="#cb282-2784" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb282-2785"><a href="#cb282-2785" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2786"><a href="#cb282-2786" aria-hidden="true" tabindex="-1"></a><span class="in"># Function to determine river based on tagID and date</span></span>
<span id="cb282-2787"><a href="#cb282-2787" aria-hidden="true" tabindex="-1"></a><span class="in">assign_river &lt;- function(tagID, date) {</span></span>
<span id="cb282-2788"><a href="#cb282-2788" aria-hidden="true" tabindex="-1"></a><span class="in">  # Filter the river_date_ranges for matching tagID and date range</span></span>
<span id="cb282-2789"><a href="#cb282-2789" aria-hidden="true" tabindex="-1"></a><span class="in">  river_info &lt;- river_date_ranges %&gt;%</span></span>
<span id="cb282-2790"><a href="#cb282-2790" aria-hidden="true" tabindex="-1"></a><span class="in">    filter(map_lgl(tagID_range, ~ tagID %in% .) &amp; date &gt;= start_date &amp; date &lt;= end_date)</span></span>
<span id="cb282-2791"><a href="#cb282-2791" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2792"><a href="#cb282-2792" aria-hidden="true" tabindex="-1"></a><span class="in">  if (nrow(river_info) &gt; 0) {</span></span>
<span id="cb282-2793"><a href="#cb282-2793" aria-hidden="true" tabindex="-1"></a><span class="in">    return(river_info$river[1])  # Return the matching river</span></span>
<span id="cb282-2794"><a href="#cb282-2794" aria-hidden="true" tabindex="-1"></a><span class="in">  } else {</span></span>
<span id="cb282-2795"><a href="#cb282-2795" aria-hidden="true" tabindex="-1"></a><span class="in">    return("Unknown")  # Default for no match</span></span>
<span id="cb282-2796"><a href="#cb282-2796" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb282-2797"><a href="#cb282-2797" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-2798"><a href="#cb282-2798" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2799"><a href="#cb282-2799" aria-hidden="true" tabindex="-1"></a><span class="in"># Ensure the 'date' column is in Date format</span></span>
<span id="cb282-2800"><a href="#cb282-2800" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000517_ID_data$date &lt;- ymd(receiver_000517_ID_data$date)</span></span>
<span id="cb282-2801"><a href="#cb282-2801" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2802"><a href="#cb282-2802" aria-hidden="true" tabindex="-1"></a><span class="in"># Apply the function to the data frame</span></span>
<span id="cb282-2803"><a href="#cb282-2803" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000517_ID_data &lt;- receiver_000517_ID_data %&gt;%</span></span>
<span id="cb282-2804"><a href="#cb282-2804" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = mapply(assign_river, tagID, date))</span></span>
<span id="cb282-2805"><a href="#cb282-2805" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2806"><a href="#cb282-2806" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove rows where river is "Unknown"</span></span>
<span id="cb282-2807"><a href="#cb282-2807" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000517_ID_data &lt;- receiver_000517_ID_data %&gt;%</span></span>
<span id="cb282-2808"><a href="#cb282-2808" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(river != "Unknown")</span></span>
<span id="cb282-2809"><a href="#cb282-2809" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2810"><a href="#cb282-2810" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_000517_ID_data &lt;- receiver_000517_ID_data %&gt;% </span></span>
<span id="cb282-2811"><a href="#cb282-2811" aria-hidden="true" tabindex="-1"></a><span class="in">  # Select the columns for the final dataframe</span></span>
<span id="cb282-2812"><a href="#cb282-2812" aria-hidden="true" tabindex="-1"></a><span class="in">  select("tagID", "power", "dateTime_EST", "river", "date") </span></span>
<span id="cb282-2813"><a href="#cb282-2813" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2814"><a href="#cb282-2814" aria-hidden="true" tabindex="-1"></a><span class="in"># Clean workspace by removing excess variables</span></span>
<span id="cb282-2815"><a href="#cb282-2815" aria-hidden="true" tabindex="-1"></a><span class="in">rm(receiver_000517_raw_data, river_date_ranges)</span></span>
<span id="cb282-2816"><a href="#cb282-2816" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2817"><a href="#cb282-2817" aria-hidden="true" tabindex="-1"></a><span class="in"># View dataframe</span></span>
<span id="cb282-2818"><a href="#cb282-2818" aria-hidden="true" tabindex="-1"></a><span class="in">head(receiver_000517_ID_data)</span></span>
<span id="cb282-2819"><a href="#cb282-2819" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2820"><a href="#cb282-2820" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2821"><a href="#cb282-2821" aria-hidden="true" tabindex="-1"></a><span class="fu">### Combine all data from all receivers</span></span>
<span id="cb282-2822"><a href="#cb282-2822" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2823"><a href="#cb282-2823" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine data from multiple receivers}</span></span>
<span id="cb282-2824"><a href="#cb282-2824" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2825"><a href="#cb282-2825" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine multiple receivers into one dataframe ########################################</span></span>
<span id="cb282-2826"><a href="#cb282-2826" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2827"><a href="#cb282-2827" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the two final dataframes horizontally</span></span>
<span id="cb282-2828"><a href="#cb282-2828" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_data_all &lt;- bind_rows(receiver_000900_data, receiver_000517_ID_data)</span></span>
<span id="cb282-2829"><a href="#cb282-2829" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2830"><a href="#cb282-2830" aria-hidden="true" tabindex="-1"></a><span class="in"># Clean workspace by removing excess variables</span></span>
<span id="cb282-2831"><a href="#cb282-2831" aria-hidden="true" tabindex="-1"></a><span class="in">rm(receiver_000900_data, receiver_000517_ID_data)</span></span>
<span id="cb282-2832"><a href="#cb282-2832" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2833"><a href="#cb282-2833" aria-hidden="true" tabindex="-1"></a><span class="in"># View dataframe</span></span>
<span id="cb282-2834"><a href="#cb282-2834" aria-hidden="true" tabindex="-1"></a><span class="in">head(receiver_data_all)</span></span>
<span id="cb282-2835"><a href="#cb282-2835" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2836"><a href="#cb282-2836" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2837"><a href="#cb282-2837" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2838"><a href="#cb282-2838" aria-hidden="true" tabindex="-1"></a><span class="fu">### Add day and night shift differentiation into receiver data</span></span>
<span id="cb282-2839"><a href="#cb282-2839" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2840"><a href="#cb282-2840" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the receiver data}</span></span>
<span id="cb282-2841"><a href="#cb282-2841" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2842"><a href="#cb282-2842" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_data_all &lt;- receiver_data_all %&gt;%</span></span>
<span id="cb282-2843"><a href="#cb282-2843" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-2844"><a href="#cb282-2844" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-2845"><a href="#cb282-2845" aria-hidden="true" tabindex="-1"></a><span class="in">      # Define shift for week 1</span></span>
<span id="cb282-2846"><a href="#cb282-2846" aria-hidden="true" tabindex="-1"></a><span class="in">      date(dateTime_EST) &gt;= ymd("2024-06-11") &amp; date(dateTime_EST) &lt;= ymd("2024-06-14") &amp;</span></span>
<span id="cb282-2847"><a href="#cb282-2847" aria-hidden="true" tabindex="-1"></a><span class="in">      hour(dateTime_EST) &gt;= 4 &amp; hour(dateTime_EST) &lt; 12 ~ "day",</span></span>
<span id="cb282-2848"><a href="#cb282-2848" aria-hidden="true" tabindex="-1"></a><span class="in">      </span></span>
<span id="cb282-2849"><a href="#cb282-2849" aria-hidden="true" tabindex="-1"></a><span class="in">      # Define shift for week 2</span></span>
<span id="cb282-2850"><a href="#cb282-2850" aria-hidden="true" tabindex="-1"></a><span class="in">      date(dateTime_EST) &gt;= ymd("2024-06-17") &amp; date(dateTime_EST) &lt;= ymd("2024-06-20") &amp;</span></span>
<span id="cb282-2851"><a href="#cb282-2851" aria-hidden="true" tabindex="-1"></a><span class="in">      hour(dateTime_EST) &gt;= 10 &amp; hour(dateTime_EST) &lt; 18 ~ "day",</span></span>
<span id="cb282-2852"><a href="#cb282-2852" aria-hidden="true" tabindex="-1"></a><span class="in">      </span></span>
<span id="cb282-2853"><a href="#cb282-2853" aria-hidden="true" tabindex="-1"></a><span class="in">      # Define shift for week 3</span></span>
<span id="cb282-2854"><a href="#cb282-2854" aria-hidden="true" tabindex="-1"></a><span class="in">      date(dateTime_EST) &gt;= ymd("2024-06-25") &amp; date(dateTime_EST) &lt;= ymd("2024-06-28") &amp;</span></span>
<span id="cb282-2855"><a href="#cb282-2855" aria-hidden="true" tabindex="-1"></a><span class="in">      hour(dateTime_EST) &gt;= 4 &amp; hour(dateTime_EST) &lt; 12 ~ "day",</span></span>
<span id="cb282-2856"><a href="#cb282-2856" aria-hidden="true" tabindex="-1"></a><span class="in">      </span></span>
<span id="cb282-2857"><a href="#cb282-2857" aria-hidden="true" tabindex="-1"></a><span class="in">      # Define shift for week 4</span></span>
<span id="cb282-2858"><a href="#cb282-2858" aria-hidden="true" tabindex="-1"></a><span class="in">      date(dateTime_EST) &gt;= ymd("2024-06-30") &amp; date(dateTime_EST) &lt;= ymd("2024-07-03") &amp;</span></span>
<span id="cb282-2859"><a href="#cb282-2859" aria-hidden="true" tabindex="-1"></a><span class="in">      hour(dateTime_EST) &gt;= 2 &amp; hour(dateTime_EST) &lt; 10 ~ "day",</span></span>
<span id="cb282-2860"><a href="#cb282-2860" aria-hidden="true" tabindex="-1"></a><span class="in">      </span></span>
<span id="cb282-2861"><a href="#cb282-2861" aria-hidden="true" tabindex="-1"></a><span class="in">      # Define shift for week 5</span></span>
<span id="cb282-2862"><a href="#cb282-2862" aria-hidden="true" tabindex="-1"></a><span class="in">      date(dateTime_EST) &gt;= ymd("2024-07-09") &amp; date(dateTime_EST) &lt;= ymd("2024-07-12") &amp;</span></span>
<span id="cb282-2863"><a href="#cb282-2863" aria-hidden="true" tabindex="-1"></a><span class="in">      hour(dateTime_EST) &gt;= 6 &amp; hour(dateTime_EST) &lt; 14 ~ "day",</span></span>
<span id="cb282-2864"><a href="#cb282-2864" aria-hidden="true" tabindex="-1"></a><span class="in">      </span></span>
<span id="cb282-2865"><a href="#cb282-2865" aria-hidden="true" tabindex="-1"></a><span class="in">      # Define shift for week 6</span></span>
<span id="cb282-2866"><a href="#cb282-2866" aria-hidden="true" tabindex="-1"></a><span class="in">      date(dateTime_EST) &gt;= ymd("2024-07-16") &amp; date(dateTime_EST) &lt;= ymd("2024-07-19") &amp;</span></span>
<span id="cb282-2867"><a href="#cb282-2867" aria-hidden="true" tabindex="-1"></a><span class="in">      hour(dateTime_EST) &gt;= 2 &amp; hour(dateTime_EST) &lt; 10 ~ "day",</span></span>
<span id="cb282-2868"><a href="#cb282-2868" aria-hidden="true" tabindex="-1"></a><span class="in">      </span></span>
<span id="cb282-2869"><a href="#cb282-2869" aria-hidden="true" tabindex="-1"></a><span class="in">      # Define shift for week 7</span></span>
<span id="cb282-2870"><a href="#cb282-2870" aria-hidden="true" tabindex="-1"></a><span class="in">      date(dateTime_EST) &gt;= ymd("2024-07-23") &amp; date(dateTime_EST) &lt;= ymd("2024-07-26") &amp;</span></span>
<span id="cb282-2871"><a href="#cb282-2871" aria-hidden="true" tabindex="-1"></a><span class="in">      hour(dateTime_EST) &gt;= 6 &amp; hour(dateTime_EST) &lt; 14 ~ "day",</span></span>
<span id="cb282-2872"><a href="#cb282-2872" aria-hidden="true" tabindex="-1"></a><span class="in">      </span></span>
<span id="cb282-2873"><a href="#cb282-2873" aria-hidden="true" tabindex="-1"></a><span class="in">      # Define shift for week 8</span></span>
<span id="cb282-2874"><a href="#cb282-2874" aria-hidden="true" tabindex="-1"></a><span class="in">      date(dateTime_EST) &gt;= ymd("2024-07-30") &amp; date(dateTime_EST) &lt;= ymd("2024-08-02") &amp;</span></span>
<span id="cb282-2875"><a href="#cb282-2875" aria-hidden="true" tabindex="-1"></a><span class="in">      hour(dateTime_EST) &gt;= 2 &amp; hour(dateTime_EST) &lt; 11 ~ "day",</span></span>
<span id="cb282-2876"><a href="#cb282-2876" aria-hidden="true" tabindex="-1"></a><span class="in">      </span></span>
<span id="cb282-2877"><a href="#cb282-2877" aria-hidden="true" tabindex="-1"></a><span class="in">      # Define shift for supplementary tracking on August 5, 2024</span></span>
<span id="cb282-2878"><a href="#cb282-2878" aria-hidden="true" tabindex="-1"></a><span class="in">      date(dateTime_EST) == ymd("2024-08-05") ~ "day",</span></span>
<span id="cb282-2879"><a href="#cb282-2879" aria-hidden="true" tabindex="-1"></a><span class="in">      </span></span>
<span id="cb282-2880"><a href="#cb282-2880" aria-hidden="true" tabindex="-1"></a><span class="in">      # Define shift for week 9</span></span>
<span id="cb282-2881"><a href="#cb282-2881" aria-hidden="true" tabindex="-1"></a><span class="in">      date(dateTime_EST) &gt;= ymd("2024-08-06") &amp; date(dateTime_EST) &lt;= ymd("2024-08-09") &amp;</span></span>
<span id="cb282-2882"><a href="#cb282-2882" aria-hidden="true" tabindex="-1"></a><span class="in">      hour(dateTime_EST) &gt;= 6 &amp; hour(dateTime_EST) &lt; 14 ~ "day",</span></span>
<span id="cb282-2883"><a href="#cb282-2883" aria-hidden="true" tabindex="-1"></a><span class="in">      </span></span>
<span id="cb282-2884"><a href="#cb282-2884" aria-hidden="true" tabindex="-1"></a><span class="in">      # Define shift for week 10</span></span>
<span id="cb282-2885"><a href="#cb282-2885" aria-hidden="true" tabindex="-1"></a><span class="in">      date(dateTime_EST) &gt;= ymd("2024-08-13") &amp; date(dateTime_EST) &lt;= ymd("2024-08-16") &amp;</span></span>
<span id="cb282-2886"><a href="#cb282-2886" aria-hidden="true" tabindex="-1"></a><span class="in">      hour(dateTime_EST) &gt;= 3 &amp; hour(dateTime_EST) &lt; 11 ~ "day",</span></span>
<span id="cb282-2887"><a href="#cb282-2887" aria-hidden="true" tabindex="-1"></a><span class="in">      </span></span>
<span id="cb282-2888"><a href="#cb282-2888" aria-hidden="true" tabindex="-1"></a><span class="in">      # Define shift for week 11</span></span>
<span id="cb282-2889"><a href="#cb282-2889" aria-hidden="true" tabindex="-1"></a><span class="in">      date(dateTime_EST) &gt;= ymd("2024-08-20") &amp; date(dateTime_EST) &lt;= ymd("2024-08-23") ~ "day",</span></span>
<span id="cb282-2890"><a href="#cb282-2890" aria-hidden="true" tabindex="-1"></a><span class="in">      </span></span>
<span id="cb282-2891"><a href="#cb282-2891" aria-hidden="true" tabindex="-1"></a><span class="in">      # Define shift for week 12</span></span>
<span id="cb282-2892"><a href="#cb282-2892" aria-hidden="true" tabindex="-1"></a><span class="in">      date(dateTime_EST) &gt;= ymd("2024-08-26") &amp; date(dateTime_EST) &lt;= ymd("2024-08-29") ~ "day",</span></span>
<span id="cb282-2893"><a href="#cb282-2893" aria-hidden="true" tabindex="-1"></a><span class="in">      </span></span>
<span id="cb282-2894"><a href="#cb282-2894" aria-hidden="true" tabindex="-1"></a><span class="in">      # Default to night shift for all other times</span></span>
<span id="cb282-2895"><a href="#cb282-2895" aria-hidden="true" tabindex="-1"></a><span class="in">      TRUE ~ "night"</span></span>
<span id="cb282-2896"><a href="#cb282-2896" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-2897"><a href="#cb282-2897" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-2898"><a href="#cb282-2898" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2899"><a href="#cb282-2899" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_data_all &lt;- receiver_data_all %&gt;%</span></span>
<span id="cb282-2900"><a href="#cb282-2900" aria-hidden="true" tabindex="-1"></a><span class="in">  # Rename column</span></span>
<span id="cb282-2901"><a href="#cb282-2901" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(trackedTime_EST = dateTime_EST,</span></span>
<span id="cb282-2902"><a href="#cb282-2902" aria-hidden="true" tabindex="-1"></a><span class="in">         source = "receiver")</span></span>
<span id="cb282-2903"><a href="#cb282-2903" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2904"><a href="#cb282-2904" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_data_all &lt;- receiver_data_all %&gt;% </span></span>
<span id="cb282-2905"><a href="#cb282-2905" aria-hidden="true" tabindex="-1"></a><span class="in">  # Select the columns for the final dataframe</span></span>
<span id="cb282-2906"><a href="#cb282-2906" aria-hidden="true" tabindex="-1"></a><span class="in">  select("date", "trackedTime_EST", "river", "shift", "tagID", "power", "lon", "lat", "source")</span></span>
<span id="cb282-2907"><a href="#cb282-2907" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2908"><a href="#cb282-2908" aria-hidden="true" tabindex="-1"></a><span class="in">head(receiver_data_all)</span></span>
<span id="cb282-2909"><a href="#cb282-2909" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2910"><a href="#cb282-2910" aria-hidden="true" tabindex="-1"></a><span class="in"># Write the dataframe into a csv</span></span>
<span id="cb282-2911"><a href="#cb282-2911" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(receiver_data_all, </span></span>
<span id="cb282-2912"><a href="#cb282-2912" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_all.csv", </span></span>
<span id="cb282-2913"><a href="#cb282-2913" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-2914"><a href="#cb282-2914" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2915"><a href="#cb282-2915" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2916"><a href="#cb282-2916" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2917"><a href="#cb282-2917" aria-hidden="true" tabindex="-1"></a><span class="in">```{r split receiver data into weekly CSV files}</span></span>
<span id="cb282-2918"><a href="#cb282-2918" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2919"><a href="#cb282-2919" aria-hidden="true" tabindex="-1"></a><span class="in"># Step 1: Define specific date ranges for each week</span></span>
<span id="cb282-2920"><a href="#cb282-2920" aria-hidden="true" tabindex="-1"></a><span class="in">week_ranges &lt;- data.frame(</span></span>
<span id="cb282-2921"><a href="#cb282-2921" aria-hidden="true" tabindex="-1"></a><span class="in">  week_name = c("week_1", "week_2", "week_3", "week_4", "week_5", "week_6", "week_7", "week_8", "week_9", "week_10", "week_11", "week_12"),  </span></span>
<span id="cb282-2922"><a href="#cb282-2922" aria-hidden="true" tabindex="-1"></a><span class="in">  start_date = ymd(c("2024-06-11", "2024-06-17", "2024-06-25", "2024-06-30", "2024-07-09", "2024-07-16", "2024-07-23", "2024-07-30", "2024-08-05", "2024-08-13", "2024-08-20", "2024-08-26")),</span></span>
<span id="cb282-2923"><a href="#cb282-2923" aria-hidden="true" tabindex="-1"></a><span class="in">  end_date = ymd(c("2024-06-14", "2024-06-20", "2024-06-28", "2024-07-03", "2024-07-12", "2024-07-19", "2024-07-26", "2024-08-02", "2024-08-09", "2024-08-16", "2024-08-23", "2024-08-29"))</span></span>
<span id="cb282-2924"><a href="#cb282-2924" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb282-2925"><a href="#cb282-2925" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2926"><a href="#cb282-2926" aria-hidden="true" tabindex="-1"></a><span class="in"># Initialize a counter for naming datasets</span></span>
<span id="cb282-2927"><a href="#cb282-2927" aria-hidden="true" tabindex="-1"></a><span class="in">counter &lt;- 1</span></span>
<span id="cb282-2928"><a href="#cb282-2928" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2929"><a href="#cb282-2929" aria-hidden="true" tabindex="-1"></a><span class="in"># Step 2: Loop through each date range and filter the dataset</span></span>
<span id="cb282-2930"><a href="#cb282-2930" aria-hidden="true" tabindex="-1"></a><span class="in">for (i in 1:nrow(week_ranges)) {</span></span>
<span id="cb282-2931"><a href="#cb282-2931" aria-hidden="true" tabindex="-1"></a><span class="in">  # Filter the dataset for each specified date range</span></span>
<span id="cb282-2932"><a href="#cb282-2932" aria-hidden="true" tabindex="-1"></a><span class="in">  weekly_receiver_data &lt;- receiver_data_all %&gt;%</span></span>
<span id="cb282-2933"><a href="#cb282-2933" aria-hidden="true" tabindex="-1"></a><span class="in">    filter(date &gt;= week_ranges$start_date[i] &amp; date &lt;= week_ranges$end_date[i]) %&gt;%</span></span>
<span id="cb282-2934"><a href="#cb282-2934" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb282-2935"><a href="#cb282-2935" aria-hidden="true" tabindex="-1"></a><span class="in">    # Remove the 'date' column before saving the CSV</span></span>
<span id="cb282-2936"><a href="#cb282-2936" aria-hidden="true" tabindex="-1"></a><span class="in">    select(-date)</span></span>
<span id="cb282-2937"><a href="#cb282-2937" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2938"><a href="#cb282-2938" aria-hidden="true" tabindex="-1"></a><span class="in">  # Dynamically name each week's data (e.g., receiver_data_1, receiver_data_2, ...)</span></span>
<span id="cb282-2939"><a href="#cb282-2939" aria-hidden="true" tabindex="-1"></a><span class="in">  assign(paste0("receiver_data_", counter), weekly_receiver_data)</span></span>
<span id="cb282-2940"><a href="#cb282-2940" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2941"><a href="#cb282-2941" aria-hidden="true" tabindex="-1"></a><span class="in">  # Optional: Save the dataset to a CSV file</span></span>
<span id="cb282-2942"><a href="#cb282-2942" aria-hidden="true" tabindex="-1"></a><span class="in">  file_name &lt;- paste0("receiver_data_", counter, ".csv")</span></span>
<span id="cb282-2943"><a href="#cb282-2943" aria-hidden="true" tabindex="-1"></a><span class="in">  write.csv(weekly_receiver_data, file = file_name, row.names = FALSE)</span></span>
<span id="cb282-2944"><a href="#cb282-2944" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2945"><a href="#cb282-2945" aria-hidden="true" tabindex="-1"></a><span class="in">  # Display the first few rows of the created datasets</span></span>
<span id="cb282-2946"><a href="#cb282-2946" aria-hidden="true" tabindex="-1"></a><span class="in">  cat("\nData for", file_name, ":\n")</span></span>
<span id="cb282-2947"><a href="#cb282-2947" aria-hidden="true" tabindex="-1"></a><span class="in">  print(head(weekly_receiver_data))  # Print the first few rows of each weekly dataset</span></span>
<span id="cb282-2948"><a href="#cb282-2948" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-2949"><a href="#cb282-2949" aria-hidden="true" tabindex="-1"></a><span class="in">  # Increment the counter</span></span>
<span id="cb282-2950"><a href="#cb282-2950" aria-hidden="true" tabindex="-1"></a><span class="in">  counter &lt;- counter + 1</span></span>
<span id="cb282-2951"><a href="#cb282-2951" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-2952"><a href="#cb282-2952" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2953"><a href="#cb282-2953" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2954"><a href="#cb282-2954" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2955"><a href="#cb282-2955" aria-hidden="true" tabindex="-1"></a><span class="fu">## Combine fish survey and receiver data</span></span>
<span id="cb282-2956"><a href="#cb282-2956" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2957"><a href="#cb282-2957" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish_flow and receiver week 1 data}</span></span>
<span id="cb282-2958"><a href="#cb282-2958" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2959"><a href="#cb282-2959" aria-hidden="true" tabindex="-1"></a><span class="in"># No receiver data for this week yet #########################</span></span>
<span id="cb282-2960"><a href="#cb282-2960" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2961"><a href="#cb282-2961" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish_flow survey and receiver data for week 1</span></span>
<span id="cb282-2962"><a href="#cb282-2962" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_1 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_1.csv")</span></span>
<span id="cb282-2963"><a href="#cb282-2963" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_data_1 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_1.csv")</span></span>
<span id="cb282-2964"><a href="#cb282-2964" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2965"><a href="#cb282-2965" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets horizontally</span></span>
<span id="cb282-2966"><a href="#cb282-2966" aria-hidden="true" tabindex="-1"></a><span class="in">#fish_flow_receiver_1 &lt;- bind_rows(fish_flow_1, receiver_data_1)</span></span>
<span id="cb282-2967"><a href="#cb282-2967" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2968"><a href="#cb282-2968" aria-hidden="true" tabindex="-1"></a><span class="in"># Temporarily rename fish_flow dataset as fish_flow_receiver dataset until there is receiver data available for this week</span></span>
<span id="cb282-2969"><a href="#cb282-2969" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_1 &lt;- fish_flow_1</span></span>
<span id="cb282-2970"><a href="#cb282-2970" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2971"><a href="#cb282-2971" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-2972"><a href="#cb282-2972" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_1)</span></span>
<span id="cb282-2973"><a href="#cb282-2973" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2974"><a href="#cb282-2974" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-2975"><a href="#cb282-2975" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_1, </span></span>
<span id="cb282-2976"><a href="#cb282-2976" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_1.csv", </span></span>
<span id="cb282-2977"><a href="#cb282-2977" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-2978"><a href="#cb282-2978" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2979"><a href="#cb282-2979" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-2980"><a href="#cb282-2980" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2981"><a href="#cb282-2981" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish_flow and receiver week 2 data}</span></span>
<span id="cb282-2982"><a href="#cb282-2982" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2983"><a href="#cb282-2983" aria-hidden="true" tabindex="-1"></a><span class="in"># No receiver data for this week yet #########################</span></span>
<span id="cb282-2984"><a href="#cb282-2984" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2985"><a href="#cb282-2985" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish_flow survey and receiver data for week 2</span></span>
<span id="cb282-2986"><a href="#cb282-2986" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_2 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_2.csv")</span></span>
<span id="cb282-2987"><a href="#cb282-2987" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_data_2 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_2.csv")</span></span>
<span id="cb282-2988"><a href="#cb282-2988" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2989"><a href="#cb282-2989" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets horizontally</span></span>
<span id="cb282-2990"><a href="#cb282-2990" aria-hidden="true" tabindex="-1"></a><span class="in">#fish_flow_receiver_2 &lt;- bind_rows(fish_flow_2, receiver_data_2)</span></span>
<span id="cb282-2991"><a href="#cb282-2991" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2992"><a href="#cb282-2992" aria-hidden="true" tabindex="-1"></a><span class="in"># Temporarily rename fish_flow dataset as fish_flow_receiver dataset until there is receiver data available for this week</span></span>
<span id="cb282-2993"><a href="#cb282-2993" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_2 &lt;- fish_flow_2</span></span>
<span id="cb282-2994"><a href="#cb282-2994" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2995"><a href="#cb282-2995" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-2996"><a href="#cb282-2996" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_2)</span></span>
<span id="cb282-2997"><a href="#cb282-2997" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-2998"><a href="#cb282-2998" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-2999"><a href="#cb282-2999" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_2, </span></span>
<span id="cb282-3000"><a href="#cb282-3000" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_2.csv", </span></span>
<span id="cb282-3001"><a href="#cb282-3001" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3002"><a href="#cb282-3002" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3003"><a href="#cb282-3003" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3004"><a href="#cb282-3004" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3005"><a href="#cb282-3005" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish_flow and receiver week 3 data}</span></span>
<span id="cb282-3006"><a href="#cb282-3006" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3007"><a href="#cb282-3007" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish_flow survey and receiver data for week 3</span></span>
<span id="cb282-3008"><a href="#cb282-3008" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_3 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_3.csv")</span></span>
<span id="cb282-3009"><a href="#cb282-3009" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_data_3 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_3.csv")</span></span>
<span id="cb282-3010"><a href="#cb282-3010" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3011"><a href="#cb282-3011" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets horizontally</span></span>
<span id="cb282-3012"><a href="#cb282-3012" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_3 &lt;- bind_rows(fish_flow_3, receiver_data_3)</span></span>
<span id="cb282-3013"><a href="#cb282-3013" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3014"><a href="#cb282-3014" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-3015"><a href="#cb282-3015" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_3)</span></span>
<span id="cb282-3016"><a href="#cb282-3016" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3017"><a href="#cb282-3017" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-3018"><a href="#cb282-3018" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_3, </span></span>
<span id="cb282-3019"><a href="#cb282-3019" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_3.csv", </span></span>
<span id="cb282-3020"><a href="#cb282-3020" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3021"><a href="#cb282-3021" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3022"><a href="#cb282-3022" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3023"><a href="#cb282-3023" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3024"><a href="#cb282-3024" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish_flow and receiver week 4 data}</span></span>
<span id="cb282-3025"><a href="#cb282-3025" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3026"><a href="#cb282-3026" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish_flow survey and receiver data for week 4</span></span>
<span id="cb282-3027"><a href="#cb282-3027" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_4 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_4.csv")</span></span>
<span id="cb282-3028"><a href="#cb282-3028" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_data_4 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_4.csv")</span></span>
<span id="cb282-3029"><a href="#cb282-3029" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3030"><a href="#cb282-3030" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets horizontally</span></span>
<span id="cb282-3031"><a href="#cb282-3031" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_4 &lt;- bind_rows(fish_flow_4, receiver_data_4)</span></span>
<span id="cb282-3032"><a href="#cb282-3032" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3033"><a href="#cb282-3033" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-3034"><a href="#cb282-3034" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_4)</span></span>
<span id="cb282-3035"><a href="#cb282-3035" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3036"><a href="#cb282-3036" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-3037"><a href="#cb282-3037" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_4, </span></span>
<span id="cb282-3038"><a href="#cb282-3038" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_4.csv", </span></span>
<span id="cb282-3039"><a href="#cb282-3039" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3040"><a href="#cb282-3040" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3041"><a href="#cb282-3041" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3042"><a href="#cb282-3042" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3043"><a href="#cb282-3043" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish_flow and receiver week 5 data}</span></span>
<span id="cb282-3044"><a href="#cb282-3044" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3045"><a href="#cb282-3045" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish_flow survey and receiver data for week 5</span></span>
<span id="cb282-3046"><a href="#cb282-3046" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_5 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_5.csv")</span></span>
<span id="cb282-3047"><a href="#cb282-3047" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_data_5 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_5.csv")</span></span>
<span id="cb282-3048"><a href="#cb282-3048" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3049"><a href="#cb282-3049" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets horizontally</span></span>
<span id="cb282-3050"><a href="#cb282-3050" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_5 &lt;- bind_rows(fish_flow_5, receiver_data_5)</span></span>
<span id="cb282-3051"><a href="#cb282-3051" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3052"><a href="#cb282-3052" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-3053"><a href="#cb282-3053" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_5)</span></span>
<span id="cb282-3054"><a href="#cb282-3054" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3055"><a href="#cb282-3055" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-3056"><a href="#cb282-3056" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_5, </span></span>
<span id="cb282-3057"><a href="#cb282-3057" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_5.csv", </span></span>
<span id="cb282-3058"><a href="#cb282-3058" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3059"><a href="#cb282-3059" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3060"><a href="#cb282-3060" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3061"><a href="#cb282-3061" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3062"><a href="#cb282-3062" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish_flow and receiver week 6 data}</span></span>
<span id="cb282-3063"><a href="#cb282-3063" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3064"><a href="#cb282-3064" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish_flow survey and receiver data for week 6</span></span>
<span id="cb282-3065"><a href="#cb282-3065" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_6 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_6.csv")</span></span>
<span id="cb282-3066"><a href="#cb282-3066" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_data_6 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_6.csv")</span></span>
<span id="cb282-3067"><a href="#cb282-3067" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3068"><a href="#cb282-3068" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets horizontally</span></span>
<span id="cb282-3069"><a href="#cb282-3069" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_6 &lt;- bind_rows(fish_flow_6, receiver_data_6)</span></span>
<span id="cb282-3070"><a href="#cb282-3070" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3071"><a href="#cb282-3071" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-3072"><a href="#cb282-3072" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_6)</span></span>
<span id="cb282-3073"><a href="#cb282-3073" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3074"><a href="#cb282-3074" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-3075"><a href="#cb282-3075" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_6, </span></span>
<span id="cb282-3076"><a href="#cb282-3076" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_6.csv", </span></span>
<span id="cb282-3077"><a href="#cb282-3077" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3078"><a href="#cb282-3078" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3079"><a href="#cb282-3079" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3080"><a href="#cb282-3080" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3081"><a href="#cb282-3081" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish_flow and receiver week 7 data}</span></span>
<span id="cb282-3082"><a href="#cb282-3082" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3083"><a href="#cb282-3083" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish_flow survey and receiver data for week 7</span></span>
<span id="cb282-3084"><a href="#cb282-3084" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_7 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_7.csv")</span></span>
<span id="cb282-3085"><a href="#cb282-3085" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_data_7 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_7.csv")</span></span>
<span id="cb282-3086"><a href="#cb282-3086" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3087"><a href="#cb282-3087" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets horizontally</span></span>
<span id="cb282-3088"><a href="#cb282-3088" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_7 &lt;- bind_rows(fish_flow_7, receiver_data_7)</span></span>
<span id="cb282-3089"><a href="#cb282-3089" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3090"><a href="#cb282-3090" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-3091"><a href="#cb282-3091" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_7)</span></span>
<span id="cb282-3092"><a href="#cb282-3092" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3093"><a href="#cb282-3093" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-3094"><a href="#cb282-3094" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_7, </span></span>
<span id="cb282-3095"><a href="#cb282-3095" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_7.csv", </span></span>
<span id="cb282-3096"><a href="#cb282-3096" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3097"><a href="#cb282-3097" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3098"><a href="#cb282-3098" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3099"><a href="#cb282-3099" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3100"><a href="#cb282-3100" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish_flow and receiver week 8 data}</span></span>
<span id="cb282-3101"><a href="#cb282-3101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3102"><a href="#cb282-3102" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish_flow survey and receiver data for week 8</span></span>
<span id="cb282-3103"><a href="#cb282-3103" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_8 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_8.csv")</span></span>
<span id="cb282-3104"><a href="#cb282-3104" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_data_8 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_8.csv")</span></span>
<span id="cb282-3105"><a href="#cb282-3105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3106"><a href="#cb282-3106" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets horizontally</span></span>
<span id="cb282-3107"><a href="#cb282-3107" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_8 &lt;- bind_rows(fish_flow_8, receiver_data_8)</span></span>
<span id="cb282-3108"><a href="#cb282-3108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3109"><a href="#cb282-3109" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-3110"><a href="#cb282-3110" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_8)</span></span>
<span id="cb282-3111"><a href="#cb282-3111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3112"><a href="#cb282-3112" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-3113"><a href="#cb282-3113" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_8, </span></span>
<span id="cb282-3114"><a href="#cb282-3114" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_8.csv", </span></span>
<span id="cb282-3115"><a href="#cb282-3115" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3116"><a href="#cb282-3116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3117"><a href="#cb282-3117" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3118"><a href="#cb282-3118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3119"><a href="#cb282-3119" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish_flow and receiver week 9 data}</span></span>
<span id="cb282-3120"><a href="#cb282-3120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3121"><a href="#cb282-3121" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish_flow survey and receiver data for week 9</span></span>
<span id="cb282-3122"><a href="#cb282-3122" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_9 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_9.csv")</span></span>
<span id="cb282-3123"><a href="#cb282-3123" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_data_9 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_9.csv")</span></span>
<span id="cb282-3124"><a href="#cb282-3124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3125"><a href="#cb282-3125" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets horizontally</span></span>
<span id="cb282-3126"><a href="#cb282-3126" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_9 &lt;- bind_rows(fish_flow_9, receiver_data_9)</span></span>
<span id="cb282-3127"><a href="#cb282-3127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3128"><a href="#cb282-3128" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-3129"><a href="#cb282-3129" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_9)</span></span>
<span id="cb282-3130"><a href="#cb282-3130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3131"><a href="#cb282-3131" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-3132"><a href="#cb282-3132" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_9, </span></span>
<span id="cb282-3133"><a href="#cb282-3133" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_9.csv", </span></span>
<span id="cb282-3134"><a href="#cb282-3134" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3135"><a href="#cb282-3135" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3136"><a href="#cb282-3136" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3137"><a href="#cb282-3137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3138"><a href="#cb282-3138" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish_flow and receiver week 10 data}</span></span>
<span id="cb282-3139"><a href="#cb282-3139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3140"><a href="#cb282-3140" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish_flow survey and receiver data for week 10</span></span>
<span id="cb282-3141"><a href="#cb282-3141" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_10 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_10.csv")</span></span>
<span id="cb282-3142"><a href="#cb282-3142" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_data_10 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_10.csv")</span></span>
<span id="cb282-3143"><a href="#cb282-3143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3144"><a href="#cb282-3144" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets horizontally</span></span>
<span id="cb282-3145"><a href="#cb282-3145" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_10 &lt;- bind_rows(fish_flow_10, receiver_data_10)</span></span>
<span id="cb282-3146"><a href="#cb282-3146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3147"><a href="#cb282-3147" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-3148"><a href="#cb282-3148" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_10)</span></span>
<span id="cb282-3149"><a href="#cb282-3149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3150"><a href="#cb282-3150" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-3151"><a href="#cb282-3151" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_10, </span></span>
<span id="cb282-3152"><a href="#cb282-3152" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_10.csv", </span></span>
<span id="cb282-3153"><a href="#cb282-3153" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3154"><a href="#cb282-3154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3155"><a href="#cb282-3155" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3156"><a href="#cb282-3156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3157"><a href="#cb282-3157" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish_flow and receiver week 11 data}</span></span>
<span id="cb282-3158"><a href="#cb282-3158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3159"><a href="#cb282-3159" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish_flow survey and receiver data for week 11</span></span>
<span id="cb282-3160"><a href="#cb282-3160" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_11 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_11.csv")</span></span>
<span id="cb282-3161"><a href="#cb282-3161" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_data_11 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_11.csv")</span></span>
<span id="cb282-3162"><a href="#cb282-3162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3163"><a href="#cb282-3163" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets horizontally</span></span>
<span id="cb282-3164"><a href="#cb282-3164" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_11 &lt;- bind_rows(fish_flow_11, receiver_data_11)</span></span>
<span id="cb282-3165"><a href="#cb282-3165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3166"><a href="#cb282-3166" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-3167"><a href="#cb282-3167" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_11)</span></span>
<span id="cb282-3168"><a href="#cb282-3168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3169"><a href="#cb282-3169" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-3170"><a href="#cb282-3170" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_11, </span></span>
<span id="cb282-3171"><a href="#cb282-3171" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_11.csv", </span></span>
<span id="cb282-3172"><a href="#cb282-3172" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3173"><a href="#cb282-3173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3174"><a href="#cb282-3174" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3175"><a href="#cb282-3175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3176"><a href="#cb282-3176" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish_flow and receiver week 12 data}</span></span>
<span id="cb282-3177"><a href="#cb282-3177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3178"><a href="#cb282-3178" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish_flow survey and receiver data for week 12</span></span>
<span id="cb282-3179"><a href="#cb282-3179" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_12 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_12.csv")</span></span>
<span id="cb282-3180"><a href="#cb282-3180" aria-hidden="true" tabindex="-1"></a><span class="in">receiver_data_12 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/receiver_data_12.csv")</span></span>
<span id="cb282-3181"><a href="#cb282-3181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3182"><a href="#cb282-3182" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets horizontally</span></span>
<span id="cb282-3183"><a href="#cb282-3183" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_12 &lt;- bind_rows(fish_flow_12, receiver_data_12)</span></span>
<span id="cb282-3184"><a href="#cb282-3184" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3185"><a href="#cb282-3185" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-3186"><a href="#cb282-3186" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_12)</span></span>
<span id="cb282-3187"><a href="#cb282-3187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3188"><a href="#cb282-3188" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-3189"><a href="#cb282-3189" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_12, </span></span>
<span id="cb282-3190"><a href="#cb282-3190" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_12.csv", </span></span>
<span id="cb282-3191"><a href="#cb282-3191" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3192"><a href="#cb282-3192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3193"><a href="#cb282-3193" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3194"><a href="#cb282-3194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3195"><a href="#cb282-3195" aria-hidden="true" tabindex="-1"></a><span class="fu">## Preparing Stream Surveys</span></span>
<span id="cb282-3196"><a href="#cb282-3196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3197"><a href="#cb282-3197" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the stream survey 1}</span></span>
<span id="cb282-3198"><a href="#cb282-3198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3199"><a href="#cb282-3199" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the stream survey data</span></span>
<span id="cb282-3200"><a href="#cb282-3200" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_1 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 1.csv")</span></span>
<span id="cb282-3201"><a href="#cb282-3201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3202"><a href="#cb282-3202" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb282-3203"><a href="#cb282-3203" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb282-3204"><a href="#cb282-3204" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_1$date &lt;- as.Date(stream_survey_1$date, </span></span>
<span id="cb282-3205"><a href="#cb282-3205" aria-hidden="true" tabindex="-1"></a><span class="in">                                format = "%m/%d/%Y")</span></span>
<span id="cb282-3206"><a href="#cb282-3206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3207"><a href="#cb282-3207" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and start time into a DateTime column</span></span>
<span id="cb282-3208"><a href="#cb282-3208" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_1$dateTime_EST &lt;- as.POSIXct(paste(stream_survey_1$date, </span></span>
<span id="cb282-3209"><a href="#cb282-3209" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 stream_survey_1$startTime), </span></span>
<span id="cb282-3210"><a href="#cb282-3210" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M",</span></span>
<span id="cb282-3211"><a href="#cb282-3211" aria-hidden="true" tabindex="-1"></a><span class="in">                                           tz = "EST")</span></span>
<span id="cb282-3212"><a href="#cb282-3212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3213"><a href="#cb282-3213" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-3214"><a href="#cb282-3214" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 5:00 EST to 11:00 EST</span></span>
<span id="cb282-3215"><a href="#cb282-3215" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_1 &lt;- stream_survey_1 %&gt;%</span></span>
<span id="cb282-3216"><a href="#cb282-3216" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-3217"><a href="#cb282-3217" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-3218"><a href="#cb282-3218" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 4 &amp; hour(dateTime_EST) &lt; 12 ~ "day",</span></span>
<span id="cb282-3219"><a href="#cb282-3219" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-3220"><a href="#cb282-3220" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-3221"><a href="#cb282-3221" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-3222"><a href="#cb282-3222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3223"><a href="#cb282-3223" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-3224"><a href="#cb282-3224" aria-hidden="true" tabindex="-1"></a><span class="in">head(stream_survey_1)</span></span>
<span id="cb282-3225"><a href="#cb282-3225" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3226"><a href="#cb282-3226" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb282-3227"><a href="#cb282-3227" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(stream_survey_1, </span></span>
<span id="cb282-3228"><a href="#cb282-3228" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_1.csv", </span></span>
<span id="cb282-3229"><a href="#cb282-3229" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3230"><a href="#cb282-3230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3231"><a href="#cb282-3231" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3232"><a href="#cb282-3232" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the stream survey 2}</span></span>
<span id="cb282-3233"><a href="#cb282-3233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3234"><a href="#cb282-3234" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the stream survey data</span></span>
<span id="cb282-3235"><a href="#cb282-3235" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_2 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 2.csv")</span></span>
<span id="cb282-3236"><a href="#cb282-3236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3237"><a href="#cb282-3237" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb282-3238"><a href="#cb282-3238" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb282-3239"><a href="#cb282-3239" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_2$date &lt;- as.Date(stream_survey_2$date, </span></span>
<span id="cb282-3240"><a href="#cb282-3240" aria-hidden="true" tabindex="-1"></a><span class="in">                                format = "%m/%d/%Y")</span></span>
<span id="cb282-3241"><a href="#cb282-3241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3242"><a href="#cb282-3242" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and start time into a DateTime column</span></span>
<span id="cb282-3243"><a href="#cb282-3243" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_2$dateTime_EST &lt;- as.POSIXct(paste(stream_survey_2$date, </span></span>
<span id="cb282-3244"><a href="#cb282-3244" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 stream_survey_2$startTime), </span></span>
<span id="cb282-3245"><a href="#cb282-3245" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M",</span></span>
<span id="cb282-3246"><a href="#cb282-3246" aria-hidden="true" tabindex="-1"></a><span class="in">                                           tz = "EST")</span></span>
<span id="cb282-3247"><a href="#cb282-3247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3248"><a href="#cb282-3248" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-3249"><a href="#cb282-3249" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 11:00 EST to 17:00 EST</span></span>
<span id="cb282-3250"><a href="#cb282-3250" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_2 &lt;- stream_survey_2 %&gt;%</span></span>
<span id="cb282-3251"><a href="#cb282-3251" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-3252"><a href="#cb282-3252" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-3253"><a href="#cb282-3253" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 10 &amp; hour(dateTime_EST) &lt; 18 ~ "day",</span></span>
<span id="cb282-3254"><a href="#cb282-3254" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-3255"><a href="#cb282-3255" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-3256"><a href="#cb282-3256" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-3257"><a href="#cb282-3257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3258"><a href="#cb282-3258" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-3259"><a href="#cb282-3259" aria-hidden="true" tabindex="-1"></a><span class="in">head(stream_survey_2)</span></span>
<span id="cb282-3260"><a href="#cb282-3260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3261"><a href="#cb282-3261" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb282-3262"><a href="#cb282-3262" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(stream_survey_2, </span></span>
<span id="cb282-3263"><a href="#cb282-3263" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_2.csv", </span></span>
<span id="cb282-3264"><a href="#cb282-3264" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3265"><a href="#cb282-3265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3266"><a href="#cb282-3266" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3267"><a href="#cb282-3267" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the stream survey 3}</span></span>
<span id="cb282-3268"><a href="#cb282-3268" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3269"><a href="#cb282-3269" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the stream survey data</span></span>
<span id="cb282-3270"><a href="#cb282-3270" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_3 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 3.csv")</span></span>
<span id="cb282-3271"><a href="#cb282-3271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3272"><a href="#cb282-3272" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb282-3273"><a href="#cb282-3273" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb282-3274"><a href="#cb282-3274" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_3$date &lt;- as.Date(stream_survey_3$date, </span></span>
<span id="cb282-3275"><a href="#cb282-3275" aria-hidden="true" tabindex="-1"></a><span class="in">                                format = "%m/%d/%Y")</span></span>
<span id="cb282-3276"><a href="#cb282-3276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3277"><a href="#cb282-3277" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and start time into a DateTime column</span></span>
<span id="cb282-3278"><a href="#cb282-3278" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_3$dateTime_EST &lt;- as.POSIXct(paste(stream_survey_3$date, </span></span>
<span id="cb282-3279"><a href="#cb282-3279" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 stream_survey_3$startTime), </span></span>
<span id="cb282-3280"><a href="#cb282-3280" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M",</span></span>
<span id="cb282-3281"><a href="#cb282-3281" aria-hidden="true" tabindex="-1"></a><span class="in">                                           tz = "EST")</span></span>
<span id="cb282-3282"><a href="#cb282-3282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3283"><a href="#cb282-3283" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-3284"><a href="#cb282-3284" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 5:00 EST to 11:00 EST</span></span>
<span id="cb282-3285"><a href="#cb282-3285" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_3 &lt;- stream_survey_3 %&gt;%</span></span>
<span id="cb282-3286"><a href="#cb282-3286" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-3287"><a href="#cb282-3287" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-3288"><a href="#cb282-3288" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 4 &amp; hour(dateTime_EST) &lt; 12 ~ "day",</span></span>
<span id="cb282-3289"><a href="#cb282-3289" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-3290"><a href="#cb282-3290" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-3291"><a href="#cb282-3291" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-3292"><a href="#cb282-3292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3293"><a href="#cb282-3293" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-3294"><a href="#cb282-3294" aria-hidden="true" tabindex="-1"></a><span class="in">head(stream_survey_3)</span></span>
<span id="cb282-3295"><a href="#cb282-3295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3296"><a href="#cb282-3296" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb282-3297"><a href="#cb282-3297" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(stream_survey_3, </span></span>
<span id="cb282-3298"><a href="#cb282-3298" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_3.csv", </span></span>
<span id="cb282-3299"><a href="#cb282-3299" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3300"><a href="#cb282-3300" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3301"><a href="#cb282-3301" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3302"><a href="#cb282-3302" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the stream survey 4}</span></span>
<span id="cb282-3303"><a href="#cb282-3303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3304"><a href="#cb282-3304" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the stream survey data</span></span>
<span id="cb282-3305"><a href="#cb282-3305" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_4 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 4.csv")</span></span>
<span id="cb282-3306"><a href="#cb282-3306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3307"><a href="#cb282-3307" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb282-3308"><a href="#cb282-3308" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb282-3309"><a href="#cb282-3309" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_4$date &lt;- as.Date(stream_survey_4$date, </span></span>
<span id="cb282-3310"><a href="#cb282-3310" aria-hidden="true" tabindex="-1"></a><span class="in">                                format = "%m/%d/%Y")</span></span>
<span id="cb282-3311"><a href="#cb282-3311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3312"><a href="#cb282-3312" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and start time into a DateTime column</span></span>
<span id="cb282-3313"><a href="#cb282-3313" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_4$dateTime_EST &lt;- as.POSIXct(paste(stream_survey_4$date, </span></span>
<span id="cb282-3314"><a href="#cb282-3314" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 stream_survey_4$startTime), </span></span>
<span id="cb282-3315"><a href="#cb282-3315" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M",</span></span>
<span id="cb282-3316"><a href="#cb282-3316" aria-hidden="true" tabindex="-1"></a><span class="in">                                           tz = "EST")</span></span>
<span id="cb282-3317"><a href="#cb282-3317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3318"><a href="#cb282-3318" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-3319"><a href="#cb282-3319" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 3:00 EST to 9:00 EST</span></span>
<span id="cb282-3320"><a href="#cb282-3320" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_4 &lt;- stream_survey_4 %&gt;%</span></span>
<span id="cb282-3321"><a href="#cb282-3321" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-3322"><a href="#cb282-3322" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-3323"><a href="#cb282-3323" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 2 &amp; hour(dateTime_EST) &lt; 10 ~ "day",</span></span>
<span id="cb282-3324"><a href="#cb282-3324" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-3325"><a href="#cb282-3325" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-3326"><a href="#cb282-3326" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-3327"><a href="#cb282-3327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3328"><a href="#cb282-3328" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-3329"><a href="#cb282-3329" aria-hidden="true" tabindex="-1"></a><span class="in">head(stream_survey_4)</span></span>
<span id="cb282-3330"><a href="#cb282-3330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3331"><a href="#cb282-3331" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb282-3332"><a href="#cb282-3332" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(stream_survey_4, </span></span>
<span id="cb282-3333"><a href="#cb282-3333" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_4.csv", </span></span>
<span id="cb282-3334"><a href="#cb282-3334" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3335"><a href="#cb282-3335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3336"><a href="#cb282-3336" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3337"><a href="#cb282-3337" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the stream survey 5}</span></span>
<span id="cb282-3338"><a href="#cb282-3338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3339"><a href="#cb282-3339" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the stream survey data</span></span>
<span id="cb282-3340"><a href="#cb282-3340" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_5 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 5.csv")</span></span>
<span id="cb282-3341"><a href="#cb282-3341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3342"><a href="#cb282-3342" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb282-3343"><a href="#cb282-3343" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb282-3344"><a href="#cb282-3344" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_5$date &lt;- as.Date(stream_survey_5$date, </span></span>
<span id="cb282-3345"><a href="#cb282-3345" aria-hidden="true" tabindex="-1"></a><span class="in">                                format = "%m/%d/%Y")</span></span>
<span id="cb282-3346"><a href="#cb282-3346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3347"><a href="#cb282-3347" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and start time into a DateTime column</span></span>
<span id="cb282-3348"><a href="#cb282-3348" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_5$dateTime_EST &lt;- as.POSIXct(paste(stream_survey_5$date, </span></span>
<span id="cb282-3349"><a href="#cb282-3349" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 stream_survey_5$startTime), </span></span>
<span id="cb282-3350"><a href="#cb282-3350" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M",</span></span>
<span id="cb282-3351"><a href="#cb282-3351" aria-hidden="true" tabindex="-1"></a><span class="in">                                           tz = "EST")</span></span>
<span id="cb282-3352"><a href="#cb282-3352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3353"><a href="#cb282-3353" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-3354"><a href="#cb282-3354" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb282-3355"><a href="#cb282-3355" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_5 &lt;- stream_survey_5 %&gt;%</span></span>
<span id="cb282-3356"><a href="#cb282-3356" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-3357"><a href="#cb282-3357" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-3358"><a href="#cb282-3358" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 6 &amp; hour(dateTime_EST) &lt; 14 ~ "day",</span></span>
<span id="cb282-3359"><a href="#cb282-3359" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-3360"><a href="#cb282-3360" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-3361"><a href="#cb282-3361" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-3362"><a href="#cb282-3362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3363"><a href="#cb282-3363" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-3364"><a href="#cb282-3364" aria-hidden="true" tabindex="-1"></a><span class="in">head(stream_survey_5)</span></span>
<span id="cb282-3365"><a href="#cb282-3365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3366"><a href="#cb282-3366" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb282-3367"><a href="#cb282-3367" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(stream_survey_5, </span></span>
<span id="cb282-3368"><a href="#cb282-3368" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_5.csv", </span></span>
<span id="cb282-3369"><a href="#cb282-3369" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3370"><a href="#cb282-3370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3371"><a href="#cb282-3371" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3372"><a href="#cb282-3372" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the stream survey 6}</span></span>
<span id="cb282-3373"><a href="#cb282-3373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3374"><a href="#cb282-3374" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the stream survey data</span></span>
<span id="cb282-3375"><a href="#cb282-3375" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_6 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 6.csv")</span></span>
<span id="cb282-3376"><a href="#cb282-3376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3377"><a href="#cb282-3377" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb282-3378"><a href="#cb282-3378" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb282-3379"><a href="#cb282-3379" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_6$date &lt;- as.Date(stream_survey_6$date, </span></span>
<span id="cb282-3380"><a href="#cb282-3380" aria-hidden="true" tabindex="-1"></a><span class="in">                                format = "%m/%d/%Y")</span></span>
<span id="cb282-3381"><a href="#cb282-3381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3382"><a href="#cb282-3382" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and start time into a DateTime column</span></span>
<span id="cb282-3383"><a href="#cb282-3383" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_6$dateTime_EST &lt;- as.POSIXct(paste(stream_survey_6$date, </span></span>
<span id="cb282-3384"><a href="#cb282-3384" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 stream_survey_6$startTime), </span></span>
<span id="cb282-3385"><a href="#cb282-3385" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M",</span></span>
<span id="cb282-3386"><a href="#cb282-3386" aria-hidden="true" tabindex="-1"></a><span class="in">                                           tz = "EST")</span></span>
<span id="cb282-3387"><a href="#cb282-3387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3388"><a href="#cb282-3388" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-3389"><a href="#cb282-3389" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 3:00 EST to 9:00 EST</span></span>
<span id="cb282-3390"><a href="#cb282-3390" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_6 &lt;- stream_survey_6 %&gt;%</span></span>
<span id="cb282-3391"><a href="#cb282-3391" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-3392"><a href="#cb282-3392" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-3393"><a href="#cb282-3393" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 2 &amp; hour(dateTime_EST) &lt; 10 ~ "day",</span></span>
<span id="cb282-3394"><a href="#cb282-3394" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-3395"><a href="#cb282-3395" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-3396"><a href="#cb282-3396" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-3397"><a href="#cb282-3397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3398"><a href="#cb282-3398" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-3399"><a href="#cb282-3399" aria-hidden="true" tabindex="-1"></a><span class="in">head(stream_survey_6)</span></span>
<span id="cb282-3400"><a href="#cb282-3400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3401"><a href="#cb282-3401" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb282-3402"><a href="#cb282-3402" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(stream_survey_6, </span></span>
<span id="cb282-3403"><a href="#cb282-3403" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_6.csv", </span></span>
<span id="cb282-3404"><a href="#cb282-3404" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3405"><a href="#cb282-3405" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3406"><a href="#cb282-3406" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3407"><a href="#cb282-3407" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the stream survey 7}</span></span>
<span id="cb282-3408"><a href="#cb282-3408" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3409"><a href="#cb282-3409" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the stream survey data</span></span>
<span id="cb282-3410"><a href="#cb282-3410" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_7 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 7.csv")</span></span>
<span id="cb282-3411"><a href="#cb282-3411" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3412"><a href="#cb282-3412" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb282-3413"><a href="#cb282-3413" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb282-3414"><a href="#cb282-3414" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_7$date &lt;- as.Date(stream_survey_7$date, </span></span>
<span id="cb282-3415"><a href="#cb282-3415" aria-hidden="true" tabindex="-1"></a><span class="in">                                format = "%m/%d/%Y")</span></span>
<span id="cb282-3416"><a href="#cb282-3416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3417"><a href="#cb282-3417" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and start time into a DateTime column</span></span>
<span id="cb282-3418"><a href="#cb282-3418" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_7$dateTime_EST &lt;- as.POSIXct(paste(stream_survey_7$date, </span></span>
<span id="cb282-3419"><a href="#cb282-3419" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 stream_survey_7$startTime), </span></span>
<span id="cb282-3420"><a href="#cb282-3420" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M",</span></span>
<span id="cb282-3421"><a href="#cb282-3421" aria-hidden="true" tabindex="-1"></a><span class="in">                                           tz = "EST")</span></span>
<span id="cb282-3422"><a href="#cb282-3422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3423"><a href="#cb282-3423" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-3424"><a href="#cb282-3424" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb282-3425"><a href="#cb282-3425" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_7 &lt;- stream_survey_7 %&gt;%</span></span>
<span id="cb282-3426"><a href="#cb282-3426" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-3427"><a href="#cb282-3427" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-3428"><a href="#cb282-3428" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 6 &amp; hour(dateTime_EST) &lt; 14 ~ "day",</span></span>
<span id="cb282-3429"><a href="#cb282-3429" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-3430"><a href="#cb282-3430" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-3431"><a href="#cb282-3431" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-3432"><a href="#cb282-3432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3433"><a href="#cb282-3433" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-3434"><a href="#cb282-3434" aria-hidden="true" tabindex="-1"></a><span class="in">head(stream_survey_7)</span></span>
<span id="cb282-3435"><a href="#cb282-3435" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3436"><a href="#cb282-3436" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb282-3437"><a href="#cb282-3437" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(stream_survey_7, </span></span>
<span id="cb282-3438"><a href="#cb282-3438" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_7.csv", </span></span>
<span id="cb282-3439"><a href="#cb282-3439" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3440"><a href="#cb282-3440" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3441"><a href="#cb282-3441" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3442"><a href="#cb282-3442" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the stream survey 8}</span></span>
<span id="cb282-3443"><a href="#cb282-3443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3444"><a href="#cb282-3444" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the stream survey data</span></span>
<span id="cb282-3445"><a href="#cb282-3445" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_8 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 8.csv")</span></span>
<span id="cb282-3446"><a href="#cb282-3446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3447"><a href="#cb282-3447" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb282-3448"><a href="#cb282-3448" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb282-3449"><a href="#cb282-3449" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_8$date &lt;- as.Date(stream_survey_8$date, </span></span>
<span id="cb282-3450"><a href="#cb282-3450" aria-hidden="true" tabindex="-1"></a><span class="in">                                format = "%m/%d/%Y")</span></span>
<span id="cb282-3451"><a href="#cb282-3451" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3452"><a href="#cb282-3452" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and start time into a DateTime column</span></span>
<span id="cb282-3453"><a href="#cb282-3453" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_8$dateTime_EST &lt;- as.POSIXct(paste(stream_survey_8$date, </span></span>
<span id="cb282-3454"><a href="#cb282-3454" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 stream_survey_8$startTime), </span></span>
<span id="cb282-3455"><a href="#cb282-3455" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M",</span></span>
<span id="cb282-3456"><a href="#cb282-3456" aria-hidden="true" tabindex="-1"></a><span class="in">                                           tz = "EST")</span></span>
<span id="cb282-3457"><a href="#cb282-3457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3458"><a href="#cb282-3458" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-3459"><a href="#cb282-3459" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 3:30 EST to 9:30 EST</span></span>
<span id="cb282-3460"><a href="#cb282-3460" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_8 &lt;- stream_survey_8 %&gt;%</span></span>
<span id="cb282-3461"><a href="#cb282-3461" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-3462"><a href="#cb282-3462" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-3463"><a href="#cb282-3463" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 2 &amp; hour(dateTime_EST) &lt; 11 ~ "day",</span></span>
<span id="cb282-3464"><a href="#cb282-3464" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-3465"><a href="#cb282-3465" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-3466"><a href="#cb282-3466" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-3467"><a href="#cb282-3467" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3468"><a href="#cb282-3468" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-3469"><a href="#cb282-3469" aria-hidden="true" tabindex="-1"></a><span class="in">head(stream_survey_8)</span></span>
<span id="cb282-3470"><a href="#cb282-3470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3471"><a href="#cb282-3471" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb282-3472"><a href="#cb282-3472" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(stream_survey_8, </span></span>
<span id="cb282-3473"><a href="#cb282-3473" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_8.csv", </span></span>
<span id="cb282-3474"><a href="#cb282-3474" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3475"><a href="#cb282-3475" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3476"><a href="#cb282-3476" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3477"><a href="#cb282-3477" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the stream survey 9}</span></span>
<span id="cb282-3478"><a href="#cb282-3478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3479"><a href="#cb282-3479" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the stream survey data</span></span>
<span id="cb282-3480"><a href="#cb282-3480" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_9 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 9.csv")</span></span>
<span id="cb282-3481"><a href="#cb282-3481" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3482"><a href="#cb282-3482" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb282-3483"><a href="#cb282-3483" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb282-3484"><a href="#cb282-3484" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_9$date &lt;- as.Date(stream_survey_9$date, </span></span>
<span id="cb282-3485"><a href="#cb282-3485" aria-hidden="true" tabindex="-1"></a><span class="in">                                format = "%m/%d/%Y")</span></span>
<span id="cb282-3486"><a href="#cb282-3486" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3487"><a href="#cb282-3487" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and start time into a DateTime column</span></span>
<span id="cb282-3488"><a href="#cb282-3488" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_9$dateTime_EST &lt;- as.POSIXct(paste(stream_survey_9$date, </span></span>
<span id="cb282-3489"><a href="#cb282-3489" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 stream_survey_9$startTime), </span></span>
<span id="cb282-3490"><a href="#cb282-3490" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M",</span></span>
<span id="cb282-3491"><a href="#cb282-3491" aria-hidden="true" tabindex="-1"></a><span class="in">                                           tz = "EST")</span></span>
<span id="cb282-3492"><a href="#cb282-3492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3493"><a href="#cb282-3493" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-3494"><a href="#cb282-3494" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb282-3495"><a href="#cb282-3495" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_9 &lt;- stream_survey_9 %&gt;%</span></span>
<span id="cb282-3496"><a href="#cb282-3496" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-3497"><a href="#cb282-3497" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-3498"><a href="#cb282-3498" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 6 &amp; hour(dateTime_EST) &lt; 14 ~ "day",</span></span>
<span id="cb282-3499"><a href="#cb282-3499" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-3500"><a href="#cb282-3500" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-3501"><a href="#cb282-3501" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-3502"><a href="#cb282-3502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3503"><a href="#cb282-3503" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-3504"><a href="#cb282-3504" aria-hidden="true" tabindex="-1"></a><span class="in">head(stream_survey_9)</span></span>
<span id="cb282-3505"><a href="#cb282-3505" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3506"><a href="#cb282-3506" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb282-3507"><a href="#cb282-3507" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(stream_survey_9, </span></span>
<span id="cb282-3508"><a href="#cb282-3508" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_9.csv", </span></span>
<span id="cb282-3509"><a href="#cb282-3509" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3510"><a href="#cb282-3510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3511"><a href="#cb282-3511" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3512"><a href="#cb282-3512" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the stream survey 10}</span></span>
<span id="cb282-3513"><a href="#cb282-3513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3514"><a href="#cb282-3514" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the stream survey data</span></span>
<span id="cb282-3515"><a href="#cb282-3515" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_10 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 10.csv")</span></span>
<span id="cb282-3516"><a href="#cb282-3516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3517"><a href="#cb282-3517" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb282-3518"><a href="#cb282-3518" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb282-3519"><a href="#cb282-3519" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_10$date &lt;- as.Date(stream_survey_10$date, </span></span>
<span id="cb282-3520"><a href="#cb282-3520" aria-hidden="true" tabindex="-1"></a><span class="in">                                 format = "%m/%d/%Y")</span></span>
<span id="cb282-3521"><a href="#cb282-3521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3522"><a href="#cb282-3522" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and start time into a DateTime column</span></span>
<span id="cb282-3523"><a href="#cb282-3523" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_10$dateTime_EST &lt;- as.POSIXct(paste(stream_survey_10$date, </span></span>
<span id="cb282-3524"><a href="#cb282-3524" aria-hidden="true" tabindex="-1"></a><span class="in">                                                  stream_survey_10$startTime), </span></span>
<span id="cb282-3525"><a href="#cb282-3525" aria-hidden="true" tabindex="-1"></a><span class="in">                                            format="%Y-%m-%d %H:%M",</span></span>
<span id="cb282-3526"><a href="#cb282-3526" aria-hidden="true" tabindex="-1"></a><span class="in">                                            tz = "EST")</span></span>
<span id="cb282-3527"><a href="#cb282-3527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3528"><a href="#cb282-3528" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb282-3529"><a href="#cb282-3529" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 4:00 EST to 10:00 EST</span></span>
<span id="cb282-3530"><a href="#cb282-3530" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_10 &lt;- stream_survey_10 %&gt;%</span></span>
<span id="cb282-3531"><a href="#cb282-3531" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-3532"><a href="#cb282-3532" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb282-3533"><a href="#cb282-3533" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime_EST) &gt;= 3 &amp; hour(dateTime_EST) &lt; 11 ~ "day",</span></span>
<span id="cb282-3534"><a href="#cb282-3534" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb282-3535"><a href="#cb282-3535" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-3536"><a href="#cb282-3536" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-3537"><a href="#cb282-3537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3538"><a href="#cb282-3538" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-3539"><a href="#cb282-3539" aria-hidden="true" tabindex="-1"></a><span class="in">head(stream_survey_10)</span></span>
<span id="cb282-3540"><a href="#cb282-3540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3541"><a href="#cb282-3541" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb282-3542"><a href="#cb282-3542" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(stream_survey_10, </span></span>
<span id="cb282-3543"><a href="#cb282-3543" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_10.csv", </span></span>
<span id="cb282-3544"><a href="#cb282-3544" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3545"><a href="#cb282-3545" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3546"><a href="#cb282-3546" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3547"><a href="#cb282-3547" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the stream survey 11}</span></span>
<span id="cb282-3548"><a href="#cb282-3548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3549"><a href="#cb282-3549" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the stream survey data</span></span>
<span id="cb282-3550"><a href="#cb282-3550" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_11 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 11.csv")</span></span>
<span id="cb282-3551"><a href="#cb282-3551" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3552"><a href="#cb282-3552" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb282-3553"><a href="#cb282-3553" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb282-3554"><a href="#cb282-3554" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_11$date &lt;- as.Date(stream_survey_11$date, </span></span>
<span id="cb282-3555"><a href="#cb282-3555" aria-hidden="true" tabindex="-1"></a><span class="in">                                 format = "%m/%d/%Y")</span></span>
<span id="cb282-3556"><a href="#cb282-3556" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3557"><a href="#cb282-3557" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and start time into a DateTime column</span></span>
<span id="cb282-3558"><a href="#cb282-3558" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_11$dateTime_EST &lt;- as.POSIXct(paste(stream_survey_11$date, </span></span>
<span id="cb282-3559"><a href="#cb282-3559" aria-hidden="true" tabindex="-1"></a><span class="in">                                                  stream_survey_11$startTime), </span></span>
<span id="cb282-3560"><a href="#cb282-3560" aria-hidden="true" tabindex="-1"></a><span class="in">                                            format="%Y-%m-%d %H:%M",</span></span>
<span id="cb282-3561"><a href="#cb282-3561" aria-hidden="true" tabindex="-1"></a><span class="in">                                            tz = "EST")</span></span>
<span id="cb282-3562"><a href="#cb282-3562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3563"><a href="#cb282-3563" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column </span></span>
<span id="cb282-3564"><a href="#cb282-3564" aria-hidden="true" tabindex="-1"></a><span class="in"># All shifts in week 11 were day shifts</span></span>
<span id="cb282-3565"><a href="#cb282-3565" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_11 &lt;- stream_survey_11 %&gt;%</span></span>
<span id="cb282-3566"><a href="#cb282-3566" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(shift = "day")</span></span>
<span id="cb282-3567"><a href="#cb282-3567" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3568"><a href="#cb282-3568" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-3569"><a href="#cb282-3569" aria-hidden="true" tabindex="-1"></a><span class="in">head(stream_survey_11)</span></span>
<span id="cb282-3570"><a href="#cb282-3570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3571"><a href="#cb282-3571" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb282-3572"><a href="#cb282-3572" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(stream_survey_11, </span></span>
<span id="cb282-3573"><a href="#cb282-3573" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_11.csv", </span></span>
<span id="cb282-3574"><a href="#cb282-3574" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3575"><a href="#cb282-3575" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3576"><a href="#cb282-3576" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3577"><a href="#cb282-3577" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the stream survey 12}</span></span>
<span id="cb282-3578"><a href="#cb282-3578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3579"><a href="#cb282-3579" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the stream survey data</span></span>
<span id="cb282-3580"><a href="#cb282-3580" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_12 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 12.csv")</span></span>
<span id="cb282-3581"><a href="#cb282-3581" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3582"><a href="#cb282-3582" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb282-3583"><a href="#cb282-3583" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb282-3584"><a href="#cb282-3584" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_12$date &lt;- as.Date(stream_survey_12$date, </span></span>
<span id="cb282-3585"><a href="#cb282-3585" aria-hidden="true" tabindex="-1"></a><span class="in">                                 format = "%m/%d/%Y")</span></span>
<span id="cb282-3586"><a href="#cb282-3586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3587"><a href="#cb282-3587" aria-hidden="true" tabindex="-1"></a><span class="in"># Combining the date and start time into a DateTime column</span></span>
<span id="cb282-3588"><a href="#cb282-3588" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_12$dateTime_EST &lt;- as.POSIXct(paste(stream_survey_12$date, </span></span>
<span id="cb282-3589"><a href="#cb282-3589" aria-hidden="true" tabindex="-1"></a><span class="in">                                                  stream_survey_12$startTime), </span></span>
<span id="cb282-3590"><a href="#cb282-3590" aria-hidden="true" tabindex="-1"></a><span class="in">                                            format="%Y-%m-%d %H:%M",</span></span>
<span id="cb282-3591"><a href="#cb282-3591" aria-hidden="true" tabindex="-1"></a><span class="in">                                            tz = "EST")</span></span>
<span id="cb282-3592"><a href="#cb282-3592" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3593"><a href="#cb282-3593" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column</span></span>
<span id="cb282-3594"><a href="#cb282-3594" aria-hidden="true" tabindex="-1"></a><span class="in"># All shifts in week 12 were day shifts</span></span>
<span id="cb282-3595"><a href="#cb282-3595" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_12 &lt;- stream_survey_12 %&gt;%</span></span>
<span id="cb282-3596"><a href="#cb282-3596" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(shift = "day")</span></span>
<span id="cb282-3597"><a href="#cb282-3597" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3598"><a href="#cb282-3598" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb282-3599"><a href="#cb282-3599" aria-hidden="true" tabindex="-1"></a><span class="in">head(stream_survey_12)</span></span>
<span id="cb282-3600"><a href="#cb282-3600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3601"><a href="#cb282-3601" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb282-3602"><a href="#cb282-3602" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(stream_survey_12, </span></span>
<span id="cb282-3603"><a href="#cb282-3603" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_12.csv", </span></span>
<span id="cb282-3604"><a href="#cb282-3604" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3605"><a href="#cb282-3605" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3606"><a href="#cb282-3606" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3607"><a href="#cb282-3607" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3608"><a href="#cb282-3608" aria-hidden="true" tabindex="-1"></a><span class="in">```{r processing stream surveys}</span></span>
<span id="cb282-3609"><a href="#cb282-3609" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3610"><a href="#cb282-3610" aria-hidden="true" tabindex="-1"></a><span class="in"># Define file names</span></span>
<span id="cb282-3611"><a href="#cb282-3611" aria-hidden="true" tabindex="-1"></a><span class="in">stream_file_names &lt;- c("stream_survey_1.csv", "stream_survey_2.csv", "stream_survey_3.csv", "stream_survey_4.csv", </span></span>
<span id="cb282-3612"><a href="#cb282-3612" aria-hidden="true" tabindex="-1"></a><span class="in">                       "stream_survey_5.csv", "stream_survey_6.csv", "stream_survey_7.csv", "stream_survey_8.csv", </span></span>
<span id="cb282-3613"><a href="#cb282-3613" aria-hidden="true" tabindex="-1"></a><span class="in">                       "stream_survey_9.csv", "stream_survey_10.csv", "stream_survey_11.csv", "stream_survey_12.csv") </span></span>
<span id="cb282-3614"><a href="#cb282-3614" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3615"><a href="#cb282-3615" aria-hidden="true" tabindex="-1"></a><span class="in"># Define a lookup table for stream names</span></span>
<span id="cb282-3616"><a href="#cb282-3616" aria-hidden="true" tabindex="-1"></a><span class="in">stream_name_lookup &lt;- data.frame(</span></span>
<span id="cb282-3617"><a href="#cb282-3617" aria-hidden="true" tabindex="-1"></a><span class="in">  abbreviation = c("Dickey (DCKY)", "Amethyst (AMTH)", </span></span>
<span id="cb282-3618"><a href="#cb282-3618" aria-hidden="true" tabindex="-1"></a><span class="in">                   "Underhill (UNDH)", "Dry (DRYU)"),  # List all abbreviations</span></span>
<span id="cb282-3619"><a href="#cb282-3619" aria-hidden="true" tabindex="-1"></a><span class="in">  full_name = c("DICKEY", "AMETHYST", </span></span>
<span id="cb282-3620"><a href="#cb282-3620" aria-hidden="true" tabindex="-1"></a><span class="in">                "UNDERHILL", "DRY UPPER")  # Corresponding full names</span></span>
<span id="cb282-3621"><a href="#cb282-3621" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb282-3622"><a href="#cb282-3622" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3623"><a href="#cb282-3623" aria-hidden="true" tabindex="-1"></a><span class="in"># Create an empty list to store the processed datasets</span></span>
<span id="cb282-3624"><a href="#cb282-3624" aria-hidden="true" tabindex="-1"></a><span class="in">processed_stream_data_list &lt;- list()</span></span>
<span id="cb282-3625"><a href="#cb282-3625" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3626"><a href="#cb282-3626" aria-hidden="true" tabindex="-1"></a><span class="in"># Loop through each stream survey file</span></span>
<span id="cb282-3627"><a href="#cb282-3627" aria-hidden="true" tabindex="-1"></a><span class="in">for (file_name in stream_file_names) {</span></span>
<span id="cb282-3628"><a href="#cb282-3628" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-3629"><a href="#cb282-3629" aria-hidden="true" tabindex="-1"></a><span class="in">  # Read in the stream survey data</span></span>
<span id="cb282-3630"><a href="#cb282-3630" aria-hidden="true" tabindex="-1"></a><span class="in">  raw_stream_data &lt;- read.csv(file_name)</span></span>
<span id="cb282-3631"><a href="#cb282-3631" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-3632"><a href="#cb282-3632" aria-hidden="true" tabindex="-1"></a><span class="in">  # Step 1: Process the data</span></span>
<span id="cb282-3633"><a href="#cb282-3633" aria-hidden="true" tabindex="-1"></a><span class="in">  stream_data &lt;- raw_stream_data %&gt;%</span></span>
<span id="cb282-3634"><a href="#cb282-3634" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb282-3635"><a href="#cb282-3635" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 2: Select specific columns</span></span>
<span id="cb282-3636"><a href="#cb282-3636" aria-hidden="true" tabindex="-1"></a><span class="in">    select(stream, airTemp, cloud, precip, startTime, endTime, iso, Notes, </span></span>
<span id="cb282-3637"><a href="#cb282-3637" aria-hidden="true" tabindex="-1"></a><span class="in">           isoTime, downstreamGPS, downstreamGain, upstreamGPS, upstreamGain, shift) %&gt;%</span></span>
<span id="cb282-3638"><a href="#cb282-3638" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3639"><a href="#cb282-3639" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 3: Rename columns</span></span>
<span id="cb282-3640"><a href="#cb282-3640" aria-hidden="true" tabindex="-1"></a><span class="in">    rename(</span></span>
<span id="cb282-3641"><a href="#cb282-3641" aria-hidden="true" tabindex="-1"></a><span class="in">      streamNotes = Notes,</span></span>
<span id="cb282-3642"><a href="#cb282-3642" aria-hidden="true" tabindex="-1"></a><span class="in">      river = stream,</span></span>
<span id="cb282-3643"><a href="#cb282-3643" aria-hidden="true" tabindex="-1"></a><span class="in">      startTime_EST = startTime,</span></span>
<span id="cb282-3644"><a href="#cb282-3644" aria-hidden="true" tabindex="-1"></a><span class="in">      endTime_EST = endTime,</span></span>
<span id="cb282-3645"><a href="#cb282-3645" aria-hidden="true" tabindex="-1"></a><span class="in">      isoID = iso,</span></span>
<span id="cb282-3646"><a href="#cb282-3646" aria-hidden="true" tabindex="-1"></a><span class="in">      isoTime_EST = isoTime) %&gt;%</span></span>
<span id="cb282-3647"><a href="#cb282-3647" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb282-3648"><a href="#cb282-3648" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 4: Rewrite stream names</span></span>
<span id="cb282-3649"><a href="#cb282-3649" aria-hidden="true" tabindex="-1"></a><span class="in">    left_join(stream_name_lookup, by = c("river" = "abbreviation")) %&gt;%</span></span>
<span id="cb282-3650"><a href="#cb282-3650" aria-hidden="true" tabindex="-1"></a><span class="in">    mutate(</span></span>
<span id="cb282-3651"><a href="#cb282-3651" aria-hidden="true" tabindex="-1"></a><span class="in">      river = coalesce(full_name, river)  # Replace Brook with full_name, if available</span></span>
<span id="cb282-3652"><a href="#cb282-3652" aria-hidden="true" tabindex="-1"></a><span class="in">    ) %&gt;%</span></span>
<span id="cb282-3653"><a href="#cb282-3653" aria-hidden="true" tabindex="-1"></a><span class="in">    select(-full_name)  # Remove the full_name column as it's no longer needed</span></span>
<span id="cb282-3654"><a href="#cb282-3654" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-3655"><a href="#cb282-3655" aria-hidden="true" tabindex="-1"></a><span class="in">  # Store the processed data in the list</span></span>
<span id="cb282-3656"><a href="#cb282-3656" aria-hidden="true" tabindex="-1"></a><span class="in">  processed_stream_data_list[[file_name]] &lt;- stream_data</span></span>
<span id="cb282-3657"><a href="#cb282-3657" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb282-3658"><a href="#cb282-3658" aria-hidden="true" tabindex="-1"></a><span class="in">  # Overwrite the original file with the processed data</span></span>
<span id="cb282-3659"><a href="#cb282-3659" aria-hidden="true" tabindex="-1"></a><span class="in">  write.csv(stream_data, file_name, row.names = FALSE)</span></span>
<span id="cb282-3660"><a href="#cb282-3660" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-3661"><a href="#cb282-3661" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3662"><a href="#cb282-3662" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of each processed dataset</span></span>
<span id="cb282-3663"><a href="#cb282-3663" aria-hidden="true" tabindex="-1"></a><span class="in">for (i in 1:length(processed_stream_data_list)) {</span></span>
<span id="cb282-3664"><a href="#cb282-3664" aria-hidden="true" tabindex="-1"></a><span class="in">  cat("\nData for", stream_file_names[i], ":\n")</span></span>
<span id="cb282-3665"><a href="#cb282-3665" aria-hidden="true" tabindex="-1"></a><span class="in">  print(head(processed_stream_data_list[[i]]))</span></span>
<span id="cb282-3666"><a href="#cb282-3666" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-3667"><a href="#cb282-3667" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3668"><a href="#cb282-3668" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3669"><a href="#cb282-3669" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3670"><a href="#cb282-3670" aria-hidden="true" tabindex="-1"></a><span class="fu">## Combine fish_flow_receiver and stream survey data</span></span>
<span id="cb282-3671"><a href="#cb282-3671" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3672"><a href="#cb282-3672" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish_flow_receiver and stream week 1 surveys}</span></span>
<span id="cb282-3673"><a href="#cb282-3673" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3674"><a href="#cb282-3674" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish_flow_receiver and stream survey data for week 1</span></span>
<span id="cb282-3675"><a href="#cb282-3675" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_1 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_1.csv")</span></span>
<span id="cb282-3676"><a href="#cb282-3676" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_1 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_1.csv")</span></span>
<span id="cb282-3677"><a href="#cb282-3677" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3678"><a href="#cb282-3678" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust 'river' in fish_flow_receiver survey to handle Buffam and Harris as part of Amethyst</span></span>
<span id="cb282-3679"><a href="#cb282-3679" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_1 &lt;- fish_flow_receiver_1 %&gt;%</span></span>
<span id="cb282-3680"><a href="#cb282-3680" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-3681"><a href="#cb282-3681" aria-hidden="true" tabindex="-1"></a><span class="in">    # Create a new 'riverMatch' column for the join</span></span>
<span id="cb282-3682"><a href="#cb282-3682" aria-hidden="true" tabindex="-1"></a><span class="in">    riverMatch = ifelse(river %in% c("BUFFAM", "HARRIS"), "AMETHYST", river)</span></span>
<span id="cb282-3683"><a href="#cb282-3683" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-3684"><a href="#cb282-3684" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3685"><a href="#cb282-3685" aria-hidden="true" tabindex="-1"></a><span class="in"># Perform the join on the 'shift' and the modified 'riverMatch' column in the fish survey</span></span>
<span id="cb282-3686"><a href="#cb282-3686" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_1 &lt;- left_join(fish_flow_receiver_1, </span></span>
<span id="cb282-3687"><a href="#cb282-3687" aria-hidden="true" tabindex="-1"></a><span class="in">                           stream_survey_1, </span></span>
<span id="cb282-3688"><a href="#cb282-3688" aria-hidden="true" tabindex="-1"></a><span class="in">                           by = c("shift", "riverMatch" = "river"))</span></span>
<span id="cb282-3689"><a href="#cb282-3689" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3690"><a href="#cb282-3690" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove the 'riverMatch' column from the result</span></span>
<span id="cb282-3691"><a href="#cb282-3691" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_1 &lt;- fish_flow_receiver_stream_1 %&gt;% </span></span>
<span id="cb282-3692"><a href="#cb282-3692" aria-hidden="true" tabindex="-1"></a><span class="in">  select(-riverMatch)</span></span>
<span id="cb282-3693"><a href="#cb282-3693" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3694"><a href="#cb282-3694" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-3695"><a href="#cb282-3695" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_stream_1)</span></span>
<span id="cb282-3696"><a href="#cb282-3696" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3697"><a href="#cb282-3697" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-3698"><a href="#cb282-3698" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_stream_1, </span></span>
<span id="cb282-3699"><a href="#cb282-3699" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_1.csv", </span></span>
<span id="cb282-3700"><a href="#cb282-3700" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3701"><a href="#cb282-3701" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3702"><a href="#cb282-3702" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3703"><a href="#cb282-3703" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3704"><a href="#cb282-3704" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish_flow_receiver and stream week 2 surveys}</span></span>
<span id="cb282-3705"><a href="#cb282-3705" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3706"><a href="#cb282-3706" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish_flow_receiver and stream survey data for week 2</span></span>
<span id="cb282-3707"><a href="#cb282-3707" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_2 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_2.csv")</span></span>
<span id="cb282-3708"><a href="#cb282-3708" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_2 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_2.csv")</span></span>
<span id="cb282-3709"><a href="#cb282-3709" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3710"><a href="#cb282-3710" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust 'river' in fish survey to handle Buffam and Harris as part of Amethyst</span></span>
<span id="cb282-3711"><a href="#cb282-3711" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_2 &lt;- fish_flow_receiver_2 %&gt;%</span></span>
<span id="cb282-3712"><a href="#cb282-3712" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-3713"><a href="#cb282-3713" aria-hidden="true" tabindex="-1"></a><span class="in">    # Create a new 'riverMatch' column for the join</span></span>
<span id="cb282-3714"><a href="#cb282-3714" aria-hidden="true" tabindex="-1"></a><span class="in">    riverMatch = ifelse(river %in% c("BUFFAM", "HARRIS"), "AMETHYST", river)</span></span>
<span id="cb282-3715"><a href="#cb282-3715" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-3716"><a href="#cb282-3716" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3717"><a href="#cb282-3717" aria-hidden="true" tabindex="-1"></a><span class="in"># Perform the join on the 'shift' and the modified 'riverMatch' column in the fish survey</span></span>
<span id="cb282-3718"><a href="#cb282-3718" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_2 &lt;- left_join(fish_flow_receiver_2, </span></span>
<span id="cb282-3719"><a href="#cb282-3719" aria-hidden="true" tabindex="-1"></a><span class="in">                           stream_survey_2, </span></span>
<span id="cb282-3720"><a href="#cb282-3720" aria-hidden="true" tabindex="-1"></a><span class="in">                           by = c("shift", "riverMatch" = "river"))</span></span>
<span id="cb282-3721"><a href="#cb282-3721" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3722"><a href="#cb282-3722" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove the 'riverMatch' column from the result</span></span>
<span id="cb282-3723"><a href="#cb282-3723" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_2 &lt;- fish_flow_receiver_stream_2 %&gt;% </span></span>
<span id="cb282-3724"><a href="#cb282-3724" aria-hidden="true" tabindex="-1"></a><span class="in">  select(-riverMatch)</span></span>
<span id="cb282-3725"><a href="#cb282-3725" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3726"><a href="#cb282-3726" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-3727"><a href="#cb282-3727" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_stream_2)</span></span>
<span id="cb282-3728"><a href="#cb282-3728" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3729"><a href="#cb282-3729" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-3730"><a href="#cb282-3730" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_stream_2, </span></span>
<span id="cb282-3731"><a href="#cb282-3731" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_2.csv", </span></span>
<span id="cb282-3732"><a href="#cb282-3732" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3733"><a href="#cb282-3733" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3734"><a href="#cb282-3734" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3735"><a href="#cb282-3735" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3736"><a href="#cb282-3736" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish_flow_receiver and stream week 3 surveys}</span></span>
<span id="cb282-3737"><a href="#cb282-3737" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3738"><a href="#cb282-3738" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish_flow_receiver and stream survey data for week 3</span></span>
<span id="cb282-3739"><a href="#cb282-3739" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_3 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_3.csv")</span></span>
<span id="cb282-3740"><a href="#cb282-3740" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_3 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_3.csv")</span></span>
<span id="cb282-3741"><a href="#cb282-3741" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3742"><a href="#cb282-3742" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust 'river' in fish survey to handle Buffam and Harris as part of Amethyst</span></span>
<span id="cb282-3743"><a href="#cb282-3743" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_3 &lt;- fish_flow_receiver_3 %&gt;%</span></span>
<span id="cb282-3744"><a href="#cb282-3744" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-3745"><a href="#cb282-3745" aria-hidden="true" tabindex="-1"></a><span class="in">    # Create a new 'riverMatch' column for the join</span></span>
<span id="cb282-3746"><a href="#cb282-3746" aria-hidden="true" tabindex="-1"></a><span class="in">    riverMatch = ifelse(river %in% c("BUFFAM", "HARRIS"), "AMETHYST", river)</span></span>
<span id="cb282-3747"><a href="#cb282-3747" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-3748"><a href="#cb282-3748" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3749"><a href="#cb282-3749" aria-hidden="true" tabindex="-1"></a><span class="in"># Perform the join on the 'shift' and the modified 'riverMatch' column in the fish survey</span></span>
<span id="cb282-3750"><a href="#cb282-3750" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_3 &lt;- left_join(fish_flow_receiver_3, </span></span>
<span id="cb282-3751"><a href="#cb282-3751" aria-hidden="true" tabindex="-1"></a><span class="in">                           stream_survey_3, </span></span>
<span id="cb282-3752"><a href="#cb282-3752" aria-hidden="true" tabindex="-1"></a><span class="in">                           by = c("shift", "riverMatch" = "river"))</span></span>
<span id="cb282-3753"><a href="#cb282-3753" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3754"><a href="#cb282-3754" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove the 'riverMatch' column from the result</span></span>
<span id="cb282-3755"><a href="#cb282-3755" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_3 &lt;- fish_flow_receiver_stream_3 %&gt;% </span></span>
<span id="cb282-3756"><a href="#cb282-3756" aria-hidden="true" tabindex="-1"></a><span class="in">  select(-riverMatch)</span></span>
<span id="cb282-3757"><a href="#cb282-3757" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3758"><a href="#cb282-3758" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-3759"><a href="#cb282-3759" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_stream_3)</span></span>
<span id="cb282-3760"><a href="#cb282-3760" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3761"><a href="#cb282-3761" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-3762"><a href="#cb282-3762" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_stream_3, </span></span>
<span id="cb282-3763"><a href="#cb282-3763" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_3.csv", </span></span>
<span id="cb282-3764"><a href="#cb282-3764" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3765"><a href="#cb282-3765" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3766"><a href="#cb282-3766" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3767"><a href="#cb282-3767" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3768"><a href="#cb282-3768" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish_flow_receiver and stream week 4 surveys}</span></span>
<span id="cb282-3769"><a href="#cb282-3769" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3770"><a href="#cb282-3770" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish_flow_receiver and stream survey data for week 4</span></span>
<span id="cb282-3771"><a href="#cb282-3771" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_4 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_4.csv")</span></span>
<span id="cb282-3772"><a href="#cb282-3772" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_4 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_4.csv")</span></span>
<span id="cb282-3773"><a href="#cb282-3773" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3774"><a href="#cb282-3774" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust 'river' in fish survey to handle Buffam and Harris as part of Amethyst</span></span>
<span id="cb282-3775"><a href="#cb282-3775" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_4 &lt;- fish_flow_receiver_4 %&gt;%</span></span>
<span id="cb282-3776"><a href="#cb282-3776" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-3777"><a href="#cb282-3777" aria-hidden="true" tabindex="-1"></a><span class="in">    # Create a new 'riverMatch' column for the join</span></span>
<span id="cb282-3778"><a href="#cb282-3778" aria-hidden="true" tabindex="-1"></a><span class="in">    riverMatch = ifelse(river %in% c("BUFFAM", "HARRIS"), "AMETHYST", river)</span></span>
<span id="cb282-3779"><a href="#cb282-3779" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-3780"><a href="#cb282-3780" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3781"><a href="#cb282-3781" aria-hidden="true" tabindex="-1"></a><span class="in"># Perform the join on the 'shift' and the modified 'riverMatch' column in the fish survey</span></span>
<span id="cb282-3782"><a href="#cb282-3782" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_4 &lt;- left_join(fish_flow_receiver_4, </span></span>
<span id="cb282-3783"><a href="#cb282-3783" aria-hidden="true" tabindex="-1"></a><span class="in">                           stream_survey_4, </span></span>
<span id="cb282-3784"><a href="#cb282-3784" aria-hidden="true" tabindex="-1"></a><span class="in">                           by = c("shift", "riverMatch" = "river"))</span></span>
<span id="cb282-3785"><a href="#cb282-3785" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3786"><a href="#cb282-3786" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove the 'riverMatch' column from the result</span></span>
<span id="cb282-3787"><a href="#cb282-3787" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_4 &lt;- fish_flow_receiver_stream_4 %&gt;% </span></span>
<span id="cb282-3788"><a href="#cb282-3788" aria-hidden="true" tabindex="-1"></a><span class="in">  select(-riverMatch)</span></span>
<span id="cb282-3789"><a href="#cb282-3789" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3790"><a href="#cb282-3790" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-3791"><a href="#cb282-3791" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_stream_4)</span></span>
<span id="cb282-3792"><a href="#cb282-3792" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3793"><a href="#cb282-3793" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-3794"><a href="#cb282-3794" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_stream_4, </span></span>
<span id="cb282-3795"><a href="#cb282-3795" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_4.csv", </span></span>
<span id="cb282-3796"><a href="#cb282-3796" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3797"><a href="#cb282-3797" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3798"><a href="#cb282-3798" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3799"><a href="#cb282-3799" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3800"><a href="#cb282-3800" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish_flow_receiver and stream week 5 surveys}</span></span>
<span id="cb282-3801"><a href="#cb282-3801" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3802"><a href="#cb282-3802" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish_flow_receiver and stream survey data for week 5</span></span>
<span id="cb282-3803"><a href="#cb282-3803" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_5 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_5.csv")</span></span>
<span id="cb282-3804"><a href="#cb282-3804" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_5 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_5.csv")</span></span>
<span id="cb282-3805"><a href="#cb282-3805" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3806"><a href="#cb282-3806" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust 'river' in fish survey to handle Buffam and Harris as part of Amethyst</span></span>
<span id="cb282-3807"><a href="#cb282-3807" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_5 &lt;- fish_flow_receiver_5 %&gt;%</span></span>
<span id="cb282-3808"><a href="#cb282-3808" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-3809"><a href="#cb282-3809" aria-hidden="true" tabindex="-1"></a><span class="in">    # Create a new 'riverMatch' column for the join</span></span>
<span id="cb282-3810"><a href="#cb282-3810" aria-hidden="true" tabindex="-1"></a><span class="in">    riverMatch = ifelse(river %in% c("BUFFAM", "HARRIS"), "AMETHYST", river)</span></span>
<span id="cb282-3811"><a href="#cb282-3811" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-3812"><a href="#cb282-3812" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3813"><a href="#cb282-3813" aria-hidden="true" tabindex="-1"></a><span class="in"># Perform the join on the 'shift' and the modified 'riverMatch' column in the fish survey</span></span>
<span id="cb282-3814"><a href="#cb282-3814" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_5 &lt;- left_join(fish_flow_receiver_5, </span></span>
<span id="cb282-3815"><a href="#cb282-3815" aria-hidden="true" tabindex="-1"></a><span class="in">                           stream_survey_5, </span></span>
<span id="cb282-3816"><a href="#cb282-3816" aria-hidden="true" tabindex="-1"></a><span class="in">                           by = c("shift", "riverMatch" = "river"))</span></span>
<span id="cb282-3817"><a href="#cb282-3817" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3818"><a href="#cb282-3818" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove the 'riverMatch' column from the result</span></span>
<span id="cb282-3819"><a href="#cb282-3819" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_5 &lt;- fish_flow_receiver_stream_5 %&gt;% </span></span>
<span id="cb282-3820"><a href="#cb282-3820" aria-hidden="true" tabindex="-1"></a><span class="in">  select(-riverMatch)</span></span>
<span id="cb282-3821"><a href="#cb282-3821" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3822"><a href="#cb282-3822" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-3823"><a href="#cb282-3823" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_stream_5)</span></span>
<span id="cb282-3824"><a href="#cb282-3824" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3825"><a href="#cb282-3825" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-3826"><a href="#cb282-3826" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_stream_5, </span></span>
<span id="cb282-3827"><a href="#cb282-3827" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_5.csv", </span></span>
<span id="cb282-3828"><a href="#cb282-3828" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3829"><a href="#cb282-3829" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3830"><a href="#cb282-3830" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3831"><a href="#cb282-3831" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3832"><a href="#cb282-3832" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish_flow_receiver and stream week 6 surveys}</span></span>
<span id="cb282-3833"><a href="#cb282-3833" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3834"><a href="#cb282-3834" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish_flow_receiver and stream survey data for week 6</span></span>
<span id="cb282-3835"><a href="#cb282-3835" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_6 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_6.csv")</span></span>
<span id="cb282-3836"><a href="#cb282-3836" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_6 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_6.csv")</span></span>
<span id="cb282-3837"><a href="#cb282-3837" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3838"><a href="#cb282-3838" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust 'river' in fish survey to handle Buffam and Harris as part of Amethyst</span></span>
<span id="cb282-3839"><a href="#cb282-3839" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_6 &lt;- fish_flow_receiver_6 %&gt;%</span></span>
<span id="cb282-3840"><a href="#cb282-3840" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-3841"><a href="#cb282-3841" aria-hidden="true" tabindex="-1"></a><span class="in">    # Create a new 'riverMatch' column for the join</span></span>
<span id="cb282-3842"><a href="#cb282-3842" aria-hidden="true" tabindex="-1"></a><span class="in">    riverMatch = ifelse(river %in% c("BUFFAM", "HARRIS"), "AMETHYST", river)</span></span>
<span id="cb282-3843"><a href="#cb282-3843" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-3844"><a href="#cb282-3844" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3845"><a href="#cb282-3845" aria-hidden="true" tabindex="-1"></a><span class="in"># Perform the join on the 'shift' and the modified 'riverMatch' column in the fish survey</span></span>
<span id="cb282-3846"><a href="#cb282-3846" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_6 &lt;- left_join(fish_flow_receiver_6, </span></span>
<span id="cb282-3847"><a href="#cb282-3847" aria-hidden="true" tabindex="-1"></a><span class="in">                           stream_survey_6, </span></span>
<span id="cb282-3848"><a href="#cb282-3848" aria-hidden="true" tabindex="-1"></a><span class="in">                           by = c("shift", "riverMatch" = "river"))</span></span>
<span id="cb282-3849"><a href="#cb282-3849" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3850"><a href="#cb282-3850" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove the 'riverMatch' column from the result</span></span>
<span id="cb282-3851"><a href="#cb282-3851" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_6 &lt;- fish_flow_receiver_stream_6 %&gt;% </span></span>
<span id="cb282-3852"><a href="#cb282-3852" aria-hidden="true" tabindex="-1"></a><span class="in">  select(-riverMatch)</span></span>
<span id="cb282-3853"><a href="#cb282-3853" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3854"><a href="#cb282-3854" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-3855"><a href="#cb282-3855" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_stream_6)</span></span>
<span id="cb282-3856"><a href="#cb282-3856" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3857"><a href="#cb282-3857" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-3858"><a href="#cb282-3858" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_stream_6, </span></span>
<span id="cb282-3859"><a href="#cb282-3859" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_6.csv", </span></span>
<span id="cb282-3860"><a href="#cb282-3860" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3861"><a href="#cb282-3861" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3862"><a href="#cb282-3862" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3863"><a href="#cb282-3863" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3864"><a href="#cb282-3864" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish_flow_receiver and stream week 7 surveys}</span></span>
<span id="cb282-3865"><a href="#cb282-3865" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3866"><a href="#cb282-3866" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish_flow_receiver and stream survey data for week 7</span></span>
<span id="cb282-3867"><a href="#cb282-3867" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_7 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_7.csv")</span></span>
<span id="cb282-3868"><a href="#cb282-3868" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_7 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_7.csv")</span></span>
<span id="cb282-3869"><a href="#cb282-3869" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3870"><a href="#cb282-3870" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust 'river' in fish survey to handle Buffam and Harris as part of Amethyst</span></span>
<span id="cb282-3871"><a href="#cb282-3871" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_7 &lt;- fish_flow_receiver_7 %&gt;%</span></span>
<span id="cb282-3872"><a href="#cb282-3872" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-3873"><a href="#cb282-3873" aria-hidden="true" tabindex="-1"></a><span class="in">    # Create a new 'riverMatch' column for the join</span></span>
<span id="cb282-3874"><a href="#cb282-3874" aria-hidden="true" tabindex="-1"></a><span class="in">    riverMatch = ifelse(river %in% c("BUFFAM", "HARRIS"), "AMETHYST", river)</span></span>
<span id="cb282-3875"><a href="#cb282-3875" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-3876"><a href="#cb282-3876" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3877"><a href="#cb282-3877" aria-hidden="true" tabindex="-1"></a><span class="in"># Perform the join on the 'shift' and the modified 'riverMatch' column in the fish survey</span></span>
<span id="cb282-3878"><a href="#cb282-3878" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_7 &lt;- left_join(fish_flow_receiver_7, </span></span>
<span id="cb282-3879"><a href="#cb282-3879" aria-hidden="true" tabindex="-1"></a><span class="in">                           stream_survey_7, </span></span>
<span id="cb282-3880"><a href="#cb282-3880" aria-hidden="true" tabindex="-1"></a><span class="in">                           by = c("shift", "riverMatch" = "river"))</span></span>
<span id="cb282-3881"><a href="#cb282-3881" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3882"><a href="#cb282-3882" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove the 'riverMatch' column from the result</span></span>
<span id="cb282-3883"><a href="#cb282-3883" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_7 &lt;- fish_flow_receiver_stream_7 %&gt;% </span></span>
<span id="cb282-3884"><a href="#cb282-3884" aria-hidden="true" tabindex="-1"></a><span class="in">  select(-riverMatch)</span></span>
<span id="cb282-3885"><a href="#cb282-3885" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3886"><a href="#cb282-3886" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-3887"><a href="#cb282-3887" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_stream_7)</span></span>
<span id="cb282-3888"><a href="#cb282-3888" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3889"><a href="#cb282-3889" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-3890"><a href="#cb282-3890" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_stream_7, </span></span>
<span id="cb282-3891"><a href="#cb282-3891" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_7.csv", </span></span>
<span id="cb282-3892"><a href="#cb282-3892" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3893"><a href="#cb282-3893" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3894"><a href="#cb282-3894" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3895"><a href="#cb282-3895" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3896"><a href="#cb282-3896" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish_flow_receiver and stream week 8 surveys}</span></span>
<span id="cb282-3897"><a href="#cb282-3897" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3898"><a href="#cb282-3898" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish_flow_receiver and stream survey data for week 8</span></span>
<span id="cb282-3899"><a href="#cb282-3899" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_8 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_8.csv")</span></span>
<span id="cb282-3900"><a href="#cb282-3900" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_8 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_8.csv")</span></span>
<span id="cb282-3901"><a href="#cb282-3901" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3902"><a href="#cb282-3902" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust 'river' in fish survey to handle Buffam and Harris as part of Amethyst</span></span>
<span id="cb282-3903"><a href="#cb282-3903" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_8 &lt;- fish_flow_receiver_8 %&gt;%</span></span>
<span id="cb282-3904"><a href="#cb282-3904" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-3905"><a href="#cb282-3905" aria-hidden="true" tabindex="-1"></a><span class="in">    # Create a new 'riverMatch' column for the join</span></span>
<span id="cb282-3906"><a href="#cb282-3906" aria-hidden="true" tabindex="-1"></a><span class="in">    riverMatch = ifelse(river %in% c("BUFFAM", "HARRIS"), "AMETHYST", river)</span></span>
<span id="cb282-3907"><a href="#cb282-3907" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-3908"><a href="#cb282-3908" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3909"><a href="#cb282-3909" aria-hidden="true" tabindex="-1"></a><span class="in"># Perform the join on the 'shift' and the modified 'riverMatch' column in the fish survey</span></span>
<span id="cb282-3910"><a href="#cb282-3910" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_8 &lt;- left_join(fish_flow_receiver_8, </span></span>
<span id="cb282-3911"><a href="#cb282-3911" aria-hidden="true" tabindex="-1"></a><span class="in">                           stream_survey_8, </span></span>
<span id="cb282-3912"><a href="#cb282-3912" aria-hidden="true" tabindex="-1"></a><span class="in">                           by = c("shift", "riverMatch" = "river"))</span></span>
<span id="cb282-3913"><a href="#cb282-3913" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3914"><a href="#cb282-3914" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove the 'riverMatch' column from the result</span></span>
<span id="cb282-3915"><a href="#cb282-3915" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_8 &lt;- fish_flow_receiver_stream_8 %&gt;% </span></span>
<span id="cb282-3916"><a href="#cb282-3916" aria-hidden="true" tabindex="-1"></a><span class="in">  select(-riverMatch)</span></span>
<span id="cb282-3917"><a href="#cb282-3917" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3918"><a href="#cb282-3918" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-3919"><a href="#cb282-3919" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_stream_8)</span></span>
<span id="cb282-3920"><a href="#cb282-3920" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3921"><a href="#cb282-3921" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-3922"><a href="#cb282-3922" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_stream_8, </span></span>
<span id="cb282-3923"><a href="#cb282-3923" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_8.csv", </span></span>
<span id="cb282-3924"><a href="#cb282-3924" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3925"><a href="#cb282-3925" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3926"><a href="#cb282-3926" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3927"><a href="#cb282-3927" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3928"><a href="#cb282-3928" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish_flow_receiver and stream week 9 surveys}</span></span>
<span id="cb282-3929"><a href="#cb282-3929" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3930"><a href="#cb282-3930" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish_flow_receiver and stream survey data for week 9</span></span>
<span id="cb282-3931"><a href="#cb282-3931" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_9 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_9.csv")</span></span>
<span id="cb282-3932"><a href="#cb282-3932" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_9 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_9.csv")</span></span>
<span id="cb282-3933"><a href="#cb282-3933" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3934"><a href="#cb282-3934" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust 'river' in fish survey to handle Buffam and Harris as part of Amethyst</span></span>
<span id="cb282-3935"><a href="#cb282-3935" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_9 &lt;- fish_flow_receiver_9 %&gt;%</span></span>
<span id="cb282-3936"><a href="#cb282-3936" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-3937"><a href="#cb282-3937" aria-hidden="true" tabindex="-1"></a><span class="in">    # Create a new 'riverMatch' column for the join</span></span>
<span id="cb282-3938"><a href="#cb282-3938" aria-hidden="true" tabindex="-1"></a><span class="in">    riverMatch = ifelse(river %in% c("BUFFAM", "HARRIS"), "AMETHYST", river)</span></span>
<span id="cb282-3939"><a href="#cb282-3939" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-3940"><a href="#cb282-3940" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3941"><a href="#cb282-3941" aria-hidden="true" tabindex="-1"></a><span class="in"># Perform the join on the 'shift' and the modified 'riverMatch' column in the fish survey</span></span>
<span id="cb282-3942"><a href="#cb282-3942" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_9 &lt;- left_join(fish_flow_receiver_9, </span></span>
<span id="cb282-3943"><a href="#cb282-3943" aria-hidden="true" tabindex="-1"></a><span class="in">                           stream_survey_9, </span></span>
<span id="cb282-3944"><a href="#cb282-3944" aria-hidden="true" tabindex="-1"></a><span class="in">                           by = c("shift", "riverMatch" = "river"))</span></span>
<span id="cb282-3945"><a href="#cb282-3945" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3946"><a href="#cb282-3946" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove the 'riverMatch' column from the result</span></span>
<span id="cb282-3947"><a href="#cb282-3947" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_9 &lt;- fish_flow_receiver_stream_9 %&gt;% </span></span>
<span id="cb282-3948"><a href="#cb282-3948" aria-hidden="true" tabindex="-1"></a><span class="in">  select(-riverMatch)</span></span>
<span id="cb282-3949"><a href="#cb282-3949" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3950"><a href="#cb282-3950" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-3951"><a href="#cb282-3951" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_stream_9)</span></span>
<span id="cb282-3952"><a href="#cb282-3952" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3953"><a href="#cb282-3953" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-3954"><a href="#cb282-3954" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_stream_9, </span></span>
<span id="cb282-3955"><a href="#cb282-3955" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_9.csv", </span></span>
<span id="cb282-3956"><a href="#cb282-3956" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3957"><a href="#cb282-3957" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3958"><a href="#cb282-3958" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3959"><a href="#cb282-3959" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3960"><a href="#cb282-3960" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish_flow_receiver and stream week 10 surveys}</span></span>
<span id="cb282-3961"><a href="#cb282-3961" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3962"><a href="#cb282-3962" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish_flow_receiver and stream survey data for week 10</span></span>
<span id="cb282-3963"><a href="#cb282-3963" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_10 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_10.csv")</span></span>
<span id="cb282-3964"><a href="#cb282-3964" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_10 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_10.csv")</span></span>
<span id="cb282-3965"><a href="#cb282-3965" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3966"><a href="#cb282-3966" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust 'river' in fish survey to handle Buffam and Harris as part of Amethyst</span></span>
<span id="cb282-3967"><a href="#cb282-3967" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_10 &lt;- fish_flow_receiver_10 %&gt;%</span></span>
<span id="cb282-3968"><a href="#cb282-3968" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-3969"><a href="#cb282-3969" aria-hidden="true" tabindex="-1"></a><span class="in">    # Create a new 'riverMatch' column for the join</span></span>
<span id="cb282-3970"><a href="#cb282-3970" aria-hidden="true" tabindex="-1"></a><span class="in">    riverMatch = ifelse(river %in% c("BUFFAM", "HARRIS"), "AMETHYST", river)</span></span>
<span id="cb282-3971"><a href="#cb282-3971" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-3972"><a href="#cb282-3972" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3973"><a href="#cb282-3973" aria-hidden="true" tabindex="-1"></a><span class="in"># Perform the join on the 'shift' and the modified 'riverMatch' column in the fish survey</span></span>
<span id="cb282-3974"><a href="#cb282-3974" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_10 &lt;- left_join(fish_flow_receiver_10, </span></span>
<span id="cb282-3975"><a href="#cb282-3975" aria-hidden="true" tabindex="-1"></a><span class="in">                            stream_survey_10, </span></span>
<span id="cb282-3976"><a href="#cb282-3976" aria-hidden="true" tabindex="-1"></a><span class="in">                            by = c("shift", "riverMatch" = "river"))</span></span>
<span id="cb282-3977"><a href="#cb282-3977" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3978"><a href="#cb282-3978" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove the 'riverMatch' column from the result</span></span>
<span id="cb282-3979"><a href="#cb282-3979" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_10 &lt;- fish_flow_receiver_stream_10 %&gt;% </span></span>
<span id="cb282-3980"><a href="#cb282-3980" aria-hidden="true" tabindex="-1"></a><span class="in">  select(-riverMatch)</span></span>
<span id="cb282-3981"><a href="#cb282-3981" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3982"><a href="#cb282-3982" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-3983"><a href="#cb282-3983" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_stream_10)</span></span>
<span id="cb282-3984"><a href="#cb282-3984" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3985"><a href="#cb282-3985" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-3986"><a href="#cb282-3986" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_stream_10, </span></span>
<span id="cb282-3987"><a href="#cb282-3987" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_10.csv", </span></span>
<span id="cb282-3988"><a href="#cb282-3988" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-3989"><a href="#cb282-3989" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3990"><a href="#cb282-3990" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-3991"><a href="#cb282-3991" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3992"><a href="#cb282-3992" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish_flow_receiver and stream week 11 surveys}</span></span>
<span id="cb282-3993"><a href="#cb282-3993" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3994"><a href="#cb282-3994" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish_flow_receiver and stream survey data for week 11</span></span>
<span id="cb282-3995"><a href="#cb282-3995" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_11 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_11.csv")</span></span>
<span id="cb282-3996"><a href="#cb282-3996" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_11 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_11.csv")</span></span>
<span id="cb282-3997"><a href="#cb282-3997" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-3998"><a href="#cb282-3998" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust 'river' in fish survey to handle Buffam and Harris as part of Amethyst</span></span>
<span id="cb282-3999"><a href="#cb282-3999" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_11 &lt;- fish_flow_receiver_11 %&gt;%</span></span>
<span id="cb282-4000"><a href="#cb282-4000" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb282-4001"><a href="#cb282-4001" aria-hidden="true" tabindex="-1"></a><span class="in">    # Create a new 'riverMatch' column for the join</span></span>
<span id="cb282-4002"><a href="#cb282-4002" aria-hidden="true" tabindex="-1"></a><span class="in">    riverMatch = ifelse(river %in% c("BUFFAM", "HARRIS"), "AMETHYST", river)</span></span>
<span id="cb282-4003"><a href="#cb282-4003" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb282-4004"><a href="#cb282-4004" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4005"><a href="#cb282-4005" aria-hidden="true" tabindex="-1"></a><span class="in"># Perform the join on the 'shift' and the modified 'riverMatch' column in the fish survey</span></span>
<span id="cb282-4006"><a href="#cb282-4006" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_11 &lt;- left_join(fish_flow_receiver_11, </span></span>
<span id="cb282-4007"><a href="#cb282-4007" aria-hidden="true" tabindex="-1"></a><span class="in">                            stream_survey_11, </span></span>
<span id="cb282-4008"><a href="#cb282-4008" aria-hidden="true" tabindex="-1"></a><span class="in">                            by = c("shift", "riverMatch" = "river"))</span></span>
<span id="cb282-4009"><a href="#cb282-4009" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4010"><a href="#cb282-4010" aria-hidden="true" tabindex="-1"></a><span class="in"># Remove the 'riverMatch' column from the result</span></span>
<span id="cb282-4011"><a href="#cb282-4011" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_11 &lt;- fish_flow_receiver_stream_11 %&gt;% </span></span>
<span id="cb282-4012"><a href="#cb282-4012" aria-hidden="true" tabindex="-1"></a><span class="in">  select(-riverMatch)</span></span>
<span id="cb282-4013"><a href="#cb282-4013" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4014"><a href="#cb282-4014" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-4015"><a href="#cb282-4015" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_stream_11)</span></span>
<span id="cb282-4016"><a href="#cb282-4016" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4017"><a href="#cb282-4017" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-4018"><a href="#cb282-4018" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_stream_11, </span></span>
<span id="cb282-4019"><a href="#cb282-4019" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_11.csv", </span></span>
<span id="cb282-4020"><a href="#cb282-4020" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-4021"><a href="#cb282-4021" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4022"><a href="#cb282-4022" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-4023"><a href="#cb282-4023" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4024"><a href="#cb282-4024" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish_flow_receiver and stream week 12 surveys}</span></span>
<span id="cb282-4025"><a href="#cb282-4025" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4026"><a href="#cb282-4026" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish_flow_receiver and stream survey data for week 12</span></span>
<span id="cb282-4027"><a href="#cb282-4027" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_12 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_12.csv")</span></span>
<span id="cb282-4028"><a href="#cb282-4028" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_12 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/stream_survey_12.csv")</span></span>
<span id="cb282-4029"><a href="#cb282-4029" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4030"><a href="#cb282-4030" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets by shift and river columns</span></span>
<span id="cb282-4031"><a href="#cb282-4031" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_12 &lt;- left_join(fish_flow_receiver_12, </span></span>
<span id="cb282-4032"><a href="#cb282-4032" aria-hidden="true" tabindex="-1"></a><span class="in">                            stream_survey_12, </span></span>
<span id="cb282-4033"><a href="#cb282-4033" aria-hidden="true" tabindex="-1"></a><span class="in">                            by = c("shift", "river"))</span></span>
<span id="cb282-4034"><a href="#cb282-4034" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4035"><a href="#cb282-4035" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined data</span></span>
<span id="cb282-4036"><a href="#cb282-4036" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_stream_12)</span></span>
<span id="cb282-4037"><a href="#cb282-4037" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4038"><a href="#cb282-4038" aria-hidden="true" tabindex="-1"></a><span class="in"># Save the combined data to a new CSV file</span></span>
<span id="cb282-4039"><a href="#cb282-4039" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_stream_12, </span></span>
<span id="cb282-4040"><a href="#cb282-4040" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_12.csv", </span></span>
<span id="cb282-4041"><a href="#cb282-4041" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-4042"><a href="#cb282-4042" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4043"><a href="#cb282-4043" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-4044"><a href="#cb282-4044" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4045"><a href="#cb282-4045" aria-hidden="true" tabindex="-1"></a><span class="fu">## Combine all weekly datasets</span></span>
<span id="cb282-4046"><a href="#cb282-4046" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4047"><a href="#cb282-4047" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine all weekly datasets (fish, flow, receiver, and stream)}</span></span>
<span id="cb282-4048"><a href="#cb282-4048" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4049"><a href="#cb282-4049" aria-hidden="true" tabindex="-1"></a><span class="in"># Define file names</span></span>
<span id="cb282-4050"><a href="#cb282-4050" aria-hidden="true" tabindex="-1"></a><span class="in">file_names &lt;- c("fish_flow_receiver_stream_1.csv", "fish_flow_receiver_stream_2.csv", "fish_flow_receiver_stream_3.csv", "fish_flow_receiver_stream_4.csv", </span></span>
<span id="cb282-4051"><a href="#cb282-4051" aria-hidden="true" tabindex="-1"></a><span class="in">                "fish_flow_receiver_stream_5.csv", "fish_flow_receiver_stream_6.csv", "fish_flow_receiver_stream_7.csv", "fish_flow_receiver_stream_8.csv", </span></span>
<span id="cb282-4052"><a href="#cb282-4052" aria-hidden="true" tabindex="-1"></a><span class="in">                "fish_flow_receiver_stream_9.csv", "fish_flow_receiver_stream_10.csv", "fish_flow_receiver_stream_11.csv", "fish_flow_receiver_stream_12.csv") </span></span>
<span id="cb282-4053"><a href="#cb282-4053" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4054"><a href="#cb282-4054" aria-hidden="true" tabindex="-1"></a><span class="in"># Create an empty list to store the data from each file</span></span>
<span id="cb282-4055"><a href="#cb282-4055" aria-hidden="true" tabindex="-1"></a><span class="in">full_data_list &lt;- list()</span></span>
<span id="cb282-4056"><a href="#cb282-4056" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4057"><a href="#cb282-4057" aria-hidden="true" tabindex="-1"></a><span class="in"># Loop through each file and read the data into the list</span></span>
<span id="cb282-4058"><a href="#cb282-4058" aria-hidden="true" tabindex="-1"></a><span class="in">for (file_name in file_names) {</span></span>
<span id="cb282-4059"><a href="#cb282-4059" aria-hidden="true" tabindex="-1"></a><span class="in">  all_data &lt;- read.csv(file_name, stringsAsFactors = FALSE)</span></span>
<span id="cb282-4060"><a href="#cb282-4060" aria-hidden="true" tabindex="-1"></a><span class="in">  full_data_list[[file_name]] &lt;- all_data</span></span>
<span id="cb282-4061"><a href="#cb282-4061" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb282-4062"><a href="#cb282-4062" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4063"><a href="#cb282-4063" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine all datasets into a single data frame by stacking rows</span></span>
<span id="cb282-4064"><a href="#cb282-4064" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_all &lt;- bind_rows(full_data_list)</span></span>
<span id="cb282-4065"><a href="#cb282-4065" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4066"><a href="#cb282-4066" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of the combined dataset</span></span>
<span id="cb282-4067"><a href="#cb282-4067" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_flow_receiver_stream_all)</span></span>
<span id="cb282-4068"><a href="#cb282-4068" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4069"><a href="#cb282-4069" aria-hidden="true" tabindex="-1"></a><span class="in"># Write the combined data to a new CSV file</span></span>
<span id="cb282-4070"><a href="#cb282-4070" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_stream_all, </span></span>
<span id="cb282-4071"><a href="#cb282-4071" aria-hidden="true" tabindex="-1"></a><span class="in">          "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_all.csv", </span></span>
<span id="cb282-4072"><a href="#cb282-4072" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-4073"><a href="#cb282-4073" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4074"><a href="#cb282-4074" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-4075"><a href="#cb282-4075" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4076"><a href="#cb282-4076" aria-hidden="true" tabindex="-1"></a><span class="fu">## Preparing tagging data</span></span>
<span id="cb282-4077"><a href="#cb282-4077" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4078"><a href="#cb282-4078" aria-hidden="true" tabindex="-1"></a><span class="in">```{r processing tagging data}</span></span>
<span id="cb282-4079"><a href="#cb282-4079" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4080"><a href="#cb282-4080" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the tagging data</span></span>
<span id="cb282-4081"><a href="#cb282-4081" aria-hidden="true" tabindex="-1"></a><span class="in">tagging_data &lt;- read_excel("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/taggingData/taggingData.xlsx")</span></span>
<span id="cb282-4082"><a href="#cb282-4082" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4083"><a href="#cb282-4083" aria-hidden="true" tabindex="-1"></a><span class="in"># Select specific columns</span></span>
<span id="cb282-4084"><a href="#cb282-4084" aria-hidden="true" tabindex="-1"></a><span class="in">tagging_data &lt;- tagging_data %&gt;%</span></span>
<span id="cb282-4085"><a href="#cb282-4085" aria-hidden="true" tabindex="-1"></a><span class="in">  select(RIVER, DATE, SECTION, RADIOTAG, TEMPTAG, LENGTH, WEIGHT, GENETICSAM, SEX)</span></span>
<span id="cb282-4086"><a href="#cb282-4086" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4087"><a href="#cb282-4087" aria-hidden="true" tabindex="-1"></a><span class="in"># Rename columns</span></span>
<span id="cb282-4088"><a href="#cb282-4088" aria-hidden="true" tabindex="-1"></a><span class="in">tagging_data &lt;- tagging_data %&gt;%</span></span>
<span id="cb282-4089"><a href="#cb282-4089" aria-hidden="true" tabindex="-1"></a><span class="in">  rename(</span></span>
<span id="cb282-4090"><a href="#cb282-4090" aria-hidden="true" tabindex="-1"></a><span class="in">    river = RIVER,</span></span>
<span id="cb282-4091"><a href="#cb282-4091" aria-hidden="true" tabindex="-1"></a><span class="in">    date = DATE,</span></span>
<span id="cb282-4092"><a href="#cb282-4092" aria-hidden="true" tabindex="-1"></a><span class="in">    section = SECTION,</span></span>
<span id="cb282-4093"><a href="#cb282-4093" aria-hidden="true" tabindex="-1"></a><span class="in">    tagID = RADIOTAG,</span></span>
<span id="cb282-4094"><a href="#cb282-4094" aria-hidden="true" tabindex="-1"></a><span class="in">    tempID = TEMPTAG,</span></span>
<span id="cb282-4095"><a href="#cb282-4095" aria-hidden="true" tabindex="-1"></a><span class="in">    length = LENGTH,</span></span>
<span id="cb282-4096"><a href="#cb282-4096" aria-hidden="true" tabindex="-1"></a><span class="in">    weight = WEIGHT,</span></span>
<span id="cb282-4097"><a href="#cb282-4097" aria-hidden="true" tabindex="-1"></a><span class="in">    geneticSam = GENETICSAM,</span></span>
<span id="cb282-4098"><a href="#cb282-4098" aria-hidden="true" tabindex="-1"></a><span class="in">    sex = SEX</span></span>
<span id="cb282-4099"><a href="#cb282-4099" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-4100"><a href="#cb282-4100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4101"><a href="#cb282-4101" aria-hidden="true" tabindex="-1"></a><span class="in"># Fix column labels and remove first tag 44 since the fish died and was retagged before the study began</span></span>
<span id="cb282-4102"><a href="#cb282-4102" aria-hidden="true" tabindex="-1"></a><span class="in">tagging_data &lt;- tagging_data %&gt;%</span></span>
<span id="cb282-4103"><a href="#cb282-4103" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = str_trim(river),</span></span>
<span id="cb282-4104"><a href="#cb282-4104" aria-hidden="true" tabindex="-1"></a><span class="in">         date = str_trim(date),</span></span>
<span id="cb282-4105"><a href="#cb282-4105" aria-hidden="true" tabindex="-1"></a><span class="in">         section = str_trim(section),</span></span>
<span id="cb282-4106"><a href="#cb282-4106" aria-hidden="true" tabindex="-1"></a><span class="in">         tagID = str_trim(tagID),</span></span>
<span id="cb282-4107"><a href="#cb282-4107" aria-hidden="true" tabindex="-1"></a><span class="in">         tempID = str_trim(tempID),</span></span>
<span id="cb282-4108"><a href="#cb282-4108" aria-hidden="true" tabindex="-1"></a><span class="in">         length = str_trim(length),</span></span>
<span id="cb282-4109"><a href="#cb282-4109" aria-hidden="true" tabindex="-1"></a><span class="in">         weight = str_trim(weight),</span></span>
<span id="cb282-4110"><a href="#cb282-4110" aria-hidden="true" tabindex="-1"></a><span class="in">         geneticSam = str_trim(geneticSam),</span></span>
<span id="cb282-4111"><a href="#cb282-4111" aria-hidden="true" tabindex="-1"></a><span class="in">         sex = str_trim(sex)) %&gt;%</span></span>
<span id="cb282-4112"><a href="#cb282-4112" aria-hidden="true" tabindex="-1"></a><span class="in">  filter(!(tagID == "44" &amp; date == as.POSIXct("2024-06-04", format="%Y-%m-%d")))</span></span>
<span id="cb282-4113"><a href="#cb282-4113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4114"><a href="#cb282-4114" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new tagging data csv</span></span>
<span id="cb282-4115"><a href="#cb282-4115" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(tagging_data, </span></span>
<span id="cb282-4116"><a href="#cb282-4116" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/tagging_data.csv", </span></span>
<span id="cb282-4117"><a href="#cb282-4117" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-4118"><a href="#cb282-4118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4119"><a href="#cb282-4119" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-4120"><a href="#cb282-4120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4121"><a href="#cb282-4121" aria-hidden="true" tabindex="-1"></a><span class="fu">## Combine tagging data with fish/stream/flow/receiver data</span></span>
<span id="cb282-4122"><a href="#cb282-4122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4123"><a href="#cb282-4123" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine tagging data with fish/stream/flow/receiver data}</span></span>
<span id="cb282-4124"><a href="#cb282-4124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4125"><a href="#cb282-4125" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the data</span></span>
<span id="cb282-4126"><a href="#cb282-4126" aria-hidden="true" tabindex="-1"></a><span class="in">tagging_data = read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/tagging_data.csv")</span></span>
<span id="cb282-4127"><a href="#cb282-4127" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_all = read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_all.csv")</span></span>
<span id="cb282-4128"><a href="#cb282-4128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4129"><a href="#cb282-4129" aria-hidden="true" tabindex="-1"></a><span class="in"># Create a mapping of radio tag ID to temp tag ID from tagging data</span></span>
<span id="cb282-4130"><a href="#cb282-4130" aria-hidden="true" tabindex="-1"></a><span class="in">radio_temp_mapping &lt;- tagging_data %&gt;%</span></span>
<span id="cb282-4131"><a href="#cb282-4131" aria-hidden="true" tabindex="-1"></a><span class="in">  select(tagID, tempID) %&gt;%</span></span>
<span id="cb282-4132"><a href="#cb282-4132" aria-hidden="true" tabindex="-1"></a><span class="in">  distinct()  # Ensures unique pairings</span></span>
<span id="cb282-4133"><a href="#cb282-4133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4134"><a href="#cb282-4134" aria-hidden="true" tabindex="-1"></a><span class="in"># Merge this mapping into fish/stream/flow/receiver data</span></span>
<span id="cb282-4135"><a href="#cb282-4135" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_all &lt;- fish_flow_receiver_stream_all %&gt;%</span></span>
<span id="cb282-4136"><a href="#cb282-4136" aria-hidden="true" tabindex="-1"></a><span class="in">  left_join(radio_temp_mapping, by = "tagID")</span></span>
<span id="cb282-4137"><a href="#cb282-4137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4138"><a href="#cb282-4138" aria-hidden="true" tabindex="-1"></a><span class="in"># Create a new column 'date' with just the date part of 'dateTime'</span></span>
<span id="cb282-4139"><a href="#cb282-4139" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_all &lt;- fish_flow_receiver_stream_all %&gt;%</span></span>
<span id="cb282-4140"><a href="#cb282-4140" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(date = as.Date(trackedTime_EST))</span></span>
<span id="cb282-4141"><a href="#cb282-4141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4142"><a href="#cb282-4142" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert the date column into a matching format as the other dataset</span></span>
<span id="cb282-4143"><a href="#cb282-4143" aria-hidden="true" tabindex="-1"></a><span class="in">tagging_data &lt;- tagging_data %&gt;%</span></span>
<span id="cb282-4144"><a href="#cb282-4144" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(date = as.Date(date))</span></span>
<span id="cb282-4145"><a href="#cb282-4145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4146"><a href="#cb282-4146" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets by binding rows horizontally</span></span>
<span id="cb282-4147"><a href="#cb282-4147" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_tagging_all &lt;- bind_rows(fish_flow_receiver_stream_all, tagging_data)</span></span>
<span id="cb282-4148"><a href="#cb282-4148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4149"><a href="#cb282-4149" aria-hidden="true" tabindex="-1"></a><span class="in"># Now the combined dataframe should have all tempTagIDs added where appropriate</span></span>
<span id="cb282-4150"><a href="#cb282-4150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4151"><a href="#cb282-4151" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new tagging data csv</span></span>
<span id="cb282-4152"><a href="#cb282-4152" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_flow_receiver_stream_tagging_all, </span></span>
<span id="cb282-4153"><a href="#cb282-4153" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_tagging_all.csv", </span></span>
<span id="cb282-4154"><a href="#cb282-4154" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-4155"><a href="#cb282-4155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4156"><a href="#cb282-4156" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-4157"><a href="#cb282-4157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4158"><a href="#cb282-4158" aria-hidden="true" tabindex="-1"></a><span class="fu">## Preparing collection data</span></span>
<span id="cb282-4159"><a href="#cb282-4159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4160"><a href="#cb282-4160" aria-hidden="true" tabindex="-1"></a><span class="in">```{r processing collection data}</span></span>
<span id="cb282-4161"><a href="#cb282-4161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4162"><a href="#cb282-4162" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the collection data</span></span>
<span id="cb282-4163"><a href="#cb282-4163" aria-hidden="true" tabindex="-1"></a><span class="in">collection_data &lt;- read_excel("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/taggingData/collectionData.xlsx", </span></span>
<span id="cb282-4164"><a href="#cb282-4164" aria-hidden="true" tabindex="-1"></a><span class="in">                              range = cell_rows(1:34))</span></span>
<span id="cb282-4165"><a href="#cb282-4165" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4166"><a href="#cb282-4166" aria-hidden="true" tabindex="-1"></a><span class="in"># Select specific columns</span></span>
<span id="cb282-4167"><a href="#cb282-4167" aria-hidden="true" tabindex="-1"></a><span class="in">collection_data &lt;- collection_data %&gt;%</span></span>
<span id="cb282-4168"><a href="#cb282-4168" aria-hidden="true" tabindex="-1"></a><span class="in">  select(RIVER, recoveryDate, RADIOTAG, TEMPTAG, LENGTH, WEIGHT, BLOOD, TYPE, COMMENTS)</span></span>
<span id="cb282-4169"><a href="#cb282-4169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4170"><a href="#cb282-4170" aria-hidden="true" tabindex="-1"></a><span class="in"># Rename columns</span></span>
<span id="cb282-4171"><a href="#cb282-4171" aria-hidden="true" tabindex="-1"></a><span class="in">collection_data &lt;- collection_data %&gt;%</span></span>
<span id="cb282-4172"><a href="#cb282-4172" aria-hidden="true" tabindex="-1"></a><span class="in">  rename(</span></span>
<span id="cb282-4173"><a href="#cb282-4173" aria-hidden="true" tabindex="-1"></a><span class="in">    river = RIVER,</span></span>
<span id="cb282-4174"><a href="#cb282-4174" aria-hidden="true" tabindex="-1"></a><span class="in">    date = recoveryDate,</span></span>
<span id="cb282-4175"><a href="#cb282-4175" aria-hidden="true" tabindex="-1"></a><span class="in">    tagID = RADIOTAG,</span></span>
<span id="cb282-4176"><a href="#cb282-4176" aria-hidden="true" tabindex="-1"></a><span class="in">    tempID = TEMPTAG,</span></span>
<span id="cb282-4177"><a href="#cb282-4177" aria-hidden="true" tabindex="-1"></a><span class="in">    length = LENGTH,</span></span>
<span id="cb282-4178"><a href="#cb282-4178" aria-hidden="true" tabindex="-1"></a><span class="in">    weight = WEIGHT,</span></span>
<span id="cb282-4179"><a href="#cb282-4179" aria-hidden="true" tabindex="-1"></a><span class="in">    blood = BLOOD,</span></span>
<span id="cb282-4180"><a href="#cb282-4180" aria-hidden="true" tabindex="-1"></a><span class="in">    type = TYPE,</span></span>
<span id="cb282-4181"><a href="#cb282-4181" aria-hidden="true" tabindex="-1"></a><span class="in">    collectionNotes = COMMENTS</span></span>
<span id="cb282-4182"><a href="#cb282-4182" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb282-4183"><a href="#cb282-4183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4184"><a href="#cb282-4184" aria-hidden="true" tabindex="-1"></a><span class="in"># Fix column labels</span></span>
<span id="cb282-4185"><a href="#cb282-4185" aria-hidden="true" tabindex="-1"></a><span class="in">collection_data &lt;- collection_data %&gt;%</span></span>
<span id="cb282-4186"><a href="#cb282-4186" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(river = str_trim(river),</span></span>
<span id="cb282-4187"><a href="#cb282-4187" aria-hidden="true" tabindex="-1"></a><span class="in">         date = str_trim(date),</span></span>
<span id="cb282-4188"><a href="#cb282-4188" aria-hidden="true" tabindex="-1"></a><span class="in">         tagID = str_trim(tagID),</span></span>
<span id="cb282-4189"><a href="#cb282-4189" aria-hidden="true" tabindex="-1"></a><span class="in">         tempID = str_trim(tempID),</span></span>
<span id="cb282-4190"><a href="#cb282-4190" aria-hidden="true" tabindex="-1"></a><span class="in">         length = str_trim(length),</span></span>
<span id="cb282-4191"><a href="#cb282-4191" aria-hidden="true" tabindex="-1"></a><span class="in">         weight = str_trim(weight),</span></span>
<span id="cb282-4192"><a href="#cb282-4192" aria-hidden="true" tabindex="-1"></a><span class="in">         blood = str_trim(blood),</span></span>
<span id="cb282-4193"><a href="#cb282-4193" aria-hidden="true" tabindex="-1"></a><span class="in">         type = str_trim(type),</span></span>
<span id="cb282-4194"><a href="#cb282-4194" aria-hidden="true" tabindex="-1"></a><span class="in">         collectionNotes = str_trim(collectionNotes))</span></span>
<span id="cb282-4195"><a href="#cb282-4195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4196"><a href="#cb282-4196" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new tagging data csv</span></span>
<span id="cb282-4197"><a href="#cb282-4197" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(collection_data, </span></span>
<span id="cb282-4198"><a href="#cb282-4198" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/collection_data.csv", </span></span>
<span id="cb282-4199"><a href="#cb282-4199" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-4200"><a href="#cb282-4200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4201"><a href="#cb282-4201" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb282-4202"><a href="#cb282-4202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4203"><a href="#cb282-4203" aria-hidden="true" tabindex="-1"></a><span class="fu">## Combine collection data with fish/stream/flow/receiver/tagging data</span></span>
<span id="cb282-4204"><a href="#cb282-4204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4205"><a href="#cb282-4205" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine collection data with fish/stream/flow/receiver/tagging data}</span></span>
<span id="cb282-4206"><a href="#cb282-4206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4207"><a href="#cb282-4207" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the data</span></span>
<span id="cb282-4208"><a href="#cb282-4208" aria-hidden="true" tabindex="-1"></a><span class="in">collection_data = read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/collection_data.csv")</span></span>
<span id="cb282-4209"><a href="#cb282-4209" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_tagging_all = read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fish_flow_receiver_stream_tagging_all.csv")</span></span>
<span id="cb282-4210"><a href="#cb282-4210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4211"><a href="#cb282-4211" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert the date column into a matching format as the other dataset</span></span>
<span id="cb282-4212"><a href="#cb282-4212" aria-hidden="true" tabindex="-1"></a><span class="in">collection_data &lt;- collection_data %&gt;%</span></span>
<span id="cb282-4213"><a href="#cb282-4213" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(date = as.Date(date))</span></span>
<span id="cb282-4214"><a href="#cb282-4214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4215"><a href="#cb282-4215" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert the date column into a matching format as the other dataset</span></span>
<span id="cb282-4216"><a href="#cb282-4216" aria-hidden="true" tabindex="-1"></a><span class="in">fish_flow_receiver_stream_tagging_all &lt;- fish_flow_receiver_stream_tagging_all %&gt;%</span></span>
<span id="cb282-4217"><a href="#cb282-4217" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(date = as.Date(date))</span></span>
<span id="cb282-4218"><a href="#cb282-4218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4219"><a href="#cb282-4219" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the datasets by binding rows horizontally</span></span>
<span id="cb282-4220"><a href="#cb282-4220" aria-hidden="true" tabindex="-1"></a><span class="in">tracking_data_all &lt;- bind_rows(fish_flow_receiver_stream_tagging_all, collection_data)</span></span>
<span id="cb282-4221"><a href="#cb282-4221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4222"><a href="#cb282-4222" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new tagging data csv</span></span>
<span id="cb282-4223"><a href="#cb282-4223" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(tracking_data_all, </span></span>
<span id="cb282-4224"><a href="#cb282-4224" aria-hidden="true" tabindex="-1"></a><span class="in">          file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/tracking_data_all.csv", </span></span>
<span id="cb282-4225"><a href="#cb282-4225" aria-hidden="true" tabindex="-1"></a><span class="in">          row.names = FALSE)</span></span>
<span id="cb282-4226"><a href="#cb282-4226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb282-4227"><a href="#cb282-4227" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>