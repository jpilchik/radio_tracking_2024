<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Radio Tracking 2024 - 2&nbsp; Creating my datasheet</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="application/json" class="js-hypothesis-config">
{
  "theme": "clean"
}
</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./creatingMyDatasheet.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Creating my datasheet</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Radio Tracking 2024</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./creatingMyDatasheet.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Creating my datasheet</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#prep" id="toc-prep" class="nav-link active" data-scroll-target="#prep"><span class="header-section-number">3</span> Prep</a></li>
  <li><a href="#preparing-stream-surveys" id="toc-preparing-stream-surveys" class="nav-link" data-scroll-target="#preparing-stream-surveys"><span class="header-section-number">4</span> Preparing Stream Surveys</a></li>
  <li><a href="#preparing-fish-surveys" id="toc-preparing-fish-surveys" class="nav-link" data-scroll-target="#preparing-fish-surveys"><span class="header-section-number">5</span> Preparing Fish Surveys</a></li>
  <li><a href="#combine-tracking-and-stream-data" id="toc-combine-tracking-and-stream-data" class="nav-link" data-scroll-target="#combine-tracking-and-stream-data"><span class="header-section-number">6</span> Combine tracking and stream data</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Creating my datasheet</span></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="prep" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Prep</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load required libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="preparing-stream-surveys" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Preparing Stream Surveys</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the stream survey data</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>stream_survey_week1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 1.csv"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>stream_survey_week1<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(stream_survey_week1<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and start time into a DateTime column</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>stream_survey_week1<span class="sc">$</span>dateTime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(stream_survey_week1<span class="sc">$</span>date, </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>                                                 stream_survey_week1<span class="sc">$</span>startTime), </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 5:00 EST to 11:00 EST</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>stream_survey_week1 <span class="ot">&lt;-</span> stream_survey_week1 <span class="sc">%&gt;%</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime) <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime) <span class="sc">&lt;</span> <span class="dv">12</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stream_survey_week1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1       10 194410b8-fad1-4f4a-b9ae-db931320a22a 6/11/2024 9:02:30 PM
2       11 996e0001-368b-469e-be69-b35706f03225 6/12/2024 5:34:05 AM
3       12 d39f1e05-fdb2-4ec7-a8d7-cdc09af42fa1 6/12/2024 8:53:37 PM
4       13 bba7b0ae-0b1a-4d98-a9d9-3e1879fbd191 6/13/2024 4:58:33 AM
5       14 14ae17cc-97c4-46f0-a402-fe006e67630d 6/13/2024 8:52:46 PM
6       15 dbbc0edb-a111-4ad3-80ad-4ba1cedeefdd 6/14/2024 5:06:20 AM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 6/18/2024 7:49:31 PM
2 jpilchik@contractor.usgs.gov_USGS 7/15/2024 1:21:10 PM
3 jpilchik@contractor.usgs.gov_USGS 7/15/2024 1:57:10 PM
4 jpilchik@contractor.usgs.gov_USGS 7/15/2024 1:36:13 PM
5 jpilchik@contractor.usgs.gov_USGS 7/15/2024 1:14:33 PM
6 jpilchik@contractor.usgs.gov_USGS 7/15/2024 6:01:58 PM
                             Editor           stream       date  time airTemp
1 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-06-11 16:01      71
2 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-06-11 17:13      68
3 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-06-12 05:25      71
4 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-06-12 18:55      68
5 jpilchik@contractor.usgs.gov_USGS    Dickey (DCKY) 2024-06-13 04:17      80
6 jpilchik@contractor.usgs.gov_USGS    Dickey (DCKY) 2024-06-13 17:47      78
                       cloud  precip startTime endTime                 iso
1 Partly cloudy/partly sunny No rain     06:30   12:00 AMTH202406111000EST
2                     Cloudy No rain     17:14   23:20 AMTH202406111723EST
3                      Clear No rain     05:26   10:58 UNDH202406120734EST
4  Mostly sunny/mostly clear No rain     18:55   22:52 UNDH202406121908EST
5                      Clear No rain     05:35   10:17 DCKY202406130851EST
6  Mostly sunny/mostly clear No rain     17:48   22:44 DCKY202406131748EST
  Notes isoTime downstreamGPS downstreamGain upstreamGPS upstreamGain         x
1    NA   10:00            NA             NA          NA           NA   0.00000
2    NA   17:23            NA             NA          NA           NA -72.46031
3    NA   07:34            NA             NA          NA           NA -72.32535
4    NA   19:08            NA             NA          NA           NA   0.00000
5    NA   08:51            NA             NA          NA           NA   0.00000
6    NA   17:48            NA             NA          NA           NA   0.00000
         y            dateTime shift
1  0.00000 2024-06-11 06:30:00   day
2 42.38131 2024-06-11 17:14:00 night
3 42.44498 2024-06-12 05:26:00   day
4  0.00000 2024-06-12 18:55:00 night
5  0.00000 2024-06-13 05:35:00   day
6  0.00000 2024-06-13 17:48:00 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(stream_survey_week1, <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/streamSurvey1.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the stream survey data</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>stream_survey_week2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 2.csv"</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>stream_survey_week2<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(stream_survey_week2<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and start time into a DateTime column</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>stream_survey_week2<span class="sc">$</span>dateTime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(stream_survey_week2<span class="sc">$</span>date, </span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>                                                 stream_survey_week2<span class="sc">$</span>startTime), </span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>)</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 11:00 EST to 17:00 EST</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>stream_survey_week2 <span class="ot">&lt;-</span> stream_survey_week2 <span class="sc">%&gt;%</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime) <span class="sc">&gt;=</span> <span class="dv">10</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime) <span class="sc">&lt;</span> <span class="dv">18</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stream_survey_week2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID          CreationDate
1       18 abf3a63a-078e-4b3e-a676-d1f9b5a9cbc6  6/18/2024 2:57:48 AM
2       19 ce55f5cf-afe7-45e1-826f-56eb864ff94f 6/18/2024 11:22:40 AM
3       20 15d07f1a-9b82-46f3-a0f6-2c3a908d733d  6/19/2024 3:01:27 AM
4       21 658180f3-dbd8-436f-af75-81a163a59887 6/19/2024 10:24:55 AM
5       22 bf046215-97fe-4a1a-9a60-98b4c5f4849d  6/20/2024 3:32:05 AM
6       23 6e9a6bd8-6d27-401d-8b8c-eacb583d9af6 6/20/2024 10:39:52 AM
                            Creator              EditDate
1 jpilchik@contractor.usgs.gov_USGS  7/15/2024 1:39:28 PM
2 jpilchik@contractor.usgs.gov_USGS 6/18/2024 11:22:40 AM
3 jpilchik@contractor.usgs.gov_USGS  6/19/2024 3:01:27 AM
4 jpilchik@contractor.usgs.gov_USGS 6/19/2024 10:24:55 AM
5 jpilchik@contractor.usgs.gov_USGS  6/20/2024 3:32:05 AM
6 jpilchik@contractor.usgs.gov_USGS 6/20/2024 10:39:52 AM
                             Editor          stream       date  time airTemp
1 jpilchik@contractor.usgs.gov_USGS   Dickey (DCKY) 2024-06-17 11:25      79
2 jpilchik@contractor.usgs.gov_USGS   Dickey (DCKY) 2024-06-17 23:46      65
3 jpilchik@contractor.usgs.gov_USGS Amethyst (AMTH) 2024-06-18 11:09      87
4 jpilchik@contractor.usgs.gov_USGS Amethyst (AMTH) 2024-06-18 23:38      70
5 jpilchik@contractor.usgs.gov_USGS      Dry (DRYU) 2024-06-19 11:05      90
6 jpilchik@contractor.usgs.gov_USGS      Dry (DRYU) 2024-06-19 23:42      78
                       cloud  precip startTime endTime                 iso
1 Partly cloudy/partly sunny No rain     11:26   17:00 DCKY202406171330EST
2                      Clear No rain     23:45   04:55 DCKY202406180137EST
3                      Clear No rain     11:18   17:00 AMTH202406181622EST
4                      Clear No rain     23:40   04:33 AMTH202406182348EST
5                      Clear No rain     11:06   16:00 DRYU202406191125EST
6                      Clear No rain     23:42   05:07 DRYU202406192346EST
  Notes isoTime downstreamGPS downstreamGain upstreamGPS upstreamGain         x
1    NA   13:30            NA             NA          NA           NA -72.37172
2    NA   01:37            NA             NA          NA           NA -72.37179
3    NA   16:22            NA             NA          NA           NA -72.46521
4    NA   23:48            NA             NA          NA           NA -72.46050
5    NA   11:25            NA             NA          NA           NA -72.50835
6    NA   23:46            NA             NA          NA           NA -72.50595
         y            dateTime shift
1 42.44369 2024-06-17 11:26:00   day
2 42.44426 2024-06-17 23:45:00 night
3 42.38022 2024-06-18 11:18:00   day
4 42.38134 2024-06-18 23:40:00 night
5 42.66846 2024-06-19 11:06:00   day
6 42.66847 2024-06-19 23:42:00 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(stream_survey_week2, <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/streamSurvey2.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the stream survey data</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>stream_survey_week3 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 3.csv"</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>stream_survey_week3<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(stream_survey_week3<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and start time into a DateTime column</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>stream_survey_week3<span class="sc">$</span>dateTime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(stream_survey_week3<span class="sc">$</span>date, </span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>                                                 stream_survey_week3<span class="sc">$</span>startTime), </span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>)</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 5:00 EST to 11:00 EST</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>stream_survey_week3 <span class="ot">&lt;-</span> stream_survey_week3 <span class="sc">%&gt;%</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime) <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime) <span class="sc">&lt;</span> <span class="dv">12</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stream_survey_week3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1       26 e9430b87-ef0c-4960-8ad1-a995995af43c 6/25/2024 9:26:49 PM
2       27 cd25042b-a084-45e8-aa62-cd2a7c6fd8d5 6/26/2024 4:39:50 AM
3       28 3661f0c9-d52f-4c69-ba15-13f5fc71e195 6/26/2024 9:01:04 PM
4       29 372ecdb0-8c48-4efa-81fc-e750f08d230b 6/27/2024 3:54:12 AM
5       30 6f74a604-be50-4425-b683-084c84de2d1f 6/27/2024 9:01:19 PM
6       31 eaa32524-f44b-489d-9825-d642aa04e554 6/28/2024 4:54:10 AM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 6/25/2024 9:26:49 PM
2 jpilchik@contractor.usgs.gov_USGS 6/26/2024 4:39:50 AM
3 jpilchik@contractor.usgs.gov_USGS 6/26/2024 9:01:04 PM
4 jpilchik@contractor.usgs.gov_USGS 6/27/2024 3:54:12 AM
5 jpilchik@contractor.usgs.gov_USGS 6/27/2024 9:01:19 PM
6 jpilchik@contractor.usgs.gov_USGS 6/28/2024 4:54:10 AM
                             Editor           stream       date  time airTemp
1 jpilchik@contractor.usgs.gov_USGS       Dry (DRYU) 2024-06-25 05:43      57
2 jpilchik@contractor.usgs.gov_USGS       Dry (DRYU) 2024-06-25 17:21      82
3 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-06-26 05:25      70
4 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-06-26 17:18      82
5 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-06-27 05:17      66
6 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-06-27 17:27      87
                      cloud  precip startTime endTime                  iso
1                     Clear No rain     05:44   10:44  DRYU202406250610EST
2                    Cloudy No rain     17:21   23:05  DRYU202406251745EST
3 Mostly sunny/mostly clear No rain     05:25   11:06  AMTH202406261101EST
4                    Cloudy No rain     17:14   21:57  AMTH202406261915EST
5                    Cloudy No rain     05:18   10:30 UNDH20240627 0807EST
6                    Cloudy No rain     17:27   22:50  UNDH202406271916EST
                                                                                                                                    Notes
1 Did not get to the stream on time because the batteries were corroded in the receiver so had to go back to lab and get other receiver. 
2                                                                                                                                        
3                                                                                                                                        
4                                                                                                                                        
5                                                                                                                                        
6                                                                                                                                        
  isoTime                       downstreamGPS downstreamGain
1   06:10             42.6353974. -72.4967190             65
2   17:45   Lat: 42.665107 long: 72.5031943 W             75
3   11:01      42 degrees 23N, 72 degrees 28W             74
4   19:15  Lat-42.3792386’N Long-72.4633786’W             90
5   08:07                                                 NA
6   19:16 Lat: 42.27’N Long: 72.19’W +/-4.8 m             55
                                                                  upstreamGPS
1                                                      42.6694251 -72.5074050
2                        Lat: 42.6683114 degrees N Long: 72.5066514 degrees W
3                                              42 degrees 23N, 72 degrees 27W
4 Buffim: lat-42.23’N long-72.28’W Harris: lat-42.3807166’N long-72.4581883’W
5                                                                            
6                                        Lat: 42.27’N Long: 72.20’W +/- 4.6 m
  upstreamGain         x        y            dateTime shift
1           55   0.00000  0.00000 2024-06-25 05:44:00   day
2           85   0.00000  0.00000 2024-06-25 17:21:00 night
3           75   0.00000  0.00000 2024-06-26 05:25:00   day
4           85 -72.45935 42.38128 2024-06-26 17:14:00 night
5           NA -72.32505 42.44505 2024-06-27 05:18:00   day
6           60   0.00000  0.00000 2024-06-27 17:27:00 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(stream_survey_week3, <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/streamSurvey3.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the stream survey data</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>stream_survey_week4 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 4.csv"</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>stream_survey_week4<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(stream_survey_week4<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and start time into a DateTime column</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>stream_survey_week4<span class="sc">$</span>dateTime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(stream_survey_week4<span class="sc">$</span>date, </span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>                                                 stream_survey_week4<span class="sc">$</span>startTime), </span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>)</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 3:00 EST to 9:00 EST</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>stream_survey_week4 <span class="ot">&lt;-</span> stream_survey_week4 <span class="sc">%&gt;%</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime) <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime) <span class="sc">&lt;</span> <span class="dv">10</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stream_survey_week4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1       34 cee16e3a-308a-4584-a9c4-0fb03105afd7 6/30/2024 2:29:49 PM
2       35 3bf39ed4-ecb0-4394-8343-8dd7213871e1  7/1/2024 7:03:31 AM
3       36 b363696b-4c8e-4455-85d4-c7ba7a39db51  7/1/2024 2:28:43 PM
4       37 c894eaea-07c6-4870-b479-9d90ad9b6899  7/2/2024 6:58:57 AM
5       38 56e53988-6efe-4ba1-8fe3-52f2556011ca  7/2/2024 3:05:35 PM
6       39 5608a117-4ffe-4b49-a740-7fdb0912ec52  7/3/2024 7:14:44 AM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 6/30/2024 2:29:49 PM
2 jpilchik@contractor.usgs.gov_USGS  7/1/2024 7:03:31 AM
3 jpilchik@contractor.usgs.gov_USGS  7/1/2024 2:28:43 PM
4 jpilchik@contractor.usgs.gov_USGS  7/2/2024 6:58:57 AM
5 jpilchik@contractor.usgs.gov_USGS  7/2/2024 3:05:35 PM
6 jpilchik@contractor.usgs.gov_USGS  7/8/2024 1:18:23 PM
                             Editor          stream       date  time airTemp
1 jpilchik@contractor.usgs.gov_USGS      Dry (DRYU) 2024-06-30 03:56      71
2 jpilchik@contractor.usgs.gov_USGS      Dry (DRYU) 2024-06-30 13:33      75
3 jpilchik@contractor.usgs.gov_USGS   Dickey (DCKY) 2024-07-01 03:32      59
4 jpilchik@contractor.usgs.gov_USGS   Dickey (DCKY) 2024-07-01 13:25      80
5 jpilchik@contractor.usgs.gov_USGS Amethyst (AMTH) 2024-07-02 03:22      64
6 jpilchik@contractor.usgs.gov_USGS Amethyst (AMTH) 2024-07-02 13:00      82
                       cloud  precip startTime endTime                 iso
1                     Cloudy No rain     03:57   08:55 DRYU202406300528EST
2                     Cloudy No rain     13:34          DRYU20240631428EST
3                      Clear No rain     03:28   08:37  DCKY20240701445EST
4 Partly cloudy/partly sunny No rain     13:19   18:47 DCKY202407011412EST
5                      Clear No rain     03:23         AMTH202407020529EST
6                      Clear No rain     13:00   18:18  Amth20240701333EST
                                                      Notes isoTime
1                                                             05:28
2                                                             14:28
3                                                             04:45
4 38 is way up by hunt road, 29s thermal tag was recovered    14:12
5                                                             05:29
6                                                    \n\n\n   13:33
                         downstreamGPS downstreamGain
1 Lat: 42.6626558 N Long: 72.5044938 W             85
2            42.6683792 N 72.5062250 W             74
3 Lat: 42.4443189 N Long: 72.3720856 W             80
4              42.4442662   72.3717833             65
5            42.3792378 N 72.4631544 W             75
6   Lat:42.3806414 N Long:72.4654265 W             75
                                                                             upstreamGPS
1                                                   Lat: 42.6688089 N Long: 72.5073252 W
2                                                              42.6683792 N 72.5062250 W
3                                                   Lat: 42.4416066 N Long: 72.3683132 W
4                                                                42.4408761   72.3676351
5                                                             42.3807546 N. 72.4584560 W
6 Harris: Lat- 42.3806381N Long- 72.4586440 W Buffim: Lat-42.3820960 N Long-72.4583184 W
  upstreamGain         x        y            dateTime shift
1           90 -72.50618 42.66849 2024-06-30 03:57:00   day
2           74 -72.50456 42.66771 2024-06-30 13:34:00 night
3           80 -72.37191 42.44431 2024-07-01 03:28:00   day
4           70 -72.37122 42.44379 2024-07-01 13:19:00 night
5           75   0.00000  0.00000 2024-07-02 03:23:00   day
6           65 -72.45964 42.38119 2024-07-02 13:00:00 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(stream_survey_week4, <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/streamSurvey4.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the stream survey data</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>stream_survey_week5 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 5.csv"</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>stream_survey_week5<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(stream_survey_week5<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and start time into a DateTime column</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>stream_survey_week5<span class="sc">$</span>dateTime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(stream_survey_week5<span class="sc">$</span>date, </span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>                                                 stream_survey_week5<span class="sc">$</span>startTime), </span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>)</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>stream_survey_week5 <span class="ot">&lt;-</span> stream_survey_week5 <span class="sc">%&gt;%</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime) <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime) <span class="sc">&lt;</span> <span class="dv">14</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stream_survey_week5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1       42 6869fc9a-9842-4aa9-83a8-76a3f3a57dba  7/9/2024 9:01:43 PM
2       43 d85f66d1-d689-4bc4-a718-a9c99af79321 7/10/2024 1:51:21 AM
3       44 1a44dffa-9703-4dbd-b750-6c73f7244214 7/10/2024 9:00:51 PM
4       45 98aa054b-02e0-4c15-8917-4210691f10b6 7/11/2024 4:42:52 AM
5       46 af3a3fdc-6eba-46fe-8048-f8b5c3870a30 7/11/2024 8:57:14 PM
6       47 e70b72b5-7372-437c-9131-171b7d4cf1ae 7/12/2024 4:30:10 AM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS  7/9/2024 9:01:43 PM
2 jpilchik@contractor.usgs.gov_USGS 7/10/2024 1:51:21 AM
3 jpilchik@contractor.usgs.gov_USGS 7/10/2024 9:00:51 PM
4 jpilchik@contractor.usgs.gov_USGS 7/11/2024 4:42:52 AM
5 jpilchik@contractor.usgs.gov_USGS 7/11/2024 8:57:14 PM
6 jpilchik@contractor.usgs.gov_USGS 7/12/2024 4:30:10 AM
                             Editor           stream       date  time airTemp
1 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-07-09 07:27      71
2 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-07-09 18:46      75
3 jpilchik@contractor.usgs.gov_USGS    Dickey (DCKY) 2024-07-10 07:13      83
4 jpilchik@contractor.usgs.gov_USGS    Dickey (DCKY) 2024-07-10 17:16      81
5 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-07-11 12:38      81
6 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-07-11 17:25      83
                       cloud        precip startTime endTime
1                     Cloudy Moderate rain     07:28   12:39
2              Mostly cloudy Moderate rain     17:30   19:49
3                     Cloudy       No rain     07:13   12:43
4 Partly cloudy/partly sunny       No rain     17:16   22:47
5                     Cloudy     Weak rain     07:43   12:25
6 Partly cloudy/partly sunny       No rain     17:22   22:37
                                                            iso
1                                           UNDH202407090734EST
2                                           UNDH202407091730EST
3                                            DCKY20240710749EST
4                                                              
5                                            AMTH20240711946EST
6 BUFF202407112026EST, HARR202407112031EST, AMTH202407112036EST
                      Notes isoTime                       downstreamGPS
1                             07:27           42.4445523 N 72.3210041 W
2 Thunder most of the night   17:30                                    
3                             07:49           42.4419963.   -72.3735598
4                             17:16 Lat:42.4439807 N Long: 72.3735109 W
5                             09:46           42.3791708 N 72.4632400 W
6                             20:26  Lat: 42.3802241 N Long: 72.4623015
  downstreamGain                                               upstreamGPS
1             75                                 42.4436600 W 72.3295537 N
2             NA                                                          
3             74                                 42.4373994 N 72.3647180 W
4             50                       Lat: 42.4422845 N Long:72.3691477 W
5             75                                 42.3807002 N 72.4582711 W
6             85 Buffim- Lat: 42.3821137 N Long: 72.4566635 W Harris- Lat:
  upstreamGain         x        y            dateTime shift
1           75 -72.32492 42.44495 2024-07-09 07:28:00   day
2           NA -72.32516 42.44489 2024-07-09 17:30:00 night
3           74   0.00000  0.00000 2024-07-10 07:13:00   day
4           80   0.00000  0.00000 2024-07-10 17:16:00 night
5           75   0.00000  0.00000 2024-07-11 07:43:00   day
6           85 -72.45936 42.38138 2024-07-11 17:22:00 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(stream_survey_week5, <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/streamSurvey5.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the stream survey data</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>stream_survey_week6 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 6.csv"</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>stream_survey_week6<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(stream_survey_week6<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and start time into a DateTime column</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>stream_survey_week6<span class="sc">$</span>dateTime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(stream_survey_week6<span class="sc">$</span>date, </span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>                                                 stream_survey_week6<span class="sc">$</span>startTime), </span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>)</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 3:00 EST to 9:00 EST</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>stream_survey_week6 <span class="ot">&lt;-</span> stream_survey_week6 <span class="sc">%&gt;%</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime) <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime) <span class="sc">&lt;</span> <span class="dv">10</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stream_survey_week6)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1       50 92649e1a-735a-40a0-b5b0-669692c32274 7/16/2024 2:45:20 PM
2       51 5ad895f1-b196-4dfd-9e9e-94d03bb7d746 7/17/2024 7:02:22 AM
3       52 a940133f-af11-4ff8-bc3e-bf1ff15c764b 7/17/2024 3:14:01 PM
4       53 7159dfaf-5da1-4c60-a16b-74a5a92e08e3 7/18/2024 7:40:51 AM
5       54 51389fe5-0685-4886-a482-304570f5f6d2 7/18/2024 3:04:41 PM
6       55 7a8e5449-b58c-41a1-963f-2c9928220baf 7/19/2024 7:01:36 AM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 7/16/2024 2:45:20 PM
2 jpilchik@contractor.usgs.gov_USGS 7/17/2024 7:02:22 AM
3 jpilchik@contractor.usgs.gov_USGS 7/17/2024 3:14:01 PM
4 jpilchik@contractor.usgs.gov_USGS 7/22/2024 1:54:20 PM
5 jpilchik@contractor.usgs.gov_USGS 7/22/2024 1:52:02 PM
6 jpilchik@contractor.usgs.gov_USGS 7/19/2024 7:01:36 AM
                             Editor          stream       date  time airTemp
1 jpilchik@contractor.usgs.gov_USGS   Dickey (DCKY) 2024-07-16 03:35      70
2 jpilchik@contractor.usgs.gov_USGS   Dickey (DCKY) 2024-07-16 13:12      85
3 jpilchik@contractor.usgs.gov_USGS Amethyst (AMTH) 2024-07-17 03:40      74
4 jpilchik@contractor.usgs.gov_USGS Amethyst (AMTH) 2024-07-17 13:21      88
5 jpilchik@contractor.usgs.gov_USGS      Dry (DRYU) 2024-07-18 03:44      68
6 jpilchik@contractor.usgs.gov_USGS      Dry (DRYU) 2024-07-18 12:55      83
                      cloud  precip startTime endTime
1                    Cloudy No rain     03:35   08:55
2 Mostly sunny/mostly clear No rain     13:13   18:08
3                     Clear No rain     03:44   09:00
4                     Clear No rain     13:25   16:45
5             Mostly cloudy No rain     03:45   09:12
6                     Clear No rain     12:55   18:27
                                                              iso
1                                             DCKY202407160347EST
2                                             DCKY202407161444EST
3   BUFF202407170440EST, HARR202407170601EST, AMTH202407170611EST
4 AMTH202407171527EST ,  BUFF02407171527EST , HARR202407171530EST
5                                             DRYU202407180447EST
6                                             DRYU202407181425EST
                                                     Notes isoTime
1                                                            03:47
2                                                            14:44
3                                                            04:40
4          Had to leave early because of bad thunderstorms   15:27
5 Walked all the way to lower dry looking for missing fis.   04:47
6                                                            14:25
                                                downstreamGPS downstreamGain
1                                   42.4422631.N 72.3733436 W             70
2                    Lat: 42.27 +/-7.6 N Long: 72.22 +/-7.6 W             80
3                                   42.1794043 N 72.4630898 W             75
4 42.3812014 N 72.4601705 W Harris: 42.3807410 N 72.4587332 W             80
5                                     42.6586850 N 72.5041881             75
6                                   42.6626352 N 72.5044535 W             75
                           upstreamGPS upstreamGain         x        y
1             42.4374180 N 72.346902 W           75 -72.37124 42.44404
2       42.4430367 LAT. 72.3700836 LON           80   0.00000  0.00000
3            42.3807796 N 72.4584831 W           75 -72.45965 42.38116
4            42.3820773 N 72.4585361 W           80   0.00000  0.00000
5            42.6691445 N 72.5075889 W           75   0.00000  0.00000
6 Lat: 42.6691061 N Long: 72.5075635 W           75   0.00000  0.00000
             dateTime shift
1 2024-07-16 03:35:00   day
2 2024-07-16 13:13:00 night
3 2024-07-17 03:44:00   day
4 2024-07-17 13:25:00 night
5 2024-07-18 03:45:00   day
6 2024-07-18 12:55:00 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(stream_survey_week6, <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/streamSurvey6.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the stream survey data</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>stream_survey_week7 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 7.csv"</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>stream_survey_week7<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(stream_survey_week7<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and start time into a DateTime column</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>stream_survey_week7<span class="sc">$</span>dateTime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(stream_survey_week7<span class="sc">$</span>date, </span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>                                                 stream_survey_week7<span class="sc">$</span>startTime), </span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>)</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>stream_survey_week7 <span class="ot">&lt;-</span> stream_survey_week7 <span class="sc">%&gt;%</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime) <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime) <span class="sc">&lt;</span> <span class="dv">14</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stream_survey_week7)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1       58 8d80e210-e334-4e7d-9f9e-e378637bc01f 7/23/2024 9:37:18 PM
2       59 df7093f9-fe03-4f17-b25f-a5f30cbeb213 7/24/2024 4:01:09 AM
3       60 8ccd1f89-e854-4804-9f15-9b62eecd96ed 7/24/2024 9:05:36 PM
4       61 a6b6cd96-6f06-48e7-bec8-2f81884ca2b1 7/25/2024 4:40:41 AM
5       62 849f9605-680e-4b0c-92ef-efa4612d134d 7/25/2024 9:04:38 PM
6       63 ad37290a-2764-4280-bb2c-e2c02bee83ef 7/26/2024 4:45:13 AM
                            Creator              EditDate
1 jpilchik@contractor.usgs.gov_USGS  7/23/2024 9:37:18 PM
2 jpilchik@contractor.usgs.gov_USGS  7/24/2024 4:01:09 AM
3 jpilchik@contractor.usgs.gov_USGS 7/29/2024 12:39:19 PM
4 jpilchik@contractor.usgs.gov_USGS 7/29/2024 12:35:30 PM
5 jpilchik@contractor.usgs.gov_USGS 7/29/2024 12:36:38 PM
6 jpilchik@contractor.usgs.gov_USGS  7/26/2024 4:45:13 AM
                             Editor          stream       date  time airTemp
1 jpilchik@contractor.usgs.gov_USGS      Dry (DRYU) 2024-07-23 07:27      83
2 jpilchik@contractor.usgs.gov_USGS      Dry (DRYU) 2024-07-23 17:23      71
3 jpilchik@contractor.usgs.gov_USGS   Dickey (DCKY) 2024-07-24 09:27      78
4 jpilchik@contractor.usgs.gov_USGS   Dickey (DCKY) 2024-07-24 17:10      75
5 jpilchik@contractor.usgs.gov_USGS Amethyst (AMTH) 2024-07-25 07:19      72
6 jpilchik@contractor.usgs.gov_USGS Amethyst (AMTH) 2024-07-25 17:15      77
          cloud        precip startTime endTime
1 Mostly cloudy Moderate rain     07:27   13:24
2        Cloudy       No rain     17:13   22:43
3        Cloudy     Weak rain     07:22   12:44
4        Cloudy       No rain     17:12   22:44
5 Mostly cloudy       No rain     07:19   12:53
6        Cloudy       No rain     17:16   22:43
                                                            iso
1                                           DRYU202407230833EST
2                                           DRYU202407231815EST
3                                           DCKY202407241048EST
4                                           DCKY202407241830EST
5 AMTH202407250833EST, HARR202407250833EST, BUFF202407250833EST
6 HARR202407251920EST, AMTH202407252037EST, BUFF202407251815EST
                                  Notes isoTime
1                                         08:33
2 There were a ton of 999/ error codes.   18:15
3                                         10:48
4                                         18:30
5                                         08:33
6                                         18:15
                         downstreamGPS downstreamGain
1          42.6342708 N , 72.4923600 W             60
2 Lat:42.6587346 N Long: 72.50041230 W             75
3            42.4422556 N 72.3734784 W             75
4 Lat: 42.4439420 N Long: 72.3734095 W             75
5            42.3811548 N 72.4602750 W             80
6 Lat: 42.3794408 N Long: 72.4629074 W             75
                                                                                upstreamGPS
1                                                                   42.6682103 N 72.5069701
2                                                      Lat: 42.6688091 N Long: 72.5076269 W
3                                                                42.4373149 N 72.3546576 W 
4                                                       Lat:42.4429939 N Long: 72.3700608 W
5                                                                 42.3020057 N 72.4583703 W
6 Buffim- Lat: 42.3820122 N Long: 72.4584062 W Harris- Lat: 42.3805896 N Long: 72.4587733 W
  upstreamGain         x        y            dateTime shift
1           75 -72.50764 42.66884 2024-07-23 07:27:00   day
2           80   0.00000  0.00000 2024-07-23 17:13:00 night
3           75 -72.37160 42.44381 2024-07-24 07:22:00   day
4           75 -72.37159 42.44394 2024-07-24 17:12:00 night
5           80   0.00000  0.00000 2024-07-25 07:19:00   day
6           75   0.00000  0.00000 2024-07-25 17:16:00 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(stream_survey_week7, <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/streamSurvey7.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the stream survey data</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>stream_survey_week8 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 8.csv"</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>stream_survey_week8<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(stream_survey_week8<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and start time into a DateTime column</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>stream_survey_week8<span class="sc">$</span>dateTime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(stream_survey_week8<span class="sc">$</span>date, </span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>                                                 stream_survey_week8<span class="sc">$</span>startTime), </span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>)</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 3:30 EST to 9:30 EST</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>stream_survey_week8 <span class="ot">&lt;-</span> stream_survey_week8 <span class="sc">%&gt;%</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime) <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime) <span class="sc">&lt;</span> <span class="dv">11</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stream_survey_week8)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1       66 1346e477-c5ec-40de-83f8-eb61532d3beb 7/30/2024 2:43:27 PM
2       67 85842531-864a-4d9c-bc8c-f307ddf49db8 7/31/2024 7:35:34 AM
3       68 4299598b-2e8a-4b7b-bb73-21768b48378a 7/31/2024 3:05:02 PM
4       69 4e6e99bd-b136-43e3-b7bc-1599b46b7592  8/1/2024 7:34:47 AM
5       70 c812273a-d64a-407d-ad22-a0ce77c6054a  8/1/2024 3:21:53 PM
6       71 51be0e33-f712-47f0-a9cf-625d20637117  8/2/2024 8:08:35 AM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 7/30/2024 2:43:27 PM
2 jpilchik@contractor.usgs.gov_USGS 7/31/2024 7:35:34 AM
3 jpilchik@contractor.usgs.gov_USGS 8/5/2024 12:43:56 PM
4 jpilchik@contractor.usgs.gov_USGS  8/1/2024 7:34:47 AM
5 jpilchik@contractor.usgs.gov_USGS  8/1/2024 3:21:53 PM
6 jpilchik@contractor.usgs.gov_USGS 8/5/2024 12:43:19 PM
                             Editor           stream       date  time airTemp
1 jpilchik@contractor.usgs.gov_USGS    Dickey (DCKY) 2024-07-30 03:50      67
2 jpilchik@contractor.usgs.gov_USGS    Dickey (DCKY) 2024-07-30 12:53      78
3 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-07-31 04:10      79
4 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-07-31 13:06      82
5 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-08-01 03:50      72
6 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-08-01 13:04      87
                       cloud        precip startTime endTime
1                     Cloudy       No rain     03:50   08:56
2                     Cloudy       No rain     12:54   18:24
3                     Cloudy Moderate rain     03:50   08:06
4                     Cloudy       No rain     13:01   16:10
5                      Clear       No rain     03:51   09:27
6 Partly cloudy/partly sunny       No rain     13:04   18:32
                                                          iso Notes isoTime
1                                         DCKY202407300503EST    NA   05:03
2                                         DCKY202407301355EST    NA   13:55
3 HARR202407310650EST AMTH202407310658EST BUFF202407310447EST    NA   04:47
4 AMTH202407311451EST BUFF202407311447EST HARR202407311447EST    NA   14:47
5                                         UNDH202408010442EST    NA   04:42
6                                         UNDH202408011308EST    NA   13:08
                              downstreamGPS downstreamGain
1                 42.4421397 N 72.3133907 W             70
2      Lat: 42.4439938 N Long: 72.3734079 W             80
3                 42.3815085 N 72.4605129 W             70
4      Lat: 42.3802102 N Long: 72.4625902 W             80
5 42.4442400 degrees N 72.3233604 degrees W             70
6      Lat: 42.4444746 N Long: 72.3209563 W             80
                                                                                upstreamGPS
1                                                                  42.4373330 N 72.3646411W
2                                                                 42.4436114 N 72.3703450 W
3                                                                 42.3807633 N 72.4584379 W
4 Buffim- Lat: 42.3818780 N Long: 72.4583519 W Harris- Lat: 42.3805731 N Long: 72.4586648 W
5                                                                 42.4456778 N 72.3323930 W
6                                                                    42.4455316, 72.3324642
  upstreamGain         x        y            dateTime shift
1           70 -72.37105 42.44398 2024-07-30 03:50:00   day
2           80   0.00000  0.00000 2024-07-30 12:54:00 night
3           70 -72.45820 42.38193 2024-07-31 03:50:00   day
4           80 -72.46045 42.38189 2024-07-31 13:01:00 night
5           70 -72.32501 42.44502 2024-08-01 03:51:00   day
6           80   0.00000  0.00000 2024-08-01 13:04:00 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(stream_survey_week8, <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/streamSurvey8.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the stream survey data</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>stream_survey_week9 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 9.csv"</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>stream_survey_week9<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(stream_survey_week9<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and start time into a DateTime column</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>stream_survey_week9<span class="sc">$</span>dateTime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(stream_survey_week9<span class="sc">$</span>date, </span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>                                                 stream_survey_week9<span class="sc">$</span>startTime), </span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>)</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>stream_survey_week9 <span class="ot">&lt;-</span> stream_survey_week9 <span class="sc">%&gt;%</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime) <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime) <span class="sc">&lt;</span> <span class="dv">14</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stream_survey_week9)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID        CreationDate
1       74 84a095f0-173b-481a-ad36-7a694fc62817 8/6/2024 6:25:06 PM
2       75 8dea0b01-0296-492d-94df-d04b0e1cbfe4 8/7/2024 3:57:33 AM
3       76 b0d49014-c729-4005-8bdb-473fa689f1f9 8/7/2024 5:59:47 PM
4       77 a337d5fe-7fa6-4a86-a91a-6a4a551d9714 8/8/2024 3:32:39 AM
5       78 7749d8e8-fa66-489b-90b4-9414eec942cd 8/8/2024 8:28:14 PM
6       79 487107fc-84cf-4fc1-ae59-e25dfa60e24f 8/9/2024 3:15:51 AM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS  8/6/2024 6:25:06 PM
2 jpilchik@contractor.usgs.gov_USGS  8/7/2024 3:57:33 AM
3 jpilchik@contractor.usgs.gov_USGS  8/7/2024 5:59:47 PM
4 jpilchik@contractor.usgs.gov_USGS  8/8/2024 3:32:39 AM
5 jpilchik@contractor.usgs.gov_USGS  8/8/2024 8:28:14 PM
6 jpilchik@contractor.usgs.gov_USGS 8/13/2024 8:37:31 PM
                             Editor           stream       date  time airTemp
1 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-08-06 07:20      72
2 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-08-06 17:00      73
3 jpilchik@contractor.usgs.gov_USGS       Dry (DRYU) 2024-08-07 06:59      60
4 jpilchik@contractor.usgs.gov_USGS       Dry (DRYU) 2024-08-07 17:14      75
5 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-08-08 07:32      63
6 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-08-08 17:05      73
                      cloud        precip startTime endTime
1                    Cloudy     Weak rain     07:25   12:23
2                    Cloudy     Weak rain     17:59   22:13
3                    Cloudy     Weak rain     07:19   12:43
4 Mostly sunny/mostly clear       No rain     17:14   22:12
5             Mostly cloudy       No rain     07:35   13:34
6                    Cloudy Moderate rain     17:00   22:17
                                                          iso
1                                         UNDH202408060810EST
2                                         UNDH202408061801EST
3                                          DRY202408071031EST
4                                         DRYU202408072002EST
5  BUFF20240801040EST HARR202408081041EST AMTH202408081045EST
6 BUFF202408082007EST HARR202408082026EST AMTH202408082013EST
                                                                                                                  Notes
1 Found a dead fish, cut it open to make sure it wasn’t a tagged fish and there wasn’t a dead tag inside (no tag found)
2                                                                                                                      
3                                                                                                                      
4                                                                                                                    \n
5                                                                                                                      
6                                                                                                                      
  isoTime                              downstreamGPS downstreamGain
1   08:10 42.4442161 degrees N, 72.3234504 degrees W             70
2   18:01        Lat:42.4442383 N Long: 72.3236331 W             80
3   10:31 42.6586929 degrees N, 72.5041623 degrees W             70
4   20:02           Lat 42.6619051.  Lon 72.50446738             80
5   10:40                   42.3794084 N 72.4628350W             70
6   20:07              Lat 42.3813265 Lon 72.4609471             80
                                                                upstreamGPS
1                                42.4459050 degrees N, 72.3317080 degrees W
2                                           Lat 42.4436998. Long 72.3297100
3                                42.6680512 degrees N, 72.5067974 degrees W
4                                             Lat 42.6684551 Lon 72.5079943
5                                                 42.3808097 N 72.4584604 W
6 Buffum lat 42.3821350 Lon 72.4585148 harris lat 42.3813420 Lon 72.4589892
  upstreamGain         x        y            dateTime shift
1           70 -72.32503 42.44526 2024-08-06 07:25:00   day
2           45 -72.32493 42.44484 2024-08-06 17:59:00 night
3           70   0.00000  0.00000 2024-08-07 07:19:00   day
4           80 -72.50564 42.66836 2024-08-07 17:14:00 night
5           70   0.00000  0.00000 2024-08-08 07:35:00   day
6           80   0.00000  0.00000 2024-08-08 17:00:00 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(stream_survey_week9, <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/streamSurvey9.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the stream survey data</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>stream_survey_week10 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 10.csv"</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>stream_survey_week10<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(stream_survey_week10<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and start time into a DateTime column</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>stream_survey_week10<span class="sc">$</span>dateTime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(stream_survey_week10<span class="sc">$</span>date, </span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>                                                 stream_survey_week10<span class="sc">$</span>startTime), </span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>)</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 4:00 EST to 10:00 EST</span></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>stream_survey_week10 <span class="ot">&lt;-</span> stream_survey_week10 <span class="sc">%&gt;%</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime) <span class="sc">&gt;=</span> <span class="dv">3</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime) <span class="sc">&lt;</span> <span class="dv">11</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stream_survey_week10)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1       81 7fcbbe73-7c22-4c6e-9e40-844d4102aa1f 8/13/2024 2:23:51 PM
2       82 986c88d3-f7d1-450a-997e-bfd67a39a8b9 8/14/2024 8:07:54 AM
3       83 ee287240-dd14-4b5c-993c-666e2de4fd65 8/14/2024 2:38:12 PM
4       84 beed0318-efdc-4713-a3be-a899684ae7bd 8/15/2024 8:05:58 AM
5       85 6e03d36e-f517-42e1-a1a0-de8ac8868ff5 8/15/2024 3:16:01 PM
6       86 21a1ee25-b5dc-4a25-9677-21f72af8d4ea 8/16/2024 8:37:13 AM
                            Creator              EditDate
1 jpilchik@contractor.usgs.gov_USGS 8/19/2024 12:52:31 PM
2 jpilchik@contractor.usgs.gov_USGS  8/14/2024 8:07:54 AM
3 jpilchik@contractor.usgs.gov_USGS 8/19/2024 12:47:14 PM
4 jpilchik@contractor.usgs.gov_USGS  8/15/2024 8:05:58 AM
5 jpilchik@contractor.usgs.gov_USGS  8/15/2024 3:16:01 PM
6 jpilchik@contractor.usgs.gov_USGS  8/16/2024 8:37:13 AM
                             Editor           stream       date  time airTemp
1 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-08-13 04:16      63
2 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-08-13 13:07      79
3 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-08-14 04:07      58
4 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-08-14 13:19      79
5 jpilchik@contractor.usgs.gov_USGS    Dickey (DCKY) 2024-08-15 04:16      60
6 jpilchik@contractor.usgs.gov_USGS    Dickey (DCKY) 2024-08-15 13:04      80
                       cloud  precip startTime endTime
1                      Clear No rain     04:16   09:26
2 Partly cloudy/partly sunny No rain     13:07   19:02
3                      Clear No rain     04:08   09:23
4 Partly cloudy/partly sunny No rain     13:19   18:42
5                      Clear No rain     04:17   09:27
6              Mostly cloudy No rain     13:04   16:14
                                                            iso Notes isoTime
1   BUFF202408130524EST HARR202408130510EST AMTH202408130516EST    NA   05:10
2 BUFF202408131516EST, AMTH202408131520EST, HARR202408131523EST    NA   15:16
3                                           UNDH202408140454EST    NA   04:54
4                                           UNDH202408141620EST    NA   16:20
5                                           DCKY202408150535EST    NA   05:35
6                                           DCKY202408151517EST    NA   15:17
                         downstreamGPS downstreamGain
1 Lat: 42.3808032 N Long: 72.4615415 W             80
2               42.3802433, 72.4651203             75
3 Lat: 42.4368660 N Long: 72.3214536 W             75
4               42.4447508, 72.3208196             75
5  Lat:42.4444510 N Long: 72.3733538 W             80
6               42.4423240, 72.3733392             75
                                                upstreamGPS upstreamGain
1                      Lat: 42.3820586 N Long: 72.4585239 W           80
2 HARR 42.3803763, 72.4535804;  BUFF 42.3836141, 72.4561609           75
3                      Lat: 42.4438604 N Long: 72.3296500 W           75
4                                    42.4435654, 72.3298756           75
5                      Lat: 42.4435049 N Long: 72.3703123 W           80
6                                    42.4375408, 72.3650235           75
          x        y            dateTime shift
1   0.00000  0.00000 2024-08-13 04:16:00   day
2   0.00000  0.00000 2024-08-13 13:07:00 night
3   0.00000  0.00000 2024-08-14 04:08:00   day
4 -72.32504 42.44505 2024-08-14 13:19:00 night
5 -72.37136 42.44378 2024-08-15 04:17:00   day
6   0.00000  0.00000 2024-08-15 13:04:00 night</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(stream_survey_week10, <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/streamSurvey10.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the stream survey data</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>stream_survey_week11 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 11.csv"</span>)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>stream_survey_week11<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(stream_survey_week11<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and start time into a DateTime column</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>stream_survey_week11<span class="sc">$</span>dateTime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(stream_survey_week11<span class="sc">$</span>date, </span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>                                                 stream_survey_week11<span class="sc">$</span>startTime), </span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>)</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column </span></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a><span class="co"># All shifts in week 11 were day shifts</span></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>stream_survey_week11 <span class="ot">&lt;-</span> stream_survey_week11 <span class="sc">%&gt;%</span></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">shift =</span> <span class="st">"day"</span>)</span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stream_survey_week11)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1       89 b7de34af-f9e3-47b9-b6a3-bf89b1dc556b 8/20/2024 6:44:07 PM
2       90 32604089-0f3d-41d6-939b-4cbdf32d8dce 8/21/2024 6:39:18 PM
3       91 fcde118a-5d63-460a-a477-dd67a4cd688a 8/22/2024 9:50:02 PM
4       92 20759715-9907-4e3f-b40f-4bf642f461fc 8/23/2024 7:52:09 PM
                            Creator              EditDate
1 jpilchik@contractor.usgs.gov_USGS  8/20/2024 6:44:07 PM
2 jpilchik@contractor.usgs.gov_USGS 8/29/2024 12:11:09 PM
3 jpilchik@contractor.usgs.gov_USGS 8/29/2024 12:12:20 PM
4 jpilchik@contractor.usgs.gov_USGS  8/23/2024 7:52:09 PM
                             Editor           stream       date  time airTemp
1 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-08-20 09:31      68
2 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-08-21 08:25      63
3 jpilchik@contractor.usgs.gov_USGS       Dry (DRYU) 2024-08-22 07:55      60
4 jpilchik@contractor.usgs.gov_USGS  Amethyst (AMTH) 2024-08-23 11:15      73
   cloud  precip startTime endTime
1 Cloudy No rain     09:00   13:37
2  Clear No rain     08:25   13:00
3  Clear No rain     07:55   16:30
4  Clear No rain     09:00   13:57
                                                            iso
1 BUFF202408201044EST, AMTH202408201047EST, HARR202408200947EST
2                                           UNDH202408210929EST
3                                           DRYU202408220918EST
4 BUFF202408231125EST, HARR202408231130EST, AMTH202408231150EST
                    Notes isoTime downstreamGPS downstreamGain upstreamGPS
1                           09:47            NA             NA          NA
2 Day of fish collection    09:29            NA             NA          NA
3                           09:18            NA             NA          NA
4                           11:25            NA             NA          NA
  upstreamGain         x        y            dateTime shift
1           NA -72.46077 42.38147 2024-08-20 09:00:00   day
2           NA -72.32425 42.44456 2024-08-21 08:25:00   day
3           NA -72.50821 42.66856 2024-08-22 07:55:00   day
4           NA   0.00000  0.00000 2024-08-23 09:00:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(stream_survey_week11, <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/streamSurvey11.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the stream survey data</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>stream_survey_week12 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 12.csv"</span>)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>stream_survey_week12<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(stream_survey_week12<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combining the date and start time into a DateTime column</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>stream_survey_week12<span class="sc">$</span>dateTime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(stream_survey_week12<span class="sc">$</span>date, </span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>                                                 stream_survey_week12<span class="sc">$</span>startTime), </span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>)</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column</span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a><span class="co"># All shifts in week 12 were day shifts</span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>stream_survey_week12 <span class="ot">&lt;-</span> stream_survey_week12 <span class="sc">%&gt;%</span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">shift =</span> <span class="st">"day"</span>)</span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(stream_survey_week12)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1       93 fe88f142-5937-4bd6-a4fc-71dfd7a6664a 8/29/2024 5:34:57 PM
2       95 e68186aa-b432-4de7-8357-b010a63d2a90 8/29/2024 5:34:59 PM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 8/29/2024 5:34:57 PM
2 jpilchik@contractor.usgs.gov_USGS 8/29/2024 5:34:59 PM
                             Editor           stream       date  time airTemp
1 jpilchik@contractor.usgs.gov_USGS Underhill (UNDH) 2024-08-27 09:25      80
2 jpilchik@contractor.usgs.gov_USGS    Dickey (DCKY) 2024-08-29 09:34      67
          cloud  precip startTime endTime                 iso Notes isoTime
1         Clear No rain     09:04   12:48 UNDH202408271016EST    NA   10:16
2 Mostly cloudy No rain     09:35   12:00 DCKY202408291022EST    NA   10:22
  downstreamGPS downstreamGain upstreamGPS upstreamGain         x        y
1            NA             NA          NA           NA -72.32731 42.44535
2            NA             NA          NA           NA   0.00000  0.00000
             dateTime shift
1 2024-08-27 09:04:00   day
2 2024-08-29 09:35:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(stream_survey_week12, <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/streamSurvey12.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define file names</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>stream_file_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"streamSurvey1.csv"</span>, <span class="st">"streamSurvey2.csv"</span>, <span class="st">"streamSurvey3.csv"</span>, <span class="st">"streamSurvey4.csv"</span>, <span class="st">"streamSurvey5.csv"</span>, <span class="st">"streamSurvey6.csv"</span>, <span class="st">"streamSurvey7.csv"</span>, <span class="st">"streamSurvey8.csv"</span>, <span class="st">"streamSurvey9.csv"</span>, <span class="st">"streamSurvey10.csv"</span>, <span class="st">"streamSurvey11.csv"</span>, <span class="st">"streamSurvey12.csv"</span>) </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a lookup table for stream names</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>stream_name_lookup <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">Abbreviation =</span> <span class="fu">c</span>(<span class="st">"Dickey (DCKY)"</span>, <span class="st">"Amethyst (AMTH)"</span>, <span class="st">"Underhill (UNDH)"</span>, </span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>                   <span class="st">"Dry (DRYU)"</span>),  <span class="co"># List all abbreviations</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">FullName =</span> <span class="fu">c</span>(<span class="st">"DICKEY"</span>, <span class="st">"AMETHYST"</span>, <span class="st">"UNDERHILL"</span>, <span class="st">"DRY UPPER"</span>)  <span class="co"># Corresponding full names</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an empty list to store the processed datasets</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>processed_stream_data_list <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through each stream survey file</span></span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (file_name <span class="cf">in</span> stream_file_names) {</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read in the stream survey data</span></span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>  rawStreamData <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(file_name)</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Step 1: Process the data</span></span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>  streamData <span class="ot">&lt;-</span> rawStreamData <span class="sc">%&gt;%</span></span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 2: Select specific columns</span></span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(stream, airTemp, cloud, precip, startTime, endTime, iso, Notes, </span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a>           isoTime, downstreamGPS, downstreamGain, upstreamGPS, upstreamGain, shift) <span class="sc">%&gt;%</span></span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 3: Rename columns</span></span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(</span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a>      <span class="at">streamNotes =</span> Notes,</span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a>      <span class="at">river =</span> stream) <span class="sc">%&gt;%</span></span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 4: Rewrite stream names</span></span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(stream_name_lookup, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"river"</span> <span class="ot">=</span> <span class="st">"Abbreviation"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">river =</span> <span class="fu">coalesce</span>(FullName, river)  <span class="co"># Replace Brook with FullName, if available</span></span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>FullName)  <span class="co"># Remove the FullName column as it's no longer needed</span></span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb38-38"><a href="#cb38-38" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Store the processed data in the list</span></span>
<span id="cb38-39"><a href="#cb38-39" aria-hidden="true" tabindex="-1"></a>  processed_stream_data_list[[file_name]] <span class="ot">&lt;-</span> streamData</span>
<span id="cb38-40"><a href="#cb38-40" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb38-41"><a href="#cb38-41" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Overwrite the original file with the processed data</span></span>
<span id="cb38-42"><a href="#cb38-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(streamData, file_name, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb38-43"><a href="#cb38-43" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb38-44"><a href="#cb38-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-45"><a href="#cb38-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of each processed dataset</span></span>
<span id="cb38-46"><a href="#cb38-46" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(processed_stream_data_list)) {</span>
<span id="cb38-47"><a href="#cb38-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Data for"</span>, stream_file_names[i], <span class="st">":</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb38-48"><a href="#cb38-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">head</span>(processed_stream_data_list[[i]]))</span>
<span id="cb38-49"><a href="#cb38-49" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Data for streamSurvey1.csv :
      river airTemp                      cloud  precip startTime endTime
1  AMETHYST      71 Partly cloudy/partly sunny No rain     06:30   12:00
2  AMETHYST      68                     Cloudy No rain     17:14   23:20
3 UNDERHILL      71                      Clear No rain     05:26   10:58
4 UNDERHILL      68  Mostly sunny/mostly clear No rain     18:55   22:52
5    DICKEY      80                      Clear No rain     05:35   10:17
6    DICKEY      78  Mostly sunny/mostly clear No rain     17:48   22:44
                  iso streamNotes isoTime downstreamGPS downstreamGain
1 AMTH202406111000EST          NA   10:00            NA             NA
2 AMTH202406111723EST          NA   17:23            NA             NA
3 UNDH202406120734EST          NA   07:34            NA             NA
4 UNDH202406121908EST          NA   19:08            NA             NA
5 DCKY202406130851EST          NA   08:51            NA             NA
6 DCKY202406131748EST          NA   17:48            NA             NA
  upstreamGPS upstreamGain shift
1          NA           NA   day
2          NA           NA night
3          NA           NA   day
4          NA           NA night
5          NA           NA   day
6          NA           NA night

Data for streamSurvey2.csv :
      river airTemp                      cloud  precip startTime endTime
1    DICKEY      79 Partly cloudy/partly sunny No rain     11:26   17:00
2    DICKEY      65                      Clear No rain     23:45   04:55
3  AMETHYST      87                      Clear No rain     11:18   17:00
4  AMETHYST      70                      Clear No rain     23:40   04:33
5 DRY UPPER      90                      Clear No rain     11:06   16:00
6 DRY UPPER      78                      Clear No rain     23:42   05:07
                  iso streamNotes isoTime downstreamGPS downstreamGain
1 DCKY202406171330EST          NA   13:30            NA             NA
2 DCKY202406180137EST          NA   01:37            NA             NA
3 AMTH202406181622EST          NA   16:22            NA             NA
4 AMTH202406182348EST          NA   23:48            NA             NA
5 DRYU202406191125EST          NA   11:25            NA             NA
6 DRYU202406192346EST          NA   23:46            NA             NA
  upstreamGPS upstreamGain shift
1          NA           NA   day
2          NA           NA night
3          NA           NA   day
4          NA           NA night
5          NA           NA   day
6          NA           NA night

Data for streamSurvey3.csv :
      river airTemp                     cloud  precip startTime endTime
1 DRY UPPER      57                     Clear No rain     05:44   10:44
2 DRY UPPER      82                    Cloudy No rain     17:21   23:05
3  AMETHYST      70 Mostly sunny/mostly clear No rain     05:25   11:06
4  AMETHYST      82                    Cloudy No rain     17:14   21:57
5 UNDERHILL      66                    Cloudy No rain     05:18   10:30
6 UNDERHILL      87                    Cloudy No rain     17:27   22:50
                   iso
1  DRYU202406250610EST
2  DRYU202406251745EST
3  AMTH202406261101EST
4  AMTH202406261915EST
5 UNDH20240627 0807EST
6  UNDH202406271916EST
                                                                                                                              streamNotes
1 Did not get to the stream on time because the batteries were corroded in the receiver so had to go back to lab and get other receiver. 
2                                                                                                                                        
3                                                                                                                                        
4                                                                                                                                        
5                                                                                                                                        
6                                                                                                                                        
  isoTime                       downstreamGPS downstreamGain
1   06:10             42.6353974. -72.4967190             65
2   17:45   Lat: 42.665107 long: 72.5031943 W             75
3   11:01      42 degrees 23N, 72 degrees 28W             74
4   19:15  Lat-42.3792386’N Long-72.4633786’W             90
5   08:07                                                 NA
6   19:16 Lat: 42.27’N Long: 72.19’W +/-4.8 m             55
                                                                  upstreamGPS
1                                                      42.6694251 -72.5074050
2                        Lat: 42.6683114 degrees N Long: 72.5066514 degrees W
3                                              42 degrees 23N, 72 degrees 27W
4 Buffim: lat-42.23’N long-72.28’W Harris: lat-42.3807166’N long-72.4581883’W
5                                                                            
6                                        Lat: 42.27’N Long: 72.20’W +/- 4.6 m
  upstreamGain shift
1           55   day
2           85 night
3           75   day
4           85 night
5           NA   day
6           60 night

Data for streamSurvey4.csv :
      river airTemp                      cloud  precip startTime endTime
1 DRY UPPER      71                     Cloudy No rain     03:57   08:55
2 DRY UPPER      75                     Cloudy No rain     13:34        
3    DICKEY      59                      Clear No rain     03:28   08:37
4    DICKEY      80 Partly cloudy/partly sunny No rain     13:19   18:47
5  AMETHYST      64                      Clear No rain     03:23        
6  AMETHYST      82                      Clear No rain     13:00   18:18
                  iso                                               streamNotes
1 DRYU202406300528EST                                                          
2  DRYU20240631428EST                                                          
3  DCKY20240701445EST                                                          
4 DCKY202407011412EST 38 is way up by hunt road, 29s thermal tag was recovered 
5 AMTH202407020529EST                                                          
6  Amth20240701333EST                                                    \n\n\n
  isoTime                        downstreamGPS downstreamGain
1   05:28 Lat: 42.6626558 N Long: 72.5044938 W             85
2   14:28            42.6683792 N 72.5062250 W             74
3   04:45 Lat: 42.4443189 N Long: 72.3720856 W             80
4   14:12              42.4442662   72.3717833             65
5   05:29            42.3792378 N 72.4631544 W             75
6   13:33   Lat:42.3806414 N Long:72.4654265 W             75
                                                                             upstreamGPS
1                                                   Lat: 42.6688089 N Long: 72.5073252 W
2                                                              42.6683792 N 72.5062250 W
3                                                   Lat: 42.4416066 N Long: 72.3683132 W
4                                                                42.4408761   72.3676351
5                                                             42.3807546 N. 72.4584560 W
6 Harris: Lat- 42.3806381N Long- 72.4586440 W Buffim: Lat-42.3820960 N Long-72.4583184 W
  upstreamGain shift
1           90   day
2           74 night
3           80   day
4           70 night
5           75   day
6           65 night

Data for streamSurvey5.csv :
      river airTemp                      cloud        precip startTime endTime
1 UNDERHILL      71                     Cloudy Moderate rain     07:28   12:39
2 UNDERHILL      75              Mostly cloudy Moderate rain     17:30   19:49
3    DICKEY      83                     Cloudy       No rain     07:13   12:43
4    DICKEY      81 Partly cloudy/partly sunny       No rain     17:16   22:47
5  AMETHYST      81                     Cloudy     Weak rain     07:43   12:25
6  AMETHYST      83 Partly cloudy/partly sunny       No rain     17:22   22:37
                                                            iso
1                                           UNDH202407090734EST
2                                           UNDH202407091730EST
3                                            DCKY20240710749EST
4                                                              
5                                            AMTH20240711946EST
6 BUFF202407112026EST, HARR202407112031EST, AMTH202407112036EST
                streamNotes isoTime                       downstreamGPS
1                             07:27           42.4445523 N 72.3210041 W
2 Thunder most of the night   17:30                                    
3                             07:49           42.4419963.   -72.3735598
4                             17:16 Lat:42.4439807 N Long: 72.3735109 W
5                             09:46           42.3791708 N 72.4632400 W
6                             20:26  Lat: 42.3802241 N Long: 72.4623015
  downstreamGain                                               upstreamGPS
1             75                                 42.4436600 W 72.3295537 N
2             NA                                                          
3             74                                 42.4373994 N 72.3647180 W
4             50                       Lat: 42.4422845 N Long:72.3691477 W
5             75                                 42.3807002 N 72.4582711 W
6             85 Buffim- Lat: 42.3821137 N Long: 72.4566635 W Harris- Lat:
  upstreamGain shift
1           75   day
2           NA night
3           74   day
4           80 night
5           75   day
6           85 night

Data for streamSurvey6.csv :
      river airTemp                     cloud  precip startTime endTime
1    DICKEY      70                    Cloudy No rain     03:35   08:55
2    DICKEY      85 Mostly sunny/mostly clear No rain     13:13   18:08
3  AMETHYST      74                     Clear No rain     03:44   09:00
4  AMETHYST      88                     Clear No rain     13:25   16:45
5 DRY UPPER      68             Mostly cloudy No rain     03:45   09:12
6 DRY UPPER      83                     Clear No rain     12:55   18:27
                                                              iso
1                                             DCKY202407160347EST
2                                             DCKY202407161444EST
3   BUFF202407170440EST, HARR202407170601EST, AMTH202407170611EST
4 AMTH202407171527EST ,  BUFF02407171527EST , HARR202407171530EST
5                                             DRYU202407180447EST
6                                             DRYU202407181425EST
                                               streamNotes isoTime
1                                                            03:47
2                                                            14:44
3                                                            04:40
4          Had to leave early because of bad thunderstorms   15:27
5 Walked all the way to lower dry looking for missing fis.   04:47
6                                                            14:25
                                                downstreamGPS downstreamGain
1                                   42.4422631.N 72.3733436 W             70
2                    Lat: 42.27 +/-7.6 N Long: 72.22 +/-7.6 W             80
3                                   42.1794043 N 72.4630898 W             75
4 42.3812014 N 72.4601705 W Harris: 42.3807410 N 72.4587332 W             80
5                                     42.6586850 N 72.5041881             75
6                                   42.6626352 N 72.5044535 W             75
                           upstreamGPS upstreamGain shift
1             42.4374180 N 72.346902 W           75   day
2       42.4430367 LAT. 72.3700836 LON           80 night
3            42.3807796 N 72.4584831 W           75   day
4            42.3820773 N 72.4585361 W           80 night
5            42.6691445 N 72.5075889 W           75   day
6 Lat: 42.6691061 N Long: 72.5075635 W           75 night

Data for streamSurvey7.csv :
      river airTemp         cloud        precip startTime endTime
1 DRY UPPER      83 Mostly cloudy Moderate rain     07:27   13:24
2 DRY UPPER      71        Cloudy       No rain     17:13   22:43
3    DICKEY      78        Cloudy     Weak rain     07:22   12:44
4    DICKEY      75        Cloudy       No rain     17:12   22:44
5  AMETHYST      72 Mostly cloudy       No rain     07:19   12:53
6  AMETHYST      77        Cloudy       No rain     17:16   22:43
                                                            iso
1                                           DRYU202407230833EST
2                                           DRYU202407231815EST
3                                           DCKY202407241048EST
4                                           DCKY202407241830EST
5 AMTH202407250833EST, HARR202407250833EST, BUFF202407250833EST
6 HARR202407251920EST, AMTH202407252037EST, BUFF202407251815EST
                            streamNotes isoTime
1                                         08:33
2 There were a ton of 999/ error codes.   18:15
3                                         10:48
4                                         18:30
5                                         08:33
6                                         18:15
                         downstreamGPS downstreamGain
1          42.6342708 N , 72.4923600 W             60
2 Lat:42.6587346 N Long: 72.50041230 W             75
3            42.4422556 N 72.3734784 W             75
4 Lat: 42.4439420 N Long: 72.3734095 W             75
5            42.3811548 N 72.4602750 W             80
6 Lat: 42.3794408 N Long: 72.4629074 W             75
                                                                                upstreamGPS
1                                                                   42.6682103 N 72.5069701
2                                                      Lat: 42.6688091 N Long: 72.5076269 W
3                                                                42.4373149 N 72.3546576 W 
4                                                       Lat:42.4429939 N Long: 72.3700608 W
5                                                                 42.3020057 N 72.4583703 W
6 Buffim- Lat: 42.3820122 N Long: 72.4584062 W Harris- Lat: 42.3805896 N Long: 72.4587733 W
  upstreamGain shift
1           75   day
2           80 night
3           75   day
4           75 night
5           80   day
6           75 night

Data for streamSurvey8.csv :
      river airTemp                      cloud        precip startTime endTime
1    DICKEY      67                     Cloudy       No rain     03:50   08:56
2    DICKEY      78                     Cloudy       No rain     12:54   18:24
3  AMETHYST      79                     Cloudy Moderate rain     03:50   08:06
4  AMETHYST      82                     Cloudy       No rain     13:01   16:10
5 UNDERHILL      72                      Clear       No rain     03:51   09:27
6 UNDERHILL      87 Partly cloudy/partly sunny       No rain     13:04   18:32
                                                          iso streamNotes
1                                         DCKY202407300503EST          NA
2                                         DCKY202407301355EST          NA
3 HARR202407310650EST AMTH202407310658EST BUFF202407310447EST          NA
4 AMTH202407311451EST BUFF202407311447EST HARR202407311447EST          NA
5                                         UNDH202408010442EST          NA
6                                         UNDH202408011308EST          NA
  isoTime                             downstreamGPS downstreamGain
1   05:03                 42.4421397 N 72.3133907 W             70
2   13:55      Lat: 42.4439938 N Long: 72.3734079 W             80
3   04:47                 42.3815085 N 72.4605129 W             70
4   14:47      Lat: 42.3802102 N Long: 72.4625902 W             80
5   04:42 42.4442400 degrees N 72.3233604 degrees W             70
6   13:08      Lat: 42.4444746 N Long: 72.3209563 W             80
                                                                                upstreamGPS
1                                                                  42.4373330 N 72.3646411W
2                                                                 42.4436114 N 72.3703450 W
3                                                                 42.3807633 N 72.4584379 W
4 Buffim- Lat: 42.3818780 N Long: 72.4583519 W Harris- Lat: 42.3805731 N Long: 72.4586648 W
5                                                                 42.4456778 N 72.3323930 W
6                                                                    42.4455316, 72.3324642
  upstreamGain shift
1           70   day
2           80 night
3           70   day
4           80 night
5           70   day
6           80 night

Data for streamSurvey9.csv :
      river airTemp                     cloud        precip startTime endTime
1 UNDERHILL      72                    Cloudy     Weak rain     07:25   12:23
2 UNDERHILL      73                    Cloudy     Weak rain     17:59   22:13
3 DRY UPPER      60                    Cloudy     Weak rain     07:19   12:43
4 DRY UPPER      75 Mostly sunny/mostly clear       No rain     17:14   22:12
5  AMETHYST      63             Mostly cloudy       No rain     07:35   13:34
6  AMETHYST      73                    Cloudy Moderate rain     17:00   22:17
                                                          iso
1                                         UNDH202408060810EST
2                                         UNDH202408061801EST
3                                          DRY202408071031EST
4                                         DRYU202408072002EST
5  BUFF20240801040EST HARR202408081041EST AMTH202408081045EST
6 BUFF202408082007EST HARR202408082026EST AMTH202408082013EST
                                                                                                            streamNotes
1 Found a dead fish, cut it open to make sure it wasn’t a tagged fish and there wasn’t a dead tag inside (no tag found)
2                                                                                                                      
3                                                                                                                      
4                                                                                                                    \n
5                                                                                                                      
6                                                                                                                      
  isoTime                              downstreamGPS downstreamGain
1   08:10 42.4442161 degrees N, 72.3234504 degrees W             70
2   18:01        Lat:42.4442383 N Long: 72.3236331 W             80
3   10:31 42.6586929 degrees N, 72.5041623 degrees W             70
4   20:02           Lat 42.6619051.  Lon 72.50446738             80
5   10:40                   42.3794084 N 72.4628350W             70
6   20:07              Lat 42.3813265 Lon 72.4609471             80
                                                                upstreamGPS
1                                42.4459050 degrees N, 72.3317080 degrees W
2                                           Lat 42.4436998. Long 72.3297100
3                                42.6680512 degrees N, 72.5067974 degrees W
4                                             Lat 42.6684551 Lon 72.5079943
5                                                 42.3808097 N 72.4584604 W
6 Buffum lat 42.3821350 Lon 72.4585148 harris lat 42.3813420 Lon 72.4589892
  upstreamGain shift
1           70   day
2           45 night
3           70   day
4           80 night
5           70   day
6           80 night

Data for streamSurvey10.csv :
      river airTemp                      cloud  precip startTime endTime
1  AMETHYST      63                      Clear No rain     04:16   09:26
2  AMETHYST      79 Partly cloudy/partly sunny No rain     13:07   19:02
3 UNDERHILL      58                      Clear No rain     04:08   09:23
4 UNDERHILL      79 Partly cloudy/partly sunny No rain     13:19   18:42
5    DICKEY      60                      Clear No rain     04:17   09:27
6    DICKEY      80              Mostly cloudy No rain     13:04   16:14
                                                            iso streamNotes
1   BUFF202408130524EST HARR202408130510EST AMTH202408130516EST          NA
2 BUFF202408131516EST, AMTH202408131520EST, HARR202408131523EST          NA
3                                           UNDH202408140454EST          NA
4                                           UNDH202408141620EST          NA
5                                           DCKY202408150535EST          NA
6                                           DCKY202408151517EST          NA
  isoTime                        downstreamGPS downstreamGain
1   05:10 Lat: 42.3808032 N Long: 72.4615415 W             80
2   15:16               42.3802433, 72.4651203             75
3   04:54 Lat: 42.4368660 N Long: 72.3214536 W             75
4   16:20               42.4447508, 72.3208196             75
5   05:35  Lat:42.4444510 N Long: 72.3733538 W             80
6   15:17               42.4423240, 72.3733392             75
                                                upstreamGPS upstreamGain shift
1                      Lat: 42.3820586 N Long: 72.4585239 W           80   day
2 HARR 42.3803763, 72.4535804;  BUFF 42.3836141, 72.4561609           75 night
3                      Lat: 42.4438604 N Long: 72.3296500 W           75   day
4                                    42.4435654, 72.3298756           75 night
5                      Lat: 42.4435049 N Long: 72.3703123 W           80   day
6                                    42.4375408, 72.3650235           75 night

Data for streamSurvey11.csv :
      river airTemp  cloud  precip startTime endTime
1  AMETHYST      68 Cloudy No rain     09:00   13:37
2 UNDERHILL      63  Clear No rain     08:25   13:00
3 DRY UPPER      60  Clear No rain     07:55   16:30
4  AMETHYST      73  Clear No rain     09:00   13:57
                                                            iso
1 BUFF202408201044EST, AMTH202408201047EST, HARR202408200947EST
2                                           UNDH202408210929EST
3                                           DRYU202408220918EST
4 BUFF202408231125EST, HARR202408231130EST, AMTH202408231150EST
              streamNotes isoTime downstreamGPS downstreamGain upstreamGPS
1                           09:47            NA             NA          NA
2 Day of fish collection    09:29            NA             NA          NA
3                           09:18            NA             NA          NA
4                           11:25            NA             NA          NA
  upstreamGain shift
1           NA   day
2           NA   day
3           NA   day
4           NA   day

Data for streamSurvey12.csv :
      river airTemp         cloud  precip startTime endTime                 iso
1 UNDERHILL      80         Clear No rain     09:04   12:48 UNDH202408271016EST
2    DICKEY      67 Mostly cloudy No rain     09:35   12:00 DCKY202408291022EST
  streamNotes isoTime downstreamGPS downstreamGain upstreamGPS upstreamGain
1          NA   10:16            NA             NA          NA           NA
2          NA   10:22            NA             NA          NA           NA
  shift
1   day
2   day</code></pre>
</div>
</div>
</section>
<section id="preparing-fish-surveys" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Preparing Fish Surveys</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey data</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>fish_survey_week1 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 1.csv"</span>)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>fish_survey_week1<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(fish_survey_week1<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>fish_survey_week1<span class="sc">$</span>dateTime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(fish_survey_week1<span class="sc">$</span>date, </span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>                                                 fish_survey_week1<span class="sc">$</span>time), </span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>)</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 5:00 EST to 11:00 EST</span></span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>fish_survey_week1 <span class="ot">&lt;-</span> fish_survey_week1 <span class="sc">%&gt;%</span></span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime) <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime) <span class="sc">&lt;</span> <span class="dv">12</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_survey_week1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1       16 d0a3b6b5-3d34-4e15-a2b5-01e3a329b214 6/11/2024 8:58:55 PM
2       17 de178623-dad7-4dcf-a0f7-d5619cd48759 6/11/2024 8:58:56 PM
3       18 ddeedd3d-937f-46c1-8eef-b77c5ca1a85b 6/11/2024 8:58:56 PM
4       19 08bdb6c4-4237-4193-ab3c-a349a64db4d9 6/11/2024 8:58:57 PM
5       20 c77027d3-8811-4a1b-a676-a2843c7f9b07 6/11/2024 8:58:57 PM
6       21 e3016d54-bffe-431e-b4e6-16bd78bab6f3 6/11/2024 8:58:58 PM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 8/19/2024 6:21:35 PM
2 jpilchik@contractor.usgs.gov_USGS 8/19/2024 6:21:41 PM
3 jpilchik@contractor.usgs.gov_USGS 8/19/2024 6:21:48 PM
4 jpilchik@contractor.usgs.gov_USGS 8/19/2024 6:21:57 PM
5 jpilchik@contractor.usgs.gov_USGS 8/19/2024 6:22:05 PM
6 jpilchik@contractor.usgs.gov_USGS 8/19/2024 6:22:12 PM
                             Editor dckyID  time location habitat position
1 jpilchik@contractor.usgs.gov_USGS     NA 05:57       NA  Riffle   Center
2 jpilchik@contractor.usgs.gov_USGS     NA 06:08       NA  Riffle   Center
3 jpilchik@contractor.usgs.gov_USGS     NA 06:15       NA  Riffle   Center
4 jpilchik@contractor.usgs.gov_USGS     NA 06:19       NA     Run     Left
5 jpilchik@contractor.usgs.gov_USGS     NA 06:28       NA     Run     Left
6 jpilchik@contractor.usgs.gov_USGS     NA 06:34       NA   Glide   Center
  substrate cover         shade Notes amthID undhID dryuID habitatExtra signal
1      Rock    NA  Fully shaded           59     NA     NA                  NA
2      Rock    NA  Fully shaded           60     NA     NA                  NA
3      Rock    NA  Fully shaded           19     NA     NA                  NA
4    Pebble    NA Mostly shaded           20     NA     NA                  NA
5      Rock    NA Mostly shaded           57     NA     NA                  NA
6      Rock    NA  Fully shaded           12     NA     NA                  NA
  substrateExtra       date         x        y            dateTime shift
1             NA 2024-06-11 -72.46038 42.38162 2024-06-11 05:57:00   day
2             NA 2024-06-11 -72.46030 42.38136 2024-06-11 06:08:00   day
3             NA 2024-06-11 -72.46023 42.38139 2024-06-11 06:15:00   day
4             NA 2024-06-11 -72.46015 42.38095 2024-06-11 06:19:00   day
5             NA 2024-06-11 -72.46034 42.38105 2024-06-11 06:28:00   day
6             NA 2024-06-11 -72.46009 42.38094 2024-06-11 06:34:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new fish survey csv</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_survey_week1, <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fishSurvey1.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey data</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>fish_survey_week2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 2.csv"</span>)</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>fish_survey_week2<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(fish_survey_week2<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>fish_survey_week2<span class="sc">$</span>dateTime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(fish_survey_week2<span class="sc">$</span>date, </span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>                                                 fish_survey_week2<span class="sc">$</span>time), </span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>)</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 11:00 EST to 17:00 EST</span></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>fish_survey_week2 <span class="ot">&lt;-</span> fish_survey_week2 <span class="sc">%&gt;%</span></span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime) <span class="sc">&gt;=</span> <span class="dv">10</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime) <span class="sc">&lt;</span> <span class="dv">18</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb43-22"><a href="#cb43-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-23"><a href="#cb43-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb43-24"><a href="#cb43-24" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_survey_week2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1      256 d0100699-a73b-4604-8b3f-70443dadab8e 6/18/2024 2:57:58 AM
2      257 068e3aa6-8857-49c0-84b3-d67ec9bfe7f0 6/18/2024 2:57:59 AM
3      258 02c92d7b-0f87-41c2-bc53-7e4e33755392 6/18/2024 2:57:59 AM
4      259 b2fbed47-28d9-47e3-bfda-db3835bcd5d3 6/18/2024 2:58:00 AM
5      260 23aec077-27c1-4b76-a5ff-64de3b608de9 6/18/2024 2:58:01 AM
6      261 f1545e22-1078-41bb-985c-4240cd1f895a 6/18/2024 2:58:02 AM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 8/19/2024 6:46:44 PM
2 jpilchik@contractor.usgs.gov_USGS 8/19/2024 6:46:50 PM
3 jpilchik@contractor.usgs.gov_USGS 8/19/2024 6:46:56 PM
4 jpilchik@contractor.usgs.gov_USGS 8/19/2024 6:47:02 PM
5 jpilchik@contractor.usgs.gov_USGS 8/19/2024 6:47:11 PM
6 jpilchik@contractor.usgs.gov_USGS 8/19/2024 6:47:17 PM
                             Editor dckyID  time location habitat position
1 jpilchik@contractor.usgs.gov_USGS     31 11:33       NA    Pool   Center
2 jpilchik@contractor.usgs.gov_USGS     46 11:57       NA     Run    Right
3 jpilchik@contractor.usgs.gov_USGS     29 11:59       NA  Riffle     Left
4 jpilchik@contractor.usgs.gov_USGS     26 12:10       NA     Run    Right
5 jpilchik@contractor.usgs.gov_USGS     28 12:47       NA    Pool     Left
6 jpilchik@contractor.usgs.gov_USGS     37 12:49       NA    Pool    Right
  substrate cover          shade Notes amthID undhID dryuID  habitatExtra
1      Rock    NA  Mostly shaded           NA     NA     NA              
2    Pebble    NA Lightly shaded           NA     NA     NA              
3      Rock    NA   Fully shaded           NA     NA     NA  Woody_debris
4      Rock    NA Lightly shaded           NA     NA     NA Undercut_bank
5   Boulder    NA  Mostly shaded           NA     NA     NA              
6      Rock    NA  Mostly shaded           NA     NA     NA              
  signal substrateExtra       date         x        y            dateTime shift
1     NA                2024-06-17 -72.37084 42.44394 2024-06-17 11:33:00   day
2     NA                2024-06-17 -72.37173 42.44421 2024-06-17 11:57:00   day
3     NA                2024-06-17 -72.37194 42.44430 2024-06-17 11:59:00   day
4     NA                2024-06-17 -72.37344 42.44421 2024-06-17 12:10:00   day
5     NA                2024-06-17 -72.37040 42.44369 2024-06-17 12:47:00   day
6     NA                2024-06-17 -72.37038 42.44377 2024-06-17 12:49:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new fish survey csv</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_survey_week2, <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fishSurvey2.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey data</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>fish_survey_week3 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 3.csv"</span>)</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>fish_survey_week3<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(fish_survey_week3<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>fish_survey_week3<span class="sc">$</span>dateTime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(fish_survey_week3<span class="sc">$</span>date, </span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>                                                 fish_survey_week3<span class="sc">$</span>time), </span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>)</span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 5:00 EST to 11:00 EST</span></span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a>fish_survey_week3 <span class="ot">&lt;-</span> fish_survey_week3 <span class="sc">%&gt;%</span></span>
<span id="cb46-16"><a href="#cb46-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb46-17"><a href="#cb46-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb46-18"><a href="#cb46-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime) <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime) <span class="sc">&lt;</span> <span class="dv">12</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb46-19"><a href="#cb46-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb46-20"><a href="#cb46-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb46-21"><a href="#cb46-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb46-22"><a href="#cb46-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-23"><a href="#cb46-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb46-24"><a href="#cb46-24" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_survey_week3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1      474 dcdf8b62-1775-4cb7-8202-8c79ccfbb1dc 6/25/2024 9:27:07 PM
2      475 088da717-10d6-4219-b333-9a8252bd1dbc 6/25/2024 9:27:14 PM
3      476 11e7984e-2002-4141-bcd8-f127808c5e9f 6/25/2024 9:27:20 PM
4      477 0e0a30fc-e57d-4d45-8696-a99edff05c5b 6/25/2024 9:27:29 PM
5      478 a43d361e-469b-496b-aca1-b1b46a851eb0 6/25/2024 9:27:35 PM
6      479 72a85c5a-1fd3-4330-a5a8-0b1713d36b7a 6/25/2024 9:27:41 PM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 8/30/2024 1:39:38 PM
2 jpilchik@contractor.usgs.gov_USGS 8/30/2024 1:39:46 PM
3 jpilchik@contractor.usgs.gov_USGS 8/30/2024 1:40:01 PM
4 jpilchik@contractor.usgs.gov_USGS 8/30/2024 1:40:18 PM
5 jpilchik@contractor.usgs.gov_USGS 8/30/2024 1:40:27 PM
6 jpilchik@contractor.usgs.gov_USGS 8/30/2024 1:40:42 PM
                             Editor dckyID  time location habitat position
1 jpilchik@contractor.usgs.gov_USGS     NA 05:59       NA    Pool   Center
2 jpilchik@contractor.usgs.gov_USGS     NA 06:02       NA    Pool    Right
3 jpilchik@contractor.usgs.gov_USGS     NA 06:07       NA    Pool    Right
4 jpilchik@contractor.usgs.gov_USGS     NA 06:11       NA    Pool     Left
5 jpilchik@contractor.usgs.gov_USGS     NA 06:20       NA    Pool    Right
6 jpilchik@contractor.usgs.gov_USGS     NA 06:21       NA    Pool    Right
  substrate cover          shade Notes amthID undhID dryuID
1      Rock    NA  Mostly shaded           NA     NA     55
2       Mud    NA  Mostly shaded           NA     NA     16
3       Mud    NA  Mostly shaded           NA     NA     53
4       Mud    NA Lightly shaded           NA     NA     22
5      Rock    NA  Mostly shaded           NA     NA     21
6      Rock    NA  Mostly shaded           NA     NA     25
                habitatExtra signal substrateExtra       date         x
1               Woody_debris     NA             NA 2024-06-25 -72.50451
2               Woody_debris     NA             NA 2024-06-25 -72.50455
3               Woody_debris     NA             NA 2024-06-25 -72.50451
4   Root_bundle,Woody_debris     NA             NA 2024-06-25 -72.50445
5 Woody_debris,Undercut_bank     NA             NA 2024-06-25 -72.50506
6 Undercut_bank,Woody_debris     NA             NA 2024-06-25 -72.50507
         y            dateTime shift
1 42.66767 2024-06-25 05:59:00   day
2 42.66774 2024-06-25 06:02:00   day
3 42.66761 2024-06-25 06:07:00   day
4 42.66767 2024-06-25 06:11:00   day
5 42.66704 2024-06-25 06:20:00   day
6 42.66704 2024-06-25 06:21:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new fish survey csv</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_survey_week3, <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fishSurvey3.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey data</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>fish_survey_week4 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 4.csv"</span>)</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>fish_survey_week4<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(fish_survey_week4<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>fish_survey_week4<span class="sc">$</span>dateTime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(fish_survey_week4<span class="sc">$</span>date, </span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>                                                 fish_survey_week4<span class="sc">$</span>time), </span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>)</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 3:00 EST to 9:00 EST</span></span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>fish_survey_week4 <span class="ot">&lt;-</span> fish_survey_week4 <span class="sc">%&gt;%</span></span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime) <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime) <span class="sc">&lt;</span> <span class="dv">10</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb49-20"><a href="#cb49-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb49-21"><a href="#cb49-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb49-22"><a href="#cb49-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-23"><a href="#cb49-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb49-24"><a href="#cb49-24" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_survey_week4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1      732 ee800694-c1c8-4a3b-86b1-af3afb8ee18d 6/30/2024 2:30:32 PM
2      733 7c526efd-64a2-4bbf-a10d-3beb9e5f35e0 6/30/2024 2:30:42 PM
3      734 8c935231-1d8b-4c99-bcc4-7bca77d37945 6/30/2024 2:30:55 PM
4      735 c094b7d7-a650-41eb-893f-59b0d7fae278 6/30/2024 2:31:09 PM
5      736 41fc1d32-bfe3-4196-b284-f7cf5b9ad2ac 6/30/2024 2:31:21 PM
6      737 f38f6884-dab6-4b42-8856-cf560d793cfc 6/30/2024 2:33:37 PM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 8/30/2024 2:19:27 PM
2 jpilchik@contractor.usgs.gov_USGS 8/30/2024 2:19:45 PM
3 jpilchik@contractor.usgs.gov_USGS 8/30/2024 2:19:52 PM
4 jpilchik@contractor.usgs.gov_USGS 8/30/2024 2:19:57 PM
5 jpilchik@contractor.usgs.gov_USGS 8/30/2024 2:20:05 PM
6 jpilchik@contractor.usgs.gov_USGS 8/30/2024 2:20:08 PM
                             Editor dckyID  time location habitat position
1 jpilchik@contractor.usgs.gov_USGS     NA 04:39       NA    Pool     Left
2 jpilchik@contractor.usgs.gov_USGS     NA 04:42       NA    Pool    Right
3 jpilchik@contractor.usgs.gov_USGS     NA 04:43       NA    Pool    Right
4 jpilchik@contractor.usgs.gov_USGS     NA 04:50       NA    Pool    Right
5 jpilchik@contractor.usgs.gov_USGS     NA 04:51       NA    Pool    Right
6 jpilchik@contractor.usgs.gov_USGS     NA 04:51       NA    Pool    Right
  substrate cover         shade Notes amthID undhID dryuID
1        NA    NA         Night           NA     NA     22
2        NA    NA  Fully shaded           NA     NA     16
3        NA    NA  Fully shaded           NA     NA     55
4        NA    NA Mostly shaded           NA     NA     21
5        NA    NA  Fully shaded           NA     NA     25
6        NA    NA  Fully shaded           NA     NA     24
                habitatExtra signal substrateExtra       date         x
1                Root_bundle     NA       Rock,Mud 2024-06-30 -72.50457
2               Woody_debris     NA            Mud 2024-06-30 -72.50448
3               Woody_debris     NA            Mud 2024-06-30 -72.50453
4 Woody_debris,Undercut_bank     NA            Mud 2024-06-30 -72.50514
5 Undercut_bank,Woody_debris     NA            Mud 2024-06-30 -72.50509
6 Undercut_bank,Woody_debris     NA            Mud 2024-06-30 -72.50508
         y            dateTime shift
1 42.66769 2024-06-30 04:39:00   day
2 42.66760 2024-06-30 04:42:00   day
3 42.66762 2024-06-30 04:43:00   day
4 42.66698 2024-06-30 04:50:00   day
5 42.66699 2024-06-30 04:51:00   day
6 42.66702 2024-06-30 04:51:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new fish survey csv</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_survey_week4, <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fishSurvey4.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey data</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>fish_survey_week5 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 5.csv"</span>)</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>fish_survey_week5<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(fish_survey_week5<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>fish_survey_week5<span class="sc">$</span>dateTime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(fish_survey_week5<span class="sc">$</span>date, </span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>                                                 fish_survey_week5<span class="sc">$</span>time), </span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>)</span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>fish_survey_week5 <span class="ot">&lt;-</span> fish_survey_week5 <span class="sc">%&gt;%</span></span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb52-18"><a href="#cb52-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime) <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime) <span class="sc">&lt;</span> <span class="dv">14</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb52-19"><a href="#cb52-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb52-20"><a href="#cb52-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb52-21"><a href="#cb52-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb52-22"><a href="#cb52-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-23"><a href="#cb52-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb52-24"><a href="#cb52-24" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_survey_week5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID        CreationDate
1      992 1866894c-536f-4b75-b0e5-8ce536b1b525 7/9/2024 9:02:05 PM
2      993 ff14c15a-ea7e-4852-bbb3-40d6c56f4aa8 7/9/2024 9:02:27 PM
3      994 76f66dbb-c637-4eec-9e6e-979ce0abd679 7/9/2024 9:02:40 PM
4      995 0117651c-d940-4b69-a695-a2d9af2b802a 7/9/2024 9:02:53 PM
5      996 016e5763-108f-43a3-b375-d897498f96ef 7/9/2024 9:03:06 PM
6      997 481842cb-1df5-4af5-baf9-90904594d7df 7/9/2024 9:03:25 PM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 8/30/2024 2:49:30 PM
2 jpilchik@contractor.usgs.gov_USGS 8/30/2024 2:49:50 PM
3 jpilchik@contractor.usgs.gov_USGS 8/30/2024 2:50:01 PM
4 jpilchik@contractor.usgs.gov_USGS 8/30/2024 2:50:08 PM
5 jpilchik@contractor.usgs.gov_USGS 8/30/2024 2:52:14 PM
6 jpilchik@contractor.usgs.gov_USGS 8/30/2024 2:52:09 PM
                             Editor dckyID  time location habitat position
1 jpilchik@contractor.usgs.gov_USGS     NA 07:30       NA  Riffle   Center
2 jpilchik@contractor.usgs.gov_USGS     NA 07:49       NA  Riffle         
3 jpilchik@contractor.usgs.gov_USGS     NA 07:57       NA  Riffle   Center
4 jpilchik@contractor.usgs.gov_USGS     NA 08:08       NA  Riffle    Right
5 jpilchik@contractor.usgs.gov_USGS     NA 08:18       NA    Pool   Center
6 jpilchik@contractor.usgs.gov_USGS     NA 08:25       NA  Riffle   Center
  substrate cover         shade
1        NA    NA  Fully shaded
2        NA    NA Mostly shaded
3        NA    NA              
4        NA    NA Mostly shaded
5        NA    NA Mostly shaded
6        NA    NA Mostly shaded
                                               Notes amthID undhID dryuID
1                                                        NA     41     NA
2                                                        NA     40     NA
3                                                        NA     34     NA
4                                                        NA     33     NA
5 Moved up from where we thought it might have died.     NA     36     NA
6                                                        NA     27     NA
   habitatExtra signal   substrateExtra       date         x        y
1                   NA             Rock 2024-07-09 -72.32447 42.44488
2  Woody_debris     NA      Rock,Pebble 2024-07-09 -72.32513 42.44510
3                   NA             Rock 2024-07-09 -72.32645 42.44537
4 Undercut_bank     NA             Rock 2024-07-09 -72.32624 42.44533
5                   NA Rock,Pebble,Sand 2024-07-09 -72.32752 42.44626
6                   NA             Rock 2024-07-09 -72.32780 42.44521
             dateTime shift
1 2024-07-09 07:30:00   day
2 2024-07-09 07:49:00   day
3 2024-07-09 07:57:00   day
4 2024-07-09 08:08:00   day
5 2024-07-09 08:18:00   day
6 2024-07-09 08:25:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new fish survey csv</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_survey_week5, <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fishSurvey5.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey data</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>fish_survey_week6 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 6.csv"</span>)</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>fish_survey_week6<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(fish_survey_week6<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>fish_survey_week6<span class="sc">$</span>dateTime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(fish_survey_week6<span class="sc">$</span>date, </span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>                                                 fish_survey_week6<span class="sc">$</span>time), </span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>)</span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 3:00 EST to 9:00 EST</span></span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a>fish_survey_week6 <span class="ot">&lt;-</span> fish_survey_week6 <span class="sc">%&gt;%</span></span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime) <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime) <span class="sc">&lt;</span> <span class="dv">10</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-23"><a href="#cb55-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb55-24"><a href="#cb55-24" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_survey_week6)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1     1212 439f0847-2e86-4422-8f9a-48ab5a182eb4 7/16/2024 2:48:01 PM
2     1213 7783a0c3-7f49-46f6-ac2f-c1921e3a91ee 7/16/2024 2:48:40 PM
3     1214 185d4b7c-32bb-4623-a702-721213b76dd1 7/16/2024 2:48:51 PM
4     1215 f2cc6831-e71a-4cc8-8994-dbbddc6271fe 7/16/2024 2:49:27 PM
5     1216 15b750cb-30d8-4b84-9d28-0e14f7de132e 7/16/2024 2:51:06 PM
6     1217 8d5e63b8-6507-45d1-8530-e3a745cf7bf5 7/16/2024 2:53:14 PM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 8/30/2024 3:27:34 PM
2 jpilchik@contractor.usgs.gov_USGS 8/30/2024 3:27:40 PM
3 jpilchik@contractor.usgs.gov_USGS 8/30/2024 3:27:55 PM
4 jpilchik@contractor.usgs.gov_USGS 8/30/2024 3:28:02 PM
5 jpilchik@contractor.usgs.gov_USGS 8/30/2024 3:34:15 PM
6 jpilchik@contractor.usgs.gov_USGS 8/30/2024 3:34:05 PM
                             Editor dckyID  time location habitat position
1 jpilchik@contractor.usgs.gov_USGS     31 03:49       NA  Riffle   Center
2 jpilchik@contractor.usgs.gov_USGS     28 03:58       NA    Pool   Center
3 jpilchik@contractor.usgs.gov_USGS     26 04:04       NA  Riffle   Center
4 jpilchik@contractor.usgs.gov_USGS     37 04:05       NA  Riffle   Center
5 jpilchik@contractor.usgs.gov_USGS     31 05:17       NA  Riffle   Center
6 jpilchik@contractor.usgs.gov_USGS     28 05:21       NA    Pool   Center
  substrate cover        shade Notes amthID undhID dryuID habitatExtra signal
1        NA    NA        Night           NA     NA     NA                  NA
2        NA    NA        Night           NA     NA     NA                  NA
3        NA    NA        Night           NA     NA     NA                  NA
4        NA    NA Fully shaded           NA     NA     NA                  NA
5        NA    NA Fully shaded           NA     NA     NA                  NA
6        NA    NA Fully shaded           NA     NA     NA                  NA
    substrateExtra       date         x        y            dateTime shift
1             Rock 2024-07-16 -72.37121 42.44408 2024-07-16 03:49:00   day
2         Sand,Mud 2024-07-16 -72.37056 42.44364 2024-07-16 03:58:00   day
3             Rock 2024-07-16 -72.37030 42.44345 2024-07-16 04:04:00   day
4             Rock 2024-07-16 -72.37018 42.44342 2024-07-16 04:05:00   day
5        Rock,Sand 2024-07-16 -72.37132 42.44393 2024-07-16 05:17:00   day
6 Rock,Pebble,Sand 2024-07-16 -72.37059 42.44357 2024-07-16 05:21:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new fish survey csv</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_survey_week6, <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fishSurvey6.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey data</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>fish_survey_week7 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 7.csv"</span>)</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>fish_survey_week7<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(fish_survey_week7<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>fish_survey_week7<span class="sc">$</span>dateTime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(fish_survey_week7<span class="sc">$</span>date, </span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>                                                 fish_survey_week7<span class="sc">$</span>time), </span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>)</span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb58-14"><a href="#cb58-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb58-15"><a href="#cb58-15" aria-hidden="true" tabindex="-1"></a>fish_survey_week7 <span class="ot">&lt;-</span> fish_survey_week7 <span class="sc">%&gt;%</span></span>
<span id="cb58-16"><a href="#cb58-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb58-17"><a href="#cb58-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb58-18"><a href="#cb58-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime) <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime) <span class="sc">&lt;</span> <span class="dv">14</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb58-19"><a href="#cb58-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb58-20"><a href="#cb58-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb58-21"><a href="#cb58-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb58-22"><a href="#cb58-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-23"><a href="#cb58-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb58-24"><a href="#cb58-24" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_survey_week7)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1     1437 f507a07d-bd5d-45ef-a627-b616a46f41cb 7/23/2024 9:37:31 PM
2     1438 27daf1f4-76e8-41be-839f-5d3acb7af6d4 7/23/2024 9:37:40 PM
3     1439 73f2f0aa-663a-4e52-a574-570960128ca4 7/23/2024 9:37:52 PM
4     1440 f9c9dbd5-8ed6-4fb9-9b7e-935f197b14a2 7/23/2024 9:38:01 PM
5     1441 e9ccf897-54d0-4aa0-abbb-13ede4b69ead 7/23/2024 9:38:11 PM
6     1442 cc32f645-8242-4a61-b90c-3e8aa387ba2f 7/23/2024 9:41:19 PM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 7/23/2024 9:37:31 PM
2 jpilchik@contractor.usgs.gov_USGS 7/23/2024 9:37:40 PM
3 jpilchik@contractor.usgs.gov_USGS 7/23/2024 9:37:52 PM
4 jpilchik@contractor.usgs.gov_USGS 7/23/2024 9:38:01 PM
5 jpilchik@contractor.usgs.gov_USGS 7/23/2024 9:38:11 PM
6 jpilchik@contractor.usgs.gov_USGS 7/23/2024 9:41:19 PM
                             Editor dckyID  time location habitat position
1 jpilchik@contractor.usgs.gov_USGS     NA 07:28       NA    Pool    Right
2 jpilchik@contractor.usgs.gov_USGS     NA 07:56       NA                 
3 jpilchik@contractor.usgs.gov_USGS     NA 08:07       NA  Riffle     Left
4 jpilchik@contractor.usgs.gov_USGS     NA 08:44       NA    Pool     Left
5 jpilchik@contractor.usgs.gov_USGS     NA 08:52       NA    Pool    Right
6 jpilchik@contractor.usgs.gov_USGS     NA 09:06       NA    Pool         
  substrate cover         shade                                      Notes
1        NA    NA Mostly shaded                                           
2        NA    NA                                                     Dead
3        NA    NA Mostly shaded Very shallow water. Can’t see fish or tag.
4        NA    NA Mostly shaded                                           
5        NA    NA  Fully shaded                          Up under cutback.
6        NA    NA Mostly shaded                              Dead have tag
  amthID undhID dryuID               habitatExtra signal substrateExtra
1     NA     NA   39.1               Woody_debris     NA      Rock,Sand
2     NA     NA   46.1                                NA               
3     NA     NA   29.1                                NA               
4     NA     NA   30.1               Woody_debris     NA            Mud
5     NA     NA   16.0 Woody_debris,Undercut_bank     NA       Mud,Sand
6     NA     NA   55.0               Woody_debris     NA      Rock,Sand
        date         x        y            dateTime shift
1 2024-07-23 -72.50687 42.66812 2024-07-23 07:28:00   day
2 2024-07-23 -72.50700 42.66827 2024-07-23 07:56:00   day
3 2024-07-23 -72.50598 42.66837 2024-07-23 08:07:00   day
4 2024-07-23 -72.50495 42.66817 2024-07-23 08:44:00   day
5 2024-07-23 -72.50460 42.66775 2024-07-23 08:52:00   day
6 2024-07-23 -72.50408 42.66603 2024-07-23 09:06:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new fish survey csv</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_survey_week7, <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fishSurvey7.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey data</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>fish_survey_week8 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 8.csv"</span>)</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>fish_survey_week8<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(fish_survey_week8<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>fish_survey_week8<span class="sc">$</span>dateTime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(fish_survey_week8<span class="sc">$</span>date, </span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a>                                                 fish_survey_week8<span class="sc">$</span>time), </span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>)</span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 3:30 EST to 9:30 EST</span></span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true" tabindex="-1"></a>fish_survey_week8 <span class="ot">&lt;-</span> fish_survey_week8 <span class="sc">%&gt;%</span></span>
<span id="cb61-16"><a href="#cb61-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb61-17"><a href="#cb61-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb61-18"><a href="#cb61-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime) <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime) <span class="sc">&lt;</span> <span class="dv">11</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb61-19"><a href="#cb61-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb61-20"><a href="#cb61-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb61-21"><a href="#cb61-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb61-22"><a href="#cb61-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-23"><a href="#cb61-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb61-24"><a href="#cb61-24" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_survey_week8)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1     1668 e6f4c6ce-9cfc-4b76-b760-2b53014e29d4 7/30/2024 2:43:39 PM
2     1669 8a320870-da39-498d-9ef1-9fe535798efd 7/30/2024 2:43:43 PM
3     1670 ee332466-79ac-4a50-ab15-caf4b6ed514f 7/30/2024 2:43:47 PM
4     1671 8fc4d493-8287-4c6c-81c2-52f953e81447 7/30/2024 2:43:50 PM
5     1672 b1bfebff-03af-4762-826a-559e2e198497 7/30/2024 2:43:54 PM
6     1673 78b11090-9466-403f-8435-34c832161513 7/30/2024 2:43:57 PM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 7/30/2024 2:43:39 PM
2 jpilchik@contractor.usgs.gov_USGS 7/30/2024 2:43:43 PM
3 jpilchik@contractor.usgs.gov_USGS 7/30/2024 2:43:47 PM
4 jpilchik@contractor.usgs.gov_USGS 7/30/2024 2:43:50 PM
5 jpilchik@contractor.usgs.gov_USGS 7/30/2024 2:43:54 PM
6 jpilchik@contractor.usgs.gov_USGS 7/30/2024 2:43:57 PM
                             Editor dckyID  time location habitat position
1 jpilchik@contractor.usgs.gov_USGS     31 04:07       NA  Riffle    Right
2 jpilchik@contractor.usgs.gov_USGS     26 04:15       NA  Riffle   Center
3 jpilchik@contractor.usgs.gov_USGS     37 04:16       NA  Riffle   Center
4 jpilchik@contractor.usgs.gov_USGS     38 04:38       NA     Run    Right
5 jpilchik@contractor.usgs.gov_USGS     32 04:42       NA    Pool     Left
6 jpilchik@contractor.usgs.gov_USGS     38 05:25       NA  Riffle     Left
  substrate cover          shade
1        NA    NA          Night
2        NA    NA          Night
3        NA    NA          Night
4        NA    NA          Night
5        NA    NA          Night
6        NA    NA Lightly shaded
                                                   Notes amthID undhID dryuID
1                                                            NA     NA     NA
2                                                            NA     NA     NA
3                                                            NA     NA     NA
4                                                            NA     NA     NA
5 Dead.found on river left side of pool buried n gravel.     NA     NA     NA
6                                           May be dead      NA     NA     NA
  habitatExtra signal substrateExtra       date         x        y
1                  NA    Pebble,Rock 2024-07-30 -72.37116 42.44418
2                  NA    Rock,Pebble 2024-07-30 -72.37034 42.44352
3                  NA    Rock,Pebble 2024-07-30 -72.37032 42.44350
4                  NA    Rock,Pebble 2024-07-30 -72.37335 42.44441
5                  NA         Pebble 2024-07-30 -72.37354 42.44406
6                  NA    Rock,Pebble 2024-07-30 -72.37340 42.44449
             dateTime shift
1 2024-07-30 04:07:00   day
2 2024-07-30 04:15:00   day
3 2024-07-30 04:16:00   day
4 2024-07-30 04:38:00   day
5 2024-07-30 04:42:00   day
6 2024-07-30 05:25:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new fish survey csv</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_survey_week8, <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fishSurvey8.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey data</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>fish_survey_week9 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 9.csv"</span>)</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>fish_survey_week9<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(fish_survey_week9<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>fish_survey_week9<span class="sc">$</span>dateTime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(fish_survey_week9<span class="sc">$</span>date, </span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a>                                                 fish_survey_week9<span class="sc">$</span>time), </span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>)</span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true" tabindex="-1"></a>fish_survey_week9 <span class="ot">&lt;-</span> fish_survey_week9 <span class="sc">%&gt;%</span></span>
<span id="cb64-16"><a href="#cb64-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb64-17"><a href="#cb64-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb64-18"><a href="#cb64-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime) <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime) <span class="sc">&lt;</span> <span class="dv">14</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb64-19"><a href="#cb64-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb64-20"><a href="#cb64-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb64-21"><a href="#cb64-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb64-22"><a href="#cb64-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-23"><a href="#cb64-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb64-24"><a href="#cb64-24" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_survey_week9)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID        CreationDate
1     1819 665d4573-6b34-4616-823f-7c93dff46d14 8/6/2024 6:25:20 PM
2     1820 243151b8-490c-47bd-a3e8-a0ed499da68a 8/6/2024 6:25:27 PM
3     1821 9665a799-cf88-4052-95e7-6ba5854624af 8/6/2024 6:25:34 PM
4     1822 9896c367-d8a4-495c-af25-2081e9cf2a3a 8/6/2024 6:25:41 PM
5     1823 c446f6d6-1979-4f2c-ab40-00ce3e0acc1a 8/6/2024 6:25:52 PM
6     1824 6c416872-806d-4ea5-8183-8c98a216a73a 8/6/2024 6:25:59 PM
                            Creator            EditDate
1 jpilchik@contractor.usgs.gov_USGS 8/6/2024 6:25:20 PM
2 jpilchik@contractor.usgs.gov_USGS 8/6/2024 6:25:27 PM
3 jpilchik@contractor.usgs.gov_USGS 8/6/2024 6:25:34 PM
4 jpilchik@contractor.usgs.gov_USGS 8/6/2024 6:25:41 PM
5 jpilchik@contractor.usgs.gov_USGS 8/6/2024 6:25:52 PM
6 jpilchik@contractor.usgs.gov_USGS 8/6/2024 6:25:59 PM
                             Editor dckyID  time location habitat position
1 jpilchik@contractor.usgs.gov_USGS     NA 07:41       NA  Riffle   Center
2 jpilchik@contractor.usgs.gov_USGS     NA 07:47       NA    Pool   Center
3 jpilchik@contractor.usgs.gov_USGS     NA 07:53       NA    Pool   Center
4 jpilchik@contractor.usgs.gov_USGS     NA 08:02       NA    Pool   Center
5 jpilchik@contractor.usgs.gov_USGS     NA 08:38       NA    Pool   Center
6 jpilchik@contractor.usgs.gov_USGS     NA 08:49       NA    Pool   Center
  substrate cover         shade                 Notes amthID undhID dryuID
1        NA    NA Mostly shaded Same so as last week.     NA     33     NA
2        NA    NA Mostly shaded                           NA     45     NA
3        NA    NA Mostly shaded                           NA     44     NA
4        NA    NA Mostly shaded                           NA     35     NA
5        NA    NA  Fully shaded                           NA     35     NA
6        NA    NA  Fully shaded                           NA     44     NA
  habitatExtra signal    substrateExtra       date         x        y
1 Woody_debris     NA       Pebble,Rock 2024-08-06 -72.32640 42.44531
2                  NA    Pebble,Granule 2024-08-06 -72.32773 42.44515
3 Woody_debris     NA         Rock,Sand 2024-08-06 -72.32803 42.44488
4                  NA              Rock 2024-08-06 -72.32972 42.44363
5                  NA      Boulder,Sand 2024-08-06 -72.32961 42.44362
6 Woody_debris     NA Rock,Granule,Sand 2024-08-06 -72.32778 42.44478
             dateTime shift
1 2024-08-06 07:41:00   day
2 2024-08-06 07:47:00   day
3 2024-08-06 07:53:00   day
4 2024-08-06 08:02:00   day
5 2024-08-06 08:38:00   day
6 2024-08-06 08:49:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new stream survey csv</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_survey_week9, <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fishSurvey9.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey data</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>fish_survey_week10 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 10.csv"</span>)</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>fish_survey_week10<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(fish_survey_week10<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>fish_survey_week10<span class="sc">$</span>dateTime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(fish_survey_week10<span class="sc">$</span>date, </span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>                                                 fish_survey_week10<span class="sc">$</span>time), </span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>)</span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column based on the time ranges</span></span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Day shifts were from 4:00 EST to 10:00 EST</span></span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a>fish_survey_week10 <span class="ot">&lt;-</span> fish_survey_week10 <span class="sc">%&gt;%</span></span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">shift =</span> <span class="fu">case_when</span>(</span>
<span id="cb67-18"><a href="#cb67-18" aria-hidden="true" tabindex="-1"></a>        <span class="fu">hour</span>(dateTime) <span class="sc">&gt;=</span> <span class="dv">3</span> <span class="sc">&amp;</span> <span class="fu">hour</span>(dateTime) <span class="sc">&lt;</span> <span class="dv">11</span> <span class="sc">~</span> <span class="st">"day"</span>,</span>
<span id="cb67-19"><a href="#cb67-19" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"night"</span>  <span class="co"># Any other time is night shift</span></span>
<span id="cb67-20"><a href="#cb67-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb67-21"><a href="#cb67-21" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb67-22"><a href="#cb67-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-23"><a href="#cb67-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb67-24"><a href="#cb67-24" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_survey_week10)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID          CreationDate
1     1972 b72ac679-3d32-424a-bdec-33918a8b57a9 8/13/2024 12:20:52 PM
2     1973 79da97ca-1319-40b9-abcc-1b4c9bbc0d6a 8/13/2024 12:21:18 PM
3     1974 7e258e2f-2651-455e-8dcd-d12c77ee4db3 8/13/2024 12:21:42 PM
4     1975 64b7754b-39e1-4748-908f-ad939e74aec0 8/13/2024 12:21:57 PM
5     1976 d51069c6-45b1-4d05-9e57-d7f894452de7 8/13/2024 12:22:18 PM
6     1977 e1b92531-a7a3-4dd2-878a-6392228b5911 8/13/2024 12:22:33 PM
                            Creator              EditDate
1 jpilchik@contractor.usgs.gov_USGS 8/13/2024 12:20:52 PM
2 jpilchik@contractor.usgs.gov_USGS 8/13/2024 12:21:18 PM
3 jpilchik@contractor.usgs.gov_USGS 8/13/2024 12:21:42 PM
4 jpilchik@contractor.usgs.gov_USGS 8/13/2024 12:21:57 PM
5 jpilchik@contractor.usgs.gov_USGS 8/13/2024 12:22:18 PM
6 jpilchik@contractor.usgs.gov_USGS 8/13/2024 12:22:33 PM
                             Editor dckyID  time location habitat position
1 jpilchik@contractor.usgs.gov_USGS     NA 04:25       NA     Run   Center
2 jpilchik@contractor.usgs.gov_USGS     NA 04:31       NA     Run   Center
3 jpilchik@contractor.usgs.gov_USGS     NA 04:32       NA  Riffle   Center
4 jpilchik@contractor.usgs.gov_USGS     NA 04:34       NA     Run   Center
5 jpilchik@contractor.usgs.gov_USGS     NA 04:41       NA  Riffle   Center
6 jpilchik@contractor.usgs.gov_USGS     NA 05:15       NA     Run   Center
  substrate cover        shade Notes amthID undhID dryuID habitatExtra signal
1        NA    NA        Night           60     NA     NA                  NA
2        NA    NA        Night           18     NA     NA                  NA
3        NA    NA        Night           14     NA     NA                  NA
4        NA    NA        Night           20     NA     NA Woody_debris     NA
5        NA    NA        Night           19     NA     NA                  NA
6        NA    NA Fully shaded           60     NA     NA                  NA
     substrateExtra       date         x        y            dateTime shift
1         Sand,Rock 2024-08-13 -72.45838 42.38205 2024-08-13 04:25:00   day
2 Sand,Boulder,Rock 2024-08-13 -72.45979 42.38119 2024-08-13 04:31:00   day
3      Rock,Boulder 2024-08-13 -72.46000 42.38136 2024-08-13 04:32:00   day
4           Boulder 2024-08-13 -72.46033 42.38118 2024-08-13 04:34:00   day
5              Rock 2024-08-13 -72.46088 42.38150 2024-08-13 04:41:00   day
6         Sand,Rock 2024-08-13 -72.45866 42.38218 2024-08-13 05:15:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new fish survey csv</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_survey_week10, <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fishSurvey10.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey data</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>fish_survey_week11 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 11.csv"</span>)</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>fish_survey_week11<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(fish_survey_week11<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>fish_survey_week11<span class="sc">$</span>dateTime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(fish_survey_week11<span class="sc">$</span>date, </span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>                                                 fish_survey_week11<span class="sc">$</span>time), </span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>)</span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-13"><a href="#cb70-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column </span></span>
<span id="cb70-14"><a href="#cb70-14" aria-hidden="true" tabindex="-1"></a><span class="co"># All shifts in week 11 were day shifts</span></span>
<span id="cb70-15"><a href="#cb70-15" aria-hidden="true" tabindex="-1"></a>fish_survey_week11 <span class="ot">&lt;-</span> fish_survey_week11 <span class="sc">%&gt;%</span></span>
<span id="cb70-16"><a href="#cb70-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">shift =</span> <span class="st">"day"</span>)</span>
<span id="cb70-17"><a href="#cb70-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-18"><a href="#cb70-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb70-19"><a href="#cb70-19" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_survey_week11)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1     2114 dd4a5c43-d9b6-473c-b2b3-af38471d133e 8/20/2024 6:43:20 PM
2     2115 00c2ea5e-eaa1-4941-9493-1adf5bce46bc 8/20/2024 6:43:24 PM
3     2116 f0d7dc91-fe79-4891-994f-0ddfca3614d3 8/20/2024 6:43:27 PM
4     2117 a25b7934-f398-45b2-be8b-5d8ad0da1e33 8/20/2024 6:43:30 PM
5     2118 9287dd3b-9467-40ce-ba4c-c892ce58722b 8/20/2024 6:43:34 PM
6     2119 8d8801d8-ec2e-41d5-a6c5-008df12aeba8 8/20/2024 6:43:37 PM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 8/20/2024 6:43:20 PM
2 jpilchik@contractor.usgs.gov_USGS 8/20/2024 6:43:24 PM
3 jpilchik@contractor.usgs.gov_USGS 8/20/2024 6:43:27 PM
4 jpilchik@contractor.usgs.gov_USGS 8/20/2024 6:43:30 PM
5 jpilchik@contractor.usgs.gov_USGS 8/20/2024 6:43:34 PM
6 jpilchik@contractor.usgs.gov_USGS 8/21/2024 6:39:25 PM
                             Editor dckyID  time location habitat position
1 jpilchik@contractor.usgs.gov_USGS     NA 09:10       NA  Riffle   Center
2 jpilchik@contractor.usgs.gov_USGS     NA 09:39       NA  Riffle     Left
3 jpilchik@contractor.usgs.gov_USGS     NA 09:54       NA  Riffle    Right
4 jpilchik@contractor.usgs.gov_USGS     NA 10:40       NA  Riffle   Center
5 jpilchik@contractor.usgs.gov_USGS     NA 11:03       NA  Riffle     Left
6 jpilchik@contractor.usgs.gov_USGS     NA 11:41       NA     Run   Center
  substrate cover        shade             Notes amthID undhID dryuID
1        NA    NA Fully shaded                       19     NA     NA
2        NA    NA Fully shaded                       20     NA     NA
3        NA    NA Fully shaded                       14     NA     NA
4        NA    NA Fully shaded                       18     NA     NA
5        NA    NA Fully shaded                       62     NA     NA
6        NA    NA Fully shaded Recollected alive     60     NA     NA
  habitatExtra signal       substrateExtra       date         x        y
1                  NA                 Rock 2024-08-20 -72.46090 42.38157
2                  NA              Boulder 2024-08-20 -72.46016 42.38116
3                  NA            Rock,Sand 2024-08-20 -72.46000 42.38126
4                  NA Rock,Boulder,Granule 2024-08-20 -72.45993 42.38124
5 Woody_debris     NA         Boulder,Rock 2024-08-20 -72.45784 42.38062
6                  NA            Rock,Sand 2024-08-20 -72.45856 42.38206
             dateTime shift
1 2024-08-20 09:10:00   day
2 2024-08-20 09:39:00   day
3 2024-08-20 09:54:00   day
4 2024-08-20 10:40:00   day
5 2024-08-20 11:03:00   day
6 2024-08-20 11:41:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new fish survey csv</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_survey_week11, <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fishSurvey11.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the fish survey data</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>fish_survey_week12 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 12.csv"</span>)</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust date into the correct format</span></span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>fish_survey_week12<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(fish_survey_week12<span class="sc">$</span>date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the date and time into a DateTime column</span></span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>fish_survey_week12<span class="sc">$</span>dateTime <span class="ot">&lt;-</span> <span class="fu">as.POSIXct</span>(<span class="fu">paste</span>(fish_survey_week12<span class="sc">$</span>date, </span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>                                                 fish_survey_week12<span class="sc">$</span>time), </span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">format=</span><span class="st">"%Y-%m-%d %H:%M"</span>)</span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-13"><a href="#cb73-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Shift column</span></span>
<span id="cb73-14"><a href="#cb73-14" aria-hidden="true" tabindex="-1"></a><span class="co"># All shifts in week 12 were day shifts</span></span>
<span id="cb73-15"><a href="#cb73-15" aria-hidden="true" tabindex="-1"></a>fish_survey_week12 <span class="ot">&lt;-</span> fish_survey_week12 <span class="sc">%&gt;%</span></span>
<span id="cb73-16"><a href="#cb73-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">shift =</span> <span class="st">"day"</span>)</span>
<span id="cb73-17"><a href="#cb73-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-18"><a href="#cb73-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows to check the result</span></span>
<span id="cb73-19"><a href="#cb73-19" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(fish_survey_week12)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  ObjectID                             GlobalID         CreationDate
1     2138 c005d5be-a2a2-4620-b78f-2a8dcd8b8a20 8/27/2024 5:53:28 PM
2     2139 5a9197f1-6f45-4c15-be8a-83f520a60fd4 8/27/2024 5:54:59 PM
3     2140 c21e0b19-3ed1-4961-8f16-f1f58cf3949c 8/27/2024 5:55:06 PM
4     2141 fdfdec83-b7fe-4c6b-b9ed-f678e7700058 8/29/2024 5:35:15 PM
                            Creator             EditDate
1 jpilchik@contractor.usgs.gov_USGS 8/29/2024 6:57:37 PM
2 jpilchik@contractor.usgs.gov_USGS 8/29/2024 6:57:27 PM
3 jpilchik@contractor.usgs.gov_USGS 8/29/2024 6:57:54 PM
4 jpilchik@contractor.usgs.gov_USGS 8/30/2024 3:59:02 PM
                             Editor dckyID  time location habitat position
1 jpilchik@contractor.usgs.gov_USGS     NA 09:41       NA    Pool    Right
2 jpilchik@contractor.usgs.gov_USGS     NA 10:32       NA    Pool   Center
3 jpilchik@contractor.usgs.gov_USGS     NA 12:19       NA    Pool   Center
4 jpilchik@contractor.usgs.gov_USGS     NA 11:11       NA     Run   Center
  substrate cover         shade
1        NA    NA  Fully shaded
2        NA    NA Mostly shaded
3        NA    NA Mostly shaded
4        NA    NA  Fully shaded
                                                                                                         Notes
1                                                                             Unsuccessful at finding shed tag
2                                                                             Unsuccessful at finding shed tag
3                        Unsuccessful at finding shed tag. It is most likely located in a hole under this rock
4 Fish found with scarring at Dickey that indicates it was potentially tagged. Unknown which fish it could be.
  amthID undhID dryuID habitatExtra signal              substrateExtra
1     NA     45     NA           NA     NA                   Sand,Rock
2     NA     44     NA           NA     NA                   Sand,Rock
3     NA     35     NA           NA     NA Boulder,Rock,Granule,Pebble
4     NA     NA     NA           NA     NA                 Rock,Pebble
        date         x        y            dateTime shift
1 2024-08-27 -72.32730 42.44535 2024-08-27 09:41:00   day
2 2024-08-27 -72.32805 42.44492 2024-08-27 10:32:00   day
3 2024-08-27 -72.32929 42.44359 2024-08-27 12:19:00   day
4 2024-08-29 -72.36866 42.44182 2024-08-29 11:11:00   day</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write new fish survey csv</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(fish_survey_week12, <span class="at">file =</span> <span class="st">"C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fishSurvey12.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define file names</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>fish_file_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"fishSurvey1.csv"</span>, <span class="st">"fishSurvey2.csv"</span>, <span class="st">"fishSurvey3.csv"</span>, <span class="st">"fishSurvey4.csv"</span>, <span class="st">"fishSurvey5.csv"</span>, <span class="st">"fishSurvey6.csv"</span>, <span class="st">"fishSurvey7.csv"</span>, <span class="st">"fishSurvey8.csv"</span>, <span class="st">"fishSurvey9.csv"</span>, <span class="st">"fishSurvey10.csv"</span>, <span class="st">"fishSurvey11.csv"</span>, <span class="st">"fishSurvey12.csv"</span>)</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a lookup table for stream names</span></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>stream_name_lookup <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">Abbreviation =</span> <span class="fu">c</span>(<span class="st">"dcky"</span>, <span class="st">"amth"</span>, <span class="st">"undh"</span>, <span class="st">"dryu"</span>),  <span class="co"># List all abbreviations</span></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">FullName =</span> <span class="fu">c</span>(<span class="st">"DICKEY"</span>, <span class="st">"AMETHYST"</span>, <span class="st">"UNDERHILL"</span>, <span class="st">"DRY UPPER"</span>)  <span class="co"># Corresponding full names</span></span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an empty list to store the processed datasets</span></span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a>processed_fish_data_list <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-13"><a href="#cb76-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through each fish survey file</span></span>
<span id="cb76-14"><a href="#cb76-14" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (file_name <span class="cf">in</span> fish_file_names) {</span>
<span id="cb76-15"><a href="#cb76-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read in the fish survey data</span></span>
<span id="cb76-16"><a href="#cb76-16" aria-hidden="true" tabindex="-1"></a>  rawTrackingData <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(file_name)</span>
<span id="cb76-17"><a href="#cb76-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb76-18"><a href="#cb76-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Step 1: Process the data</span></span>
<span id="cb76-19"><a href="#cb76-19" aria-hidden="true" tabindex="-1"></a>  trackingData <span class="ot">&lt;-</span> rawTrackingData <span class="sc">%&gt;%</span></span>
<span id="cb76-20"><a href="#cb76-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb76-21"><a href="#cb76-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 2: Select specific columns</span></span>
<span id="cb76-22"><a href="#cb76-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(dckyID, habitat, position, substrate, shade, Notes, amthID, undhID, </span>
<span id="cb76-23"><a href="#cb76-23" aria-hidden="true" tabindex="-1"></a>           dryuID, habitatExtra, substrateExtra, signal, x, y, dateTime, shift) <span class="sc">%&gt;%</span></span>
<span id="cb76-24"><a href="#cb76-24" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb76-25"><a href="#cb76-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 3: Pivot longer to create 'Brook' and 'tagID' columns</span></span>
<span id="cb76-26"><a href="#cb76-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(</span>
<span id="cb76-27"><a href="#cb76-27" aria-hidden="true" tabindex="-1"></a>      <span class="at">cols =</span> <span class="fu">c</span>(dckyID, amthID, undhID, dryuID),  <span class="co"># Columns to combine</span></span>
<span id="cb76-28"><a href="#cb76-28" aria-hidden="true" tabindex="-1"></a>      <span class="at">names_to =</span> <span class="st">"river"</span>,                        <span class="co"># Create a new column 'Brook' from column names</span></span>
<span id="cb76-29"><a href="#cb76-29" aria-hidden="true" tabindex="-1"></a>      <span class="at">values_to =</span> <span class="st">"tagID"</span>,                      <span class="co"># Combine the tag IDs into a new column 'tagID'</span></span>
<span id="cb76-30"><a href="#cb76-30" aria-hidden="true" tabindex="-1"></a>      <span class="at">values_drop_na =</span> <span class="cn">FALSE</span>                    <span class="co"># Ensure NA values are retained</span></span>
<span id="cb76-31"><a href="#cb76-31" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb76-32"><a href="#cb76-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb76-33"><a href="#cb76-33" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step _: Filter to keep all rows, even those with NA values</span></span>
<span id="cb76-34"><a href="#cb76-34" aria-hidden="true" tabindex="-1"></a>    <span class="co">#filter(!is.na(tagID) | is.na(tagID)) %&gt;%</span></span>
<span id="cb76-35"><a href="#cb76-35" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb76-36"><a href="#cb76-36" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 4: Create a new 'BrookName' column and extract the brook name and ID number</span></span>
<span id="cb76-37"><a href="#cb76-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb76-38"><a href="#cb76-38" aria-hidden="true" tabindex="-1"></a>      <span class="at">riverName =</span> river,                         <span class="co"># Copy the brook name</span></span>
<span id="cb76-39"><a href="#cb76-39" aria-hidden="true" tabindex="-1"></a>      <span class="co">#tagID = as.numeric(gsub("[^0-9]", "", tagID)),  # Extract the numeric part as tagID</span></span>
<span id="cb76-40"><a href="#cb76-40" aria-hidden="true" tabindex="-1"></a>      <span class="at">tagID =</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(tagID), <span class="cn">NA</span>, <span class="fu">as.numeric</span>(tagID)),  <span class="co"># Convert tagID to numeric, keep NA values</span></span>
<span id="cb76-41"><a href="#cb76-41" aria-hidden="true" tabindex="-1"></a>      <span class="at">river =</span> <span class="fu">gsub</span>(<span class="st">"ID"</span>, <span class="st">""</span>, river)              <span class="co"># Remove 'ID' to keep only the brook name</span></span>
<span id="cb76-42"><a href="#cb76-42" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb76-43"><a href="#cb76-43" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb76-44"><a href="#cb76-44" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 5: Join with the lookup table to replace abbreviations with full names</span></span>
<span id="cb76-45"><a href="#cb76-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(stream_name_lookup, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"river"</span> <span class="ot">=</span> <span class="st">"Abbreviation"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb76-46"><a href="#cb76-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb76-47"><a href="#cb76-47" aria-hidden="true" tabindex="-1"></a>      <span class="at">river =</span> <span class="fu">coalesce</span>(FullName, river)  <span class="co"># Replace Brook with FullName, if available</span></span>
<span id="cb76-48"><a href="#cb76-48" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb76-49"><a href="#cb76-49" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span>FullName) <span class="sc">%&gt;%</span>  <span class="co"># Remove the FullName column as it's no longer needed</span></span>
<span id="cb76-50"><a href="#cb76-50" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb76-51"><a href="#cb76-51" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 6: Rename columns</span></span>
<span id="cb76-52"><a href="#cb76-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(</span>
<span id="cb76-53"><a href="#cb76-53" aria-hidden="true" tabindex="-1"></a>      <span class="at">fishNotes =</span> Notes,</span>
<span id="cb76-54"><a href="#cb76-54" aria-hidden="true" tabindex="-1"></a>      <span class="at">lon =</span> x,</span>
<span id="cb76-55"><a href="#cb76-55" aria-hidden="true" tabindex="-1"></a>      <span class="at">lat =</span> y</span>
<span id="cb76-56"><a href="#cb76-56" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb76-57"><a href="#cb76-57" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb76-58"><a href="#cb76-58" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 7: Filter data to keep only rows where lat &gt; 1</span></span>
<span id="cb76-59"><a href="#cb76-59" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(lat <span class="sc">&gt;</span> <span class="dv">1</span>, <span class="sc">!</span><span class="fu">is.na</span>(tagID)) <span class="sc">%&gt;%</span></span>
<span id="cb76-60"><a href="#cb76-60" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb76-61"><a href="#cb76-61" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step _: Filter data to keep rows with lat &gt; 1 or lat is NA</span></span>
<span id="cb76-62"><a href="#cb76-62" aria-hidden="true" tabindex="-1"></a>    <span class="co">#filter(lat &gt; 1 | is.na(lat)) %&gt;%</span></span>
<span id="cb76-63"><a href="#cb76-63" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb76-64"><a href="#cb76-64" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 8: Remove unnecessary columns</span></span>
<span id="cb76-65"><a href="#cb76-65" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(riverName)) <span class="sc">%&gt;%</span></span>
<span id="cb76-66"><a href="#cb76-66" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb76-67"><a href="#cb76-67" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step _: (Optional) Join with a tagBrook dataset if necessary</span></span>
<span id="cb76-68"><a href="#cb76-68" aria-hidden="true" tabindex="-1"></a>    <span class="co">#left_join(tagBrook, by = "tagID") %&gt;%</span></span>
<span id="cb76-69"><a href="#cb76-69" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb76-70"><a href="#cb76-70" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Step 9: Add a source column</span></span>
<span id="cb76-71"><a href="#cb76-71" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">source =</span> <span class="st">"iPad"</span>)</span>
<span id="cb76-72"><a href="#cb76-72" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb76-73"><a href="#cb76-73" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Store the processed data in the list</span></span>
<span id="cb76-74"><a href="#cb76-74" aria-hidden="true" tabindex="-1"></a>  processed_fish_data_list[[file_name]] <span class="ot">&lt;-</span> trackingData</span>
<span id="cb76-75"><a href="#cb76-75" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb76-76"><a href="#cb76-76" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Overwrite the original file with the processed data</span></span>
<span id="cb76-77"><a href="#cb76-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(trackingData, file_name, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb76-78"><a href="#cb76-78" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb76-79"><a href="#cb76-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-80"><a href="#cb76-80" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the first few rows of each processed dataset</span></span>
<span id="cb76-81"><a href="#cb76-81" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(processed_fish_data_list)) {</span>
<span id="cb76-82"><a href="#cb76-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Data for"</span>, fish_file_names[i], <span class="st">":</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb76-83"><a href="#cb76-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">head</span>(processed_fish_data_list[[i]]))</span>
<span id="cb76-84"><a href="#cb76-84" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Data for fishSurvey1.csv :
# A tibble: 6 × 15
  habitat position substrate shade  fishNotes habitatExtra substrateExtra signal
  &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;        &lt;lgl&gt;           &lt;int&gt;
1 Riffle  Center   Rock      Fully… ""        ""           NA                 NA
2 Riffle  Center   Rock      Fully… ""        ""           NA                 NA
3 Riffle  Center   Rock      Fully… ""        ""           NA                 NA
4 Run     Left     Pebble    Mostl… ""        ""           NA                 NA
5 Run     Left     Rock      Mostl… ""        ""           NA                 NA
6 Glide   Center   Rock      Fully… ""        ""           NA                 NA
# ℹ 7 more variables: lon &lt;dbl&gt;, lat &lt;dbl&gt;, dateTime &lt;chr&gt;, shift &lt;chr&gt;,
#   river &lt;chr&gt;, tagID &lt;dbl&gt;, source &lt;chr&gt;

Data for fishSurvey2.csv :
# A tibble: 6 × 15
  habitat position substrate shade  fishNotes habitatExtra substrateExtra signal
  &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;           &lt;int&gt;
1 Pool    Center   Rock      Mostl… ""        ""           ""                 NA
2 Run     Right    Pebble    Light… ""        ""           ""                 NA
3 Riffle  Left     Rock      Fully… ""        "Woody_debr… ""                 NA
4 Run     Right    Rock      Light… ""        "Undercut_b… ""                 NA
5 Pool    Left     Boulder   Mostl… ""        ""           ""                 NA
6 Pool    Right    Rock      Mostl… ""        ""           ""                 NA
# ℹ 7 more variables: lon &lt;dbl&gt;, lat &lt;dbl&gt;, dateTime &lt;chr&gt;, shift &lt;chr&gt;,
#   river &lt;chr&gt;, tagID &lt;dbl&gt;, source &lt;chr&gt;

Data for fishSurvey3.csv :
# A tibble: 6 × 15
  habitat position substrate shade  fishNotes habitatExtra substrateExtra signal
  &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;        &lt;lgl&gt;           &lt;int&gt;
1 Pool    Center   Rock      Mostl… ""        Woody_debris NA                 NA
2 Pool    Right    Mud       Mostl… ""        Woody_debris NA                 NA
3 Pool    Right    Mud       Mostl… ""        Woody_debris NA                 NA
4 Pool    Left     Mud       Light… ""        Root_bundle… NA                 NA
5 Pool    Right    Rock      Mostl… ""        Woody_debri… NA                 NA
6 Pool    Right    Rock      Mostl… ""        Undercut_ba… NA                 NA
# ℹ 7 more variables: lon &lt;dbl&gt;, lat &lt;dbl&gt;, dateTime &lt;chr&gt;, shift &lt;chr&gt;,
#   river &lt;chr&gt;, tagID &lt;dbl&gt;, source &lt;chr&gt;

Data for fishSurvey4.csv :
# A tibble: 6 × 15
  habitat position substrate shade  fishNotes habitatExtra substrateExtra signal
  &lt;chr&gt;   &lt;chr&gt;    &lt;lgl&gt;     &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;           &lt;int&gt;
1 Pool    Left     NA        Night  ""        Root_bundle  Rock,Mud           NA
2 Pool    Right    NA        Fully… ""        Woody_debris Mud                NA
3 Pool    Right    NA        Fully… ""        Woody_debris Mud                NA
4 Pool    Right    NA        Mostl… ""        Woody_debri… Mud                NA
5 Pool    Right    NA        Fully… ""        Undercut_ba… Mud                NA
6 Pool    Right    NA        Fully… ""        Undercut_ba… Mud                NA
# ℹ 7 more variables: lon &lt;dbl&gt;, lat &lt;dbl&gt;, dateTime &lt;chr&gt;, shift &lt;chr&gt;,
#   river &lt;chr&gt;, tagID &lt;dbl&gt;, source &lt;chr&gt;

Data for fishSurvey5.csv :
# A tibble: 6 × 15
  habitat position substrate shade  fishNotes habitatExtra substrateExtra signal
  &lt;chr&gt;   &lt;chr&gt;    &lt;lgl&gt;     &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;           &lt;int&gt;
1 Riffle  "Center" NA        "Full… ""        ""           Rock               NA
2 Riffle  ""       NA        "Most… ""        "Woody_debr… Rock,Pebble        NA
3 Riffle  "Center" NA        ""     ""        ""           Rock               NA
4 Riffle  "Right"  NA        "Most… ""        "Undercut_b… Rock               NA
5 Pool    "Center" NA        "Most… "Moved u… ""           Rock,Pebble,S…     NA
6 Riffle  "Center" NA        "Most… ""        ""           Rock               NA
# ℹ 7 more variables: lon &lt;dbl&gt;, lat &lt;dbl&gt;, dateTime &lt;chr&gt;, shift &lt;chr&gt;,
#   river &lt;chr&gt;, tagID &lt;dbl&gt;, source &lt;chr&gt;

Data for fishSurvey6.csv :
# A tibble: 6 × 15
  habitat position substrate shade  fishNotes habitatExtra substrateExtra signal
  &lt;chr&gt;   &lt;chr&gt;    &lt;lgl&gt;     &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;           &lt;int&gt;
1 Riffle  Center   NA        Night  ""        ""           Rock               NA
2 Pool    Center   NA        Night  ""        ""           Sand,Mud           NA
3 Riffle  Center   NA        Night  ""        ""           Rock               NA
4 Riffle  Center   NA        Fully… ""        ""           Rock               NA
5 Riffle  Center   NA        Fully… ""        ""           Rock,Sand          NA
6 Pool    Center   NA        Fully… ""        ""           Rock,Pebble,S…     NA
# ℹ 7 more variables: lon &lt;dbl&gt;, lat &lt;dbl&gt;, dateTime &lt;chr&gt;, shift &lt;chr&gt;,
#   river &lt;chr&gt;, tagID &lt;dbl&gt;, source &lt;chr&gt;

Data for fishSurvey7.csv :
# A tibble: 6 × 15
  habitat  position substrate shade fishNotes habitatExtra substrateExtra signal
  &lt;chr&gt;    &lt;chr&gt;    &lt;lgl&gt;     &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;           &lt;int&gt;
1 "Pool"   "Right"  NA        "Mos… ""        "Woody_debr… "Rock,Sand"        NA
2 ""       ""       NA        ""    "Dead"    ""           ""                 NA
3 "Riffle" "Left"   NA        "Mos… "Very sh… ""           ""                 NA
4 "Pool"   "Left"   NA        "Mos… ""        "Woody_debr… "Mud"              NA
5 "Pool"   "Right"  NA        "Ful… "Up unde… "Woody_debr… "Mud,Sand"         NA
6 "Pool"   ""       NA        "Mos… "Dead ha… "Woody_debr… "Rock,Sand"        NA
# ℹ 7 more variables: lon &lt;dbl&gt;, lat &lt;dbl&gt;, dateTime &lt;chr&gt;, shift &lt;chr&gt;,
#   river &lt;chr&gt;, tagID &lt;dbl&gt;, source &lt;chr&gt;

Data for fishSurvey8.csv :
# A tibble: 6 × 15
  habitat position substrate shade  fishNotes habitatExtra substrateExtra signal
  &lt;chr&gt;   &lt;chr&gt;    &lt;lgl&gt;     &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;           &lt;int&gt;
1 Riffle  Right    NA        Night  ""        ""           Pebble,Rock        NA
2 Riffle  Center   NA        Night  ""        ""           Rock,Pebble        NA
3 Riffle  Center   NA        Night  ""        ""           Rock,Pebble        NA
4 Run     Right    NA        Night  ""        ""           Rock,Pebble        NA
5 Pool    Left     NA        Night  "Dead.fo… ""           Pebble             NA
6 Riffle  Left     NA        Light… "May be … ""           Rock,Pebble        NA
# ℹ 7 more variables: lon &lt;dbl&gt;, lat &lt;dbl&gt;, dateTime &lt;chr&gt;, shift &lt;chr&gt;,
#   river &lt;chr&gt;, tagID &lt;dbl&gt;, source &lt;chr&gt;

Data for fishSurvey9.csv :
# A tibble: 6 × 15
  habitat position substrate shade  fishNotes habitatExtra substrateExtra signal
  &lt;chr&gt;   &lt;chr&gt;    &lt;lgl&gt;     &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;           &lt;int&gt;
1 Riffle  Center   NA        Mostl… "Same so… "Woody_debr… Pebble,Rock        NA
2 Pool    Center   NA        Mostl… ""        ""           Pebble,Granule     NA
3 Pool    Center   NA        Mostl… ""        "Woody_debr… Rock,Sand          NA
4 Pool    Center   NA        Mostl… ""        ""           Rock               NA
5 Pool    Center   NA        Fully… ""        ""           Boulder,Sand       NA
6 Pool    Center   NA        Fully… ""        "Woody_debr… Rock,Granule,…     NA
# ℹ 7 more variables: lon &lt;dbl&gt;, lat &lt;dbl&gt;, dateTime &lt;chr&gt;, shift &lt;chr&gt;,
#   river &lt;chr&gt;, tagID &lt;dbl&gt;, source &lt;chr&gt;

Data for fishSurvey10.csv :
# A tibble: 6 × 15
  habitat position substrate shade  fishNotes habitatExtra substrateExtra signal
  &lt;chr&gt;   &lt;chr&gt;    &lt;lgl&gt;     &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;           &lt;int&gt;
1 Run     Center   NA        Night  ""        ""           Sand,Rock          NA
2 Run     Center   NA        Night  ""        ""           Sand,Boulder,…     NA
3 Riffle  Center   NA        Night  ""        ""           Rock,Boulder       NA
4 Run     Center   NA        Night  ""        "Woody_debr… Boulder            NA
5 Riffle  Center   NA        Night  ""        ""           Rock               NA
6 Run     Center   NA        Fully… ""        ""           Sand,Rock          NA
# ℹ 7 more variables: lon &lt;dbl&gt;, lat &lt;dbl&gt;, dateTime &lt;chr&gt;, shift &lt;chr&gt;,
#   river &lt;chr&gt;, tagID &lt;dbl&gt;, source &lt;chr&gt;

Data for fishSurvey11.csv :
# A tibble: 6 × 15
  habitat position substrate shade  fishNotes habitatExtra substrateExtra signal
  &lt;chr&gt;   &lt;chr&gt;    &lt;lgl&gt;     &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;        &lt;chr&gt;          &lt;lgl&gt; 
1 Riffle  Center   NA        Fully… ""        ""           Rock           NA    
2 Riffle  Left     NA        Fully… ""        ""           Boulder        NA    
3 Riffle  Right    NA        Fully… ""        ""           Rock,Sand      NA    
4 Riffle  Center   NA        Fully… ""        ""           Rock,Boulder,… NA    
5 Riffle  Left     NA        Fully… ""        "Woody_debr… Boulder,Rock   NA    
6 Run     Center   NA        Fully… "Recolle… ""           Rock,Sand      NA    
# ℹ 7 more variables: lon &lt;dbl&gt;, lat &lt;dbl&gt;, dateTime &lt;chr&gt;, shift &lt;chr&gt;,
#   river &lt;chr&gt;, tagID &lt;dbl&gt;, source &lt;chr&gt;

Data for fishSurvey12.csv :
# A tibble: 3 × 15
  habitat position substrate shade  fishNotes habitatExtra substrateExtra signal
  &lt;chr&gt;   &lt;chr&gt;    &lt;lgl&gt;     &lt;chr&gt;  &lt;chr&gt;     &lt;lgl&gt;        &lt;chr&gt;          &lt;lgl&gt; 
1 Pool    Right    NA        Fully… Unsucces… NA           Sand,Rock      NA    
2 Pool    Center   NA        Mostl… Unsucces… NA           Sand,Rock      NA    
3 Pool    Center   NA        Mostl… Unsucces… NA           Boulder,Rock,… NA    
# ℹ 7 more variables: lon &lt;dbl&gt;, lat &lt;dbl&gt;, dateTime &lt;chr&gt;, shift &lt;chr&gt;,
#   river &lt;chr&gt;, tagID &lt;dbl&gt;, source &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section id="combine-tracking-and-stream-data" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Combine tracking and stream data</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define file names for each week</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="co">#fish_files &lt;- c("fishSurvey1.csv", "fishSurvey2.csv", "fishSurvey3.csv", "fishSurvey4.csv", "fishSurvey5.csv", "fishSurvey6.csv", "fishSurvey7.csv", "fishSurvey8.csv", "fishSurvey9.csv", "fishSurvey10.csv", "fishSurvey11.csv", "fishSurvey12.csv")</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a><span class="co">#stream_files &lt;- c("streamSurvey1.csv", "streamSurvey2.csv", "streamSurvey3.csv", "streamSurvey4.csv", "streamSurvey5.csv", "streamSurvey6.csv", "streamSurvey7.csv", "streamSurvey8.csv", "streamSurvey9.csv", "streamSurvey10.csv", "streamSurvey11.csv", "streamSurvey12.csv")</span></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through each week</span></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a><span class="co">#for (week in 1:length(fish_files)) {</span></span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read in the fish and stream survey data for the current week</span></span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">#fish_data &lt;- read.csv(fish_files[week])</span></span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">#stream_data &lt;- read.csv(stream_files[week])</span></span>
<span id="cb78-11"><a href="#cb78-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb78-12"><a href="#cb78-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Combine the datasets by shift and river columns</span></span>
<span id="cb78-13"><a href="#cb78-13" aria-hidden="true" tabindex="-1"></a>  <span class="co">#combined_data &lt;- left_join(fish_data, stream_data, by = c("shift", "river"))</span></span>
<span id="cb78-14"><a href="#cb78-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb78-15"><a href="#cb78-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb78-16"><a href="#cb78-16" aria-hidden="true" tabindex="-1"></a>  <span class="co">#combined_file_name &lt;- paste0("combined_week", week, ".csv")</span></span>
<span id="cb78-17"><a href="#cb78-17" aria-hidden="true" tabindex="-1"></a>  <span class="co">#write.csv(combined_data, combined_file_name, row.names = FALSE)</span></span>
<span id="cb78-18"><a href="#cb78-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb78-19"><a href="#cb78-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Optionally display the first few rows of the combined data</span></span>
<span id="cb78-20"><a href="#cb78-20" aria-hidden="true" tabindex="-1"></a>  <span class="co">#cat("\nCombined data for week", week, ":\n")</span></span>
<span id="cb78-21"><a href="#cb78-21" aria-hidden="true" tabindex="-1"></a>  <span class="co">#print(head(combined_data))</span></span>
<span id="cb78-22"><a href="#cb78-22" aria-hidden="true" tabindex="-1"></a><span class="co">#}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define file names for each week</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>fish_files <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"fishSurvey1.csv"</span>, <span class="st">"fishSurvey2.csv"</span>, <span class="st">"fishSurvey3.csv"</span>, <span class="st">"fishSurvey4.csv"</span>, <span class="st">"fishSurvey5.csv"</span>, <span class="st">"fishSurvey6.csv"</span>, <span class="st">"fishSurvey7.csv"</span>, <span class="st">"fishSurvey8.csv"</span>, <span class="st">"fishSurvey9.csv"</span>, <span class="st">"fishSurvey10.csv"</span>, <span class="st">"fishSurvey11.csv"</span>, <span class="st">"fishSurvey12.csv"</span>)</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>stream_files <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"streamSurvey1.csv"</span>, <span class="st">"streamSurvey2.csv"</span>, <span class="st">"streamSurvey3.csv"</span>, <span class="st">"streamSurvey4.csv"</span>, <span class="st">"streamSurvey5.csv"</span>, <span class="st">"streamSurvey6.csv"</span>, <span class="st">"streamSurvey7.csv"</span>, <span class="st">"streamSurvey8.csv"</span>, <span class="st">"streamSurvey9.csv"</span>, <span class="st">"streamSurvey10.csv"</span>, <span class="st">"streamSurvey11.csv"</span>, <span class="st">"streamSurvey12.csv"</span>)</span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to extract the number from file names</span></span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>extract_number <span class="ot">&lt;-</span> <span class="cf">function</span>(file_name) {</span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_extract</span>(file_name, <span class="st">"</span><span class="sc">\\</span><span class="st">d+"</span>)</span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-11"><a href="#cb79-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine datasets by matching number in filenames</span></span>
<span id="cb79-12"><a href="#cb79-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (fish_file <span class="cf">in</span> fish_files) {</span>
<span id="cb79-13"><a href="#cb79-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract number from fish file</span></span>
<span id="cb79-14"><a href="#cb79-14" aria-hidden="true" tabindex="-1"></a>  fish_number <span class="ot">&lt;-</span> <span class="fu">extract_number</span>(fish_file)</span>
<span id="cb79-15"><a href="#cb79-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb79-16"><a href="#cb79-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Find the corresponding stream file</span></span>
<span id="cb79-17"><a href="#cb79-17" aria-hidden="true" tabindex="-1"></a>  stream_file <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"streamSurvey"</span>, fish_number, <span class="st">".csv"</span>)</span>
<span id="cb79-18"><a href="#cb79-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb79-19"><a href="#cb79-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Check if the stream file exists</span></span>
<span id="cb79-20"><a href="#cb79-20" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (stream_file <span class="sc">%in%</span> stream_files) {</span>
<span id="cb79-21"><a href="#cb79-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Read in the fish and stream survey data</span></span>
<span id="cb79-22"><a href="#cb79-22" aria-hidden="true" tabindex="-1"></a>    fish_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(fish_file)</span>
<span id="cb79-23"><a href="#cb79-23" aria-hidden="true" tabindex="-1"></a>    stream_data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(stream_file)</span>
<span id="cb79-24"><a href="#cb79-24" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb79-25"><a href="#cb79-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Combine the datasets by shift and river columns</span></span>
<span id="cb79-26"><a href="#cb79-26" aria-hidden="true" tabindex="-1"></a>    combined_data <span class="ot">&lt;-</span> <span class="fu">left_join</span>(fish_data, stream_data, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"shift"</span>, <span class="st">"river"</span>))</span>
<span id="cb79-27"><a href="#cb79-27" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb79-28"><a href="#cb79-28" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb79-29"><a href="#cb79-29" aria-hidden="true" tabindex="-1"></a>    combined_file_name <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"fishStream"</span>, fish_number, <span class="st">".csv"</span>)</span>
<span id="cb79-30"><a href="#cb79-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">write.csv</span>(combined_data, combined_file_name, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb79-31"><a href="#cb79-31" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb79-32"><a href="#cb79-32" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Display the first few rows of the combined data</span></span>
<span id="cb79-33"><a href="#cb79-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Combined data for number"</span>, fish_number, <span class="st">":</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb79-34"><a href="#cb79-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">head</span>(combined_data))</span>
<span id="cb79-35"><a href="#cb79-35" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb79-36"><a href="#cb79-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">No corresponding stream file found for"</span>, fish_file, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb79-37"><a href="#cb79-37" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb79-38"><a href="#cb79-38" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Combined data for number 1 :
  habitat position substrate         shade fishNotes habitatExtra
1  Riffle   Center      Rock  Fully shaded                       
2  Riffle   Center      Rock  Fully shaded                       
3  Riffle   Center      Rock  Fully shaded                       
4     Run     Left    Pebble Mostly shaded                       
5     Run     Left      Rock Mostly shaded                       
6   Glide   Center      Rock  Fully shaded                       
  substrateExtra signal       lon      lat            dateTime shift    river
1             NA     NA -72.46038 42.38162 2024-06-11 05:57:00   day AMETHYST
2             NA     NA -72.46030 42.38136 2024-06-11 06:08:00   day AMETHYST
3             NA     NA -72.46023 42.38139 2024-06-11 06:15:00   day AMETHYST
4             NA     NA -72.46015 42.38095 2024-06-11 06:19:00   day AMETHYST
5             NA     NA -72.46034 42.38105 2024-06-11 06:28:00   day AMETHYST
6             NA     NA -72.46009 42.38094 2024-06-11 06:34:00   day AMETHYST
  tagID source airTemp                      cloud  precip startTime endTime
1    59   iPad      71 Partly cloudy/partly sunny No rain     06:30   12:00
2    60   iPad      71 Partly cloudy/partly sunny No rain     06:30   12:00
3    19   iPad      71 Partly cloudy/partly sunny No rain     06:30   12:00
4    20   iPad      71 Partly cloudy/partly sunny No rain     06:30   12:00
5    57   iPad      71 Partly cloudy/partly sunny No rain     06:30   12:00
6    12   iPad      71 Partly cloudy/partly sunny No rain     06:30   12:00
                  iso streamNotes isoTime downstreamGPS downstreamGain
1 AMTH202406111000EST          NA   10:00            NA             NA
2 AMTH202406111000EST          NA   10:00            NA             NA
3 AMTH202406111000EST          NA   10:00            NA             NA
4 AMTH202406111000EST          NA   10:00            NA             NA
5 AMTH202406111000EST          NA   10:00            NA             NA
6 AMTH202406111000EST          NA   10:00            NA             NA
  upstreamGPS upstreamGain
1          NA           NA
2          NA           NA
3          NA           NA
4          NA           NA
5          NA           NA
6          NA           NA

Combined data for number 2 :
  habitat position substrate          shade fishNotes  habitatExtra
1    Pool   Center      Rock  Mostly shaded                        
2     Run    Right    Pebble Lightly shaded                        
3  Riffle     Left      Rock   Fully shaded            Woody_debris
4     Run    Right      Rock Lightly shaded           Undercut_bank
5    Pool     Left   Boulder  Mostly shaded                        
6    Pool    Right      Rock  Mostly shaded                        
  substrateExtra signal       lon      lat            dateTime shift  river
1                    NA -72.37084 42.44394 2024-06-17 11:33:00   day DICKEY
2                    NA -72.37173 42.44421 2024-06-17 11:57:00   day DICKEY
3                    NA -72.37194 42.44430 2024-06-17 11:59:00   day DICKEY
4                    NA -72.37344 42.44421 2024-06-17 12:10:00   day DICKEY
5                    NA -72.37040 42.44369 2024-06-17 12:47:00   day DICKEY
6                    NA -72.37038 42.44377 2024-06-17 12:49:00   day DICKEY
  tagID source airTemp                      cloud  precip startTime endTime
1    31   iPad      79 Partly cloudy/partly sunny No rain     11:26   17:00
2    46   iPad      79 Partly cloudy/partly sunny No rain     11:26   17:00
3    29   iPad      79 Partly cloudy/partly sunny No rain     11:26   17:00
4    26   iPad      79 Partly cloudy/partly sunny No rain     11:26   17:00
5    28   iPad      79 Partly cloudy/partly sunny No rain     11:26   17:00
6    37   iPad      79 Partly cloudy/partly sunny No rain     11:26   17:00
                  iso streamNotes isoTime downstreamGPS downstreamGain
1 DCKY202406171330EST          NA   13:30            NA             NA
2 DCKY202406171330EST          NA   13:30            NA             NA
3 DCKY202406171330EST          NA   13:30            NA             NA
4 DCKY202406171330EST          NA   13:30            NA             NA
5 DCKY202406171330EST          NA   13:30            NA             NA
6 DCKY202406171330EST          NA   13:30            NA             NA
  upstreamGPS upstreamGain
1          NA           NA
2          NA           NA
3          NA           NA
4          NA           NA
5          NA           NA
6          NA           NA

Combined data for number 3 :
  habitat position substrate          shade fishNotes
1    Pool   Center      Rock  Mostly shaded          
2    Pool    Right       Mud  Mostly shaded          
3    Pool    Right       Mud  Mostly shaded          
4    Pool     Left       Mud Lightly shaded          
5    Pool    Right      Rock  Mostly shaded          
6    Pool    Right      Rock  Mostly shaded          
                habitatExtra substrateExtra signal       lon      lat
1               Woody_debris             NA     NA -72.50451 42.66767
2               Woody_debris             NA     NA -72.50455 42.66774
3               Woody_debris             NA     NA -72.50451 42.66761
4   Root_bundle,Woody_debris             NA     NA -72.50445 42.66767
5 Woody_debris,Undercut_bank             NA     NA -72.50506 42.66704
6 Undercut_bank,Woody_debris             NA     NA -72.50507 42.66704
             dateTime shift     river tagID source airTemp cloud  precip
1 2024-06-25 05:59:00   day DRY UPPER    55   iPad      57 Clear No rain
2 2024-06-25 06:02:00   day DRY UPPER    16   iPad      57 Clear No rain
3 2024-06-25 06:07:00   day DRY UPPER    53   iPad      57 Clear No rain
4 2024-06-25 06:11:00   day DRY UPPER    22   iPad      57 Clear No rain
5 2024-06-25 06:20:00   day DRY UPPER    21   iPad      57 Clear No rain
6 2024-06-25 06:21:00   day DRY UPPER    25   iPad      57 Clear No rain
  startTime endTime                 iso
1     05:44   10:44 DRYU202406250610EST
2     05:44   10:44 DRYU202406250610EST
3     05:44   10:44 DRYU202406250610EST
4     05:44   10:44 DRYU202406250610EST
5     05:44   10:44 DRYU202406250610EST
6     05:44   10:44 DRYU202406250610EST
                                                                                                                              streamNotes
1 Did not get to the stream on time because the batteries were corroded in the receiver so had to go back to lab and get other receiver. 
2 Did not get to the stream on time because the batteries were corroded in the receiver so had to go back to lab and get other receiver. 
3 Did not get to the stream on time because the batteries were corroded in the receiver so had to go back to lab and get other receiver. 
4 Did not get to the stream on time because the batteries were corroded in the receiver so had to go back to lab and get other receiver. 
5 Did not get to the stream on time because the batteries were corroded in the receiver so had to go back to lab and get other receiver. 
6 Did not get to the stream on time because the batteries were corroded in the receiver so had to go back to lab and get other receiver. 
  isoTime           downstreamGPS downstreamGain            upstreamGPS
1   06:10 42.6353974. -72.4967190             65 42.6694251 -72.5074050
2   06:10 42.6353974. -72.4967190             65 42.6694251 -72.5074050
3   06:10 42.6353974. -72.4967190             65 42.6694251 -72.5074050
4   06:10 42.6353974. -72.4967190             65 42.6694251 -72.5074050
5   06:10 42.6353974. -72.4967190             65 42.6694251 -72.5074050
6   06:10 42.6353974. -72.4967190             65 42.6694251 -72.5074050
  upstreamGain
1           55
2           55
3           55
4           55
5           55
6           55

Combined data for number 4 :
  habitat position substrate         shade fishNotes               habitatExtra
1    Pool     Left        NA         Night                          Root_bundle
2    Pool    Right        NA  Fully shaded                         Woody_debris
3    Pool    Right        NA  Fully shaded                         Woody_debris
4    Pool    Right        NA Mostly shaded           Woody_debris,Undercut_bank
5    Pool    Right        NA  Fully shaded           Undercut_bank,Woody_debris
6    Pool    Right        NA  Fully shaded           Undercut_bank,Woody_debris
  substrateExtra signal       lon      lat            dateTime shift     river
1       Rock,Mud     NA -72.50457 42.66769 2024-06-30 04:39:00   day DRY UPPER
2            Mud     NA -72.50448 42.66760 2024-06-30 04:42:00   day DRY UPPER
3            Mud     NA -72.50453 42.66762 2024-06-30 04:43:00   day DRY UPPER
4            Mud     NA -72.50514 42.66698 2024-06-30 04:50:00   day DRY UPPER
5            Mud     NA -72.50509 42.66699 2024-06-30 04:51:00   day DRY UPPER
6            Mud     NA -72.50508 42.66702 2024-06-30 04:51:00   day DRY UPPER
  tagID source airTemp  cloud  precip startTime endTime                 iso
1    22   iPad      71 Cloudy No rain     03:57   08:55 DRYU202406300528EST
2    16   iPad      71 Cloudy No rain     03:57   08:55 DRYU202406300528EST
3    55   iPad      71 Cloudy No rain     03:57   08:55 DRYU202406300528EST
4    21   iPad      71 Cloudy No rain     03:57   08:55 DRYU202406300528EST
5    25   iPad      71 Cloudy No rain     03:57   08:55 DRYU202406300528EST
6    24   iPad      71 Cloudy No rain     03:57   08:55 DRYU202406300528EST
  streamNotes isoTime                        downstreamGPS downstreamGain
1               05:28 Lat: 42.6626558 N Long: 72.5044938 W             85
2               05:28 Lat: 42.6626558 N Long: 72.5044938 W             85
3               05:28 Lat: 42.6626558 N Long: 72.5044938 W             85
4               05:28 Lat: 42.6626558 N Long: 72.5044938 W             85
5               05:28 Lat: 42.6626558 N Long: 72.5044938 W             85
6               05:28 Lat: 42.6626558 N Long: 72.5044938 W             85
                           upstreamGPS upstreamGain
1 Lat: 42.6688089 N Long: 72.5073252 W           90
2 Lat: 42.6688089 N Long: 72.5073252 W           90
3 Lat: 42.6688089 N Long: 72.5073252 W           90
4 Lat: 42.6688089 N Long: 72.5073252 W           90
5 Lat: 42.6688089 N Long: 72.5073252 W           90
6 Lat: 42.6688089 N Long: 72.5073252 W           90

Combined data for number 5 :
  habitat position substrate         shade
1  Riffle   Center        NA  Fully shaded
2  Riffle                 NA Mostly shaded
3  Riffle   Center        NA              
4  Riffle    Right        NA Mostly shaded
5    Pool   Center        NA Mostly shaded
6  Riffle   Center        NA Mostly shaded
                                           fishNotes  habitatExtra
1                                                                 
2                                                     Woody_debris
3                                                                 
4                                                    Undercut_bank
5 Moved up from where we thought it might have died.              
6                                                                 
    substrateExtra signal       lon      lat            dateTime shift
1             Rock     NA -72.32447 42.44488 2024-07-09 07:30:00   day
2      Rock,Pebble     NA -72.32513 42.44510 2024-07-09 07:49:00   day
3             Rock     NA -72.32645 42.44537 2024-07-09 07:57:00   day
4             Rock     NA -72.32624 42.44533 2024-07-09 08:08:00   day
5 Rock,Pebble,Sand     NA -72.32752 42.44626 2024-07-09 08:18:00   day
6             Rock     NA -72.32780 42.44521 2024-07-09 08:25:00   day
      river tagID source airTemp  cloud        precip startTime endTime
1 UNDERHILL    41   iPad      71 Cloudy Moderate rain     07:28   12:39
2 UNDERHILL    40   iPad      71 Cloudy Moderate rain     07:28   12:39
3 UNDERHILL    34   iPad      71 Cloudy Moderate rain     07:28   12:39
4 UNDERHILL    33   iPad      71 Cloudy Moderate rain     07:28   12:39
5 UNDERHILL    36   iPad      71 Cloudy Moderate rain     07:28   12:39
6 UNDERHILL    27   iPad      71 Cloudy Moderate rain     07:28   12:39
                  iso streamNotes isoTime             downstreamGPS
1 UNDH202407090734EST               07:27 42.4445523 N 72.3210041 W
2 UNDH202407090734EST               07:27 42.4445523 N 72.3210041 W
3 UNDH202407090734EST               07:27 42.4445523 N 72.3210041 W
4 UNDH202407090734EST               07:27 42.4445523 N 72.3210041 W
5 UNDH202407090734EST               07:27 42.4445523 N 72.3210041 W
6 UNDH202407090734EST               07:27 42.4445523 N 72.3210041 W
  downstreamGain               upstreamGPS upstreamGain
1             75 42.4436600 W 72.3295537 N           75
2             75 42.4436600 W 72.3295537 N           75
3             75 42.4436600 W 72.3295537 N           75
4             75 42.4436600 W 72.3295537 N           75
5             75 42.4436600 W 72.3295537 N           75
6             75 42.4436600 W 72.3295537 N           75

Combined data for number 6 :
  habitat position substrate        shade fishNotes habitatExtra
1  Riffle   Center        NA        Night                       
2    Pool   Center        NA        Night                       
3  Riffle   Center        NA        Night                       
4  Riffle   Center        NA Fully shaded                       
5  Riffle   Center        NA Fully shaded                       
6    Pool   Center        NA Fully shaded                       
    substrateExtra signal       lon      lat            dateTime shift  river
1             Rock     NA -72.37121 42.44408 2024-07-16 03:49:00   day DICKEY
2         Sand,Mud     NA -72.37056 42.44364 2024-07-16 03:58:00   day DICKEY
3             Rock     NA -72.37030 42.44345 2024-07-16 04:04:00   day DICKEY
4             Rock     NA -72.37018 42.44342 2024-07-16 04:05:00   day DICKEY
5        Rock,Sand     NA -72.37132 42.44393 2024-07-16 05:17:00   day DICKEY
6 Rock,Pebble,Sand     NA -72.37059 42.44357 2024-07-16 05:21:00   day DICKEY
  tagID source airTemp  cloud  precip startTime endTime                 iso
1    31   iPad      70 Cloudy No rain     03:35   08:55 DCKY202407160347EST
2    28   iPad      70 Cloudy No rain     03:35   08:55 DCKY202407160347EST
3    26   iPad      70 Cloudy No rain     03:35   08:55 DCKY202407160347EST
4    37   iPad      70 Cloudy No rain     03:35   08:55 DCKY202407160347EST
5    31   iPad      70 Cloudy No rain     03:35   08:55 DCKY202407160347EST
6    28   iPad      70 Cloudy No rain     03:35   08:55 DCKY202407160347EST
  streamNotes isoTime             downstreamGPS downstreamGain
1               03:47 42.4422631.N 72.3733436 W             70
2               03:47 42.4422631.N 72.3733436 W             70
3               03:47 42.4422631.N 72.3733436 W             70
4               03:47 42.4422631.N 72.3733436 W             70
5               03:47 42.4422631.N 72.3733436 W             70
6               03:47 42.4422631.N 72.3733436 W             70
               upstreamGPS upstreamGain
1 42.4374180 N 72.346902 W           75
2 42.4374180 N 72.346902 W           75
3 42.4374180 N 72.346902 W           75
4 42.4374180 N 72.346902 W           75
5 42.4374180 N 72.346902 W           75
6 42.4374180 N 72.346902 W           75

Combined data for number 7 :
  habitat position substrate         shade
1    Pool    Right        NA Mostly shaded
2                         NA              
3  Riffle     Left        NA Mostly shaded
4    Pool     Left        NA Mostly shaded
5    Pool    Right        NA  Fully shaded
6    Pool                 NA Mostly shaded
                                   fishNotes               habitatExtra
1                                                          Woody_debris
2                                       Dead                           
3 Very shallow water. Can’t see fish or tag.                           
4                                                          Woody_debris
5                          Up under cutback. Woody_debris,Undercut_bank
6                              Dead have tag               Woody_debris
  substrateExtra signal       lon      lat            dateTime shift     river
1      Rock,Sand     NA -72.50687 42.66812 2024-07-23 07:28:00   day DRY UPPER
2                    NA -72.50700 42.66827 2024-07-23 07:56:00   day DRY UPPER
3                    NA -72.50598 42.66837 2024-07-23 08:07:00   day DRY UPPER
4            Mud     NA -72.50495 42.66817 2024-07-23 08:44:00   day DRY UPPER
5       Mud,Sand     NA -72.50460 42.66775 2024-07-23 08:52:00   day DRY UPPER
6      Rock,Sand     NA -72.50408 42.66603 2024-07-23 09:06:00   day DRY UPPER
  tagID source airTemp         cloud        precip startTime endTime
1  39.1   iPad      83 Mostly cloudy Moderate rain     07:27   13:24
2  46.1   iPad      83 Mostly cloudy Moderate rain     07:27   13:24
3  29.1   iPad      83 Mostly cloudy Moderate rain     07:27   13:24
4  30.1   iPad      83 Mostly cloudy Moderate rain     07:27   13:24
5  16.0   iPad      83 Mostly cloudy Moderate rain     07:27   13:24
6  55.0   iPad      83 Mostly cloudy Moderate rain     07:27   13:24
                  iso streamNotes isoTime               downstreamGPS
1 DRYU202407230833EST               08:33 42.6342708 N , 72.4923600 W
2 DRYU202407230833EST               08:33 42.6342708 N , 72.4923600 W
3 DRYU202407230833EST               08:33 42.6342708 N , 72.4923600 W
4 DRYU202407230833EST               08:33 42.6342708 N , 72.4923600 W
5 DRYU202407230833EST               08:33 42.6342708 N , 72.4923600 W
6 DRYU202407230833EST               08:33 42.6342708 N , 72.4923600 W
  downstreamGain             upstreamGPS upstreamGain
1             60 42.6682103 N 72.5069701           75
2             60 42.6682103 N 72.5069701           75
3             60 42.6682103 N 72.5069701           75
4             60 42.6682103 N 72.5069701           75
5             60 42.6682103 N 72.5069701           75
6             60 42.6682103 N 72.5069701           75

Combined data for number 8 :
  habitat position substrate          shade
1  Riffle    Right        NA          Night
2  Riffle   Center        NA          Night
3  Riffle   Center        NA          Night
4     Run    Right        NA          Night
5    Pool     Left        NA          Night
6  Riffle     Left        NA Lightly shaded
                                               fishNotes habitatExtra
1                                                                    
2                                                                    
3                                                                    
4                                                                    
5 Dead.found on river left side of pool buried n gravel.             
6                                           May be dead              
  substrateExtra signal       lon      lat            dateTime shift  river
1    Pebble,Rock     NA -72.37116 42.44418 2024-07-30 04:07:00   day DICKEY
2    Rock,Pebble     NA -72.37034 42.44352 2024-07-30 04:15:00   day DICKEY
3    Rock,Pebble     NA -72.37032 42.44350 2024-07-30 04:16:00   day DICKEY
4    Rock,Pebble     NA -72.37335 42.44441 2024-07-30 04:38:00   day DICKEY
5         Pebble     NA -72.37354 42.44406 2024-07-30 04:42:00   day DICKEY
6    Rock,Pebble     NA -72.37340 42.44449 2024-07-30 05:25:00   day DICKEY
  tagID source airTemp  cloud  precip startTime endTime                 iso
1    31   iPad      67 Cloudy No rain     03:50   08:56 DCKY202407300503EST
2    26   iPad      67 Cloudy No rain     03:50   08:56 DCKY202407300503EST
3    37   iPad      67 Cloudy No rain     03:50   08:56 DCKY202407300503EST
4    38   iPad      67 Cloudy No rain     03:50   08:56 DCKY202407300503EST
5    32   iPad      67 Cloudy No rain     03:50   08:56 DCKY202407300503EST
6    38   iPad      67 Cloudy No rain     03:50   08:56 DCKY202407300503EST
  streamNotes isoTime             downstreamGPS downstreamGain
1          NA   05:03 42.4421397 N 72.3133907 W             70
2          NA   05:03 42.4421397 N 72.3133907 W             70
3          NA   05:03 42.4421397 N 72.3133907 W             70
4          NA   05:03 42.4421397 N 72.3133907 W             70
5          NA   05:03 42.4421397 N 72.3133907 W             70
6          NA   05:03 42.4421397 N 72.3133907 W             70
               upstreamGPS upstreamGain
1 42.4373330 N 72.3646411W           70
2 42.4373330 N 72.3646411W           70
3 42.4373330 N 72.3646411W           70
4 42.4373330 N 72.3646411W           70
5 42.4373330 N 72.3646411W           70
6 42.4373330 N 72.3646411W           70

Combined data for number 9 :
  habitat position substrate         shade             fishNotes habitatExtra
1  Riffle   Center        NA Mostly shaded Same so as last week. Woody_debris
2    Pool   Center        NA Mostly shaded                                   
3    Pool   Center        NA Mostly shaded                       Woody_debris
4    Pool   Center        NA Mostly shaded                                   
5    Pool   Center        NA  Fully shaded                                   
6    Pool   Center        NA  Fully shaded                       Woody_debris
     substrateExtra signal       lon      lat            dateTime shift
1       Pebble,Rock     NA -72.32640 42.44531 2024-08-06 07:41:00   day
2    Pebble,Granule     NA -72.32773 42.44515 2024-08-06 07:47:00   day
3         Rock,Sand     NA -72.32803 42.44488 2024-08-06 07:53:00   day
4              Rock     NA -72.32972 42.44363 2024-08-06 08:02:00   day
5      Boulder,Sand     NA -72.32961 42.44362 2024-08-06 08:38:00   day
6 Rock,Granule,Sand     NA -72.32778 42.44478 2024-08-06 08:49:00   day
      river tagID source airTemp  cloud    precip startTime endTime
1 UNDERHILL    33   iPad      72 Cloudy Weak rain     07:25   12:23
2 UNDERHILL    45   iPad      72 Cloudy Weak rain     07:25   12:23
3 UNDERHILL    44   iPad      72 Cloudy Weak rain     07:25   12:23
4 UNDERHILL    35   iPad      72 Cloudy Weak rain     07:25   12:23
5 UNDERHILL    35   iPad      72 Cloudy Weak rain     07:25   12:23
6 UNDERHILL    44   iPad      72 Cloudy Weak rain     07:25   12:23
                  iso
1 UNDH202408060810EST
2 UNDH202408060810EST
3 UNDH202408060810EST
4 UNDH202408060810EST
5 UNDH202408060810EST
6 UNDH202408060810EST
                                                                                                            streamNotes
1 Found a dead fish, cut it open to make sure it wasn’t a tagged fish and there wasn’t a dead tag inside (no tag found)
2 Found a dead fish, cut it open to make sure it wasn’t a tagged fish and there wasn’t a dead tag inside (no tag found)
3 Found a dead fish, cut it open to make sure it wasn’t a tagged fish and there wasn’t a dead tag inside (no tag found)
4 Found a dead fish, cut it open to make sure it wasn’t a tagged fish and there wasn’t a dead tag inside (no tag found)
5 Found a dead fish, cut it open to make sure it wasn’t a tagged fish and there wasn’t a dead tag inside (no tag found)
6 Found a dead fish, cut it open to make sure it wasn’t a tagged fish and there wasn’t a dead tag inside (no tag found)
  isoTime                              downstreamGPS downstreamGain
1   08:10 42.4442161 degrees N, 72.3234504 degrees W             70
2   08:10 42.4442161 degrees N, 72.3234504 degrees W             70
3   08:10 42.4442161 degrees N, 72.3234504 degrees W             70
4   08:10 42.4442161 degrees N, 72.3234504 degrees W             70
5   08:10 42.4442161 degrees N, 72.3234504 degrees W             70
6   08:10 42.4442161 degrees N, 72.3234504 degrees W             70
                                 upstreamGPS upstreamGain
1 42.4459050 degrees N, 72.3317080 degrees W           70
2 42.4459050 degrees N, 72.3317080 degrees W           70
3 42.4459050 degrees N, 72.3317080 degrees W           70
4 42.4459050 degrees N, 72.3317080 degrees W           70
5 42.4459050 degrees N, 72.3317080 degrees W           70
6 42.4459050 degrees N, 72.3317080 degrees W           70

Combined data for number 10 :
  habitat position substrate        shade fishNotes habitatExtra
1     Run   Center        NA        Night                       
2     Run   Center        NA        Night                       
3  Riffle   Center        NA        Night                       
4     Run   Center        NA        Night           Woody_debris
5  Riffle   Center        NA        Night                       
6     Run   Center        NA Fully shaded                       
     substrateExtra signal       lon      lat            dateTime shift
1         Sand,Rock     NA -72.45838 42.38205 2024-08-13 04:25:00   day
2 Sand,Boulder,Rock     NA -72.45979 42.38119 2024-08-13 04:31:00   day
3      Rock,Boulder     NA -72.46000 42.38136 2024-08-13 04:32:00   day
4           Boulder     NA -72.46033 42.38118 2024-08-13 04:34:00   day
5              Rock     NA -72.46088 42.38150 2024-08-13 04:41:00   day
6         Sand,Rock     NA -72.45866 42.38218 2024-08-13 05:15:00   day
     river tagID source airTemp cloud  precip startTime endTime
1 AMETHYST    60   iPad      63 Clear No rain     04:16   09:26
2 AMETHYST    18   iPad      63 Clear No rain     04:16   09:26
3 AMETHYST    14   iPad      63 Clear No rain     04:16   09:26
4 AMETHYST    20   iPad      63 Clear No rain     04:16   09:26
5 AMETHYST    19   iPad      63 Clear No rain     04:16   09:26
6 AMETHYST    60   iPad      63 Clear No rain     04:16   09:26
                                                          iso streamNotes
1 BUFF202408130524EST HARR202408130510EST AMTH202408130516EST          NA
2 BUFF202408130524EST HARR202408130510EST AMTH202408130516EST          NA
3 BUFF202408130524EST HARR202408130510EST AMTH202408130516EST          NA
4 BUFF202408130524EST HARR202408130510EST AMTH202408130516EST          NA
5 BUFF202408130524EST HARR202408130510EST AMTH202408130516EST          NA
6 BUFF202408130524EST HARR202408130510EST AMTH202408130516EST          NA
  isoTime                        downstreamGPS downstreamGain
1   05:10 Lat: 42.3808032 N Long: 72.4615415 W             80
2   05:10 Lat: 42.3808032 N Long: 72.4615415 W             80
3   05:10 Lat: 42.3808032 N Long: 72.4615415 W             80
4   05:10 Lat: 42.3808032 N Long: 72.4615415 W             80
5   05:10 Lat: 42.3808032 N Long: 72.4615415 W             80
6   05:10 Lat: 42.3808032 N Long: 72.4615415 W             80
                           upstreamGPS upstreamGain
1 Lat: 42.3820586 N Long: 72.4585239 W           80
2 Lat: 42.3820586 N Long: 72.4585239 W           80
3 Lat: 42.3820586 N Long: 72.4585239 W           80
4 Lat: 42.3820586 N Long: 72.4585239 W           80
5 Lat: 42.3820586 N Long: 72.4585239 W           80
6 Lat: 42.3820586 N Long: 72.4585239 W           80

Combined data for number 11 :
  habitat position substrate        shade fishNotes habitatExtra substrateExtra
1  Riffle   Center        NA Fully shaded                                  Rock
2  Riffle   Center        NA Fully shaded                                  Rock
3  Riffle     Left        NA Fully shaded                               Boulder
4  Riffle     Left        NA Fully shaded                               Boulder
5  Riffle    Right        NA Fully shaded                             Rock,Sand
6  Riffle    Right        NA Fully shaded                             Rock,Sand
  signal       lon      lat            dateTime shift    river tagID source
1     NA -72.46090 42.38157 2024-08-20 09:10:00   day AMETHYST    19   iPad
2     NA -72.46090 42.38157 2024-08-20 09:10:00   day AMETHYST    19   iPad
3     NA -72.46016 42.38116 2024-08-20 09:39:00   day AMETHYST    20   iPad
4     NA -72.46016 42.38116 2024-08-20 09:39:00   day AMETHYST    20   iPad
5     NA -72.46000 42.38126 2024-08-20 09:54:00   day AMETHYST    14   iPad
6     NA -72.46000 42.38126 2024-08-20 09:54:00   day AMETHYST    14   iPad
  airTemp  cloud  precip startTime endTime
1      68 Cloudy No rain     09:00   13:37
2      73  Clear No rain     09:00   13:57
3      68 Cloudy No rain     09:00   13:37
4      73  Clear No rain     09:00   13:57
5      68 Cloudy No rain     09:00   13:37
6      73  Clear No rain     09:00   13:57
                                                            iso streamNotes
1 BUFF202408201044EST, AMTH202408201047EST, HARR202408200947EST            
2 BUFF202408231125EST, HARR202408231130EST, AMTH202408231150EST            
3 BUFF202408201044EST, AMTH202408201047EST, HARR202408200947EST            
4 BUFF202408231125EST, HARR202408231130EST, AMTH202408231150EST            
5 BUFF202408201044EST, AMTH202408201047EST, HARR202408200947EST            
6 BUFF202408231125EST, HARR202408231130EST, AMTH202408231150EST            
  isoTime downstreamGPS downstreamGain upstreamGPS upstreamGain
1   09:47            NA             NA          NA           NA
2   11:25            NA             NA          NA           NA
3   09:47            NA             NA          NA           NA
4   11:25            NA             NA          NA           NA
5   09:47            NA             NA          NA           NA
6   11:25            NA             NA          NA           NA

Combined data for number 12 :
  habitat position substrate         shade
1    Pool    Right        NA  Fully shaded
2    Pool   Center        NA Mostly shaded
3    Pool   Center        NA Mostly shaded
                                                                              fishNotes
1                                                      Unsuccessful at finding shed tag
2                                                      Unsuccessful at finding shed tag
3 Unsuccessful at finding shed tag. It is most likely located in a hole under this rock
  habitatExtra              substrateExtra signal       lon      lat
1           NA                   Sand,Rock     NA -72.32730 42.44535
2           NA                   Sand,Rock     NA -72.32805 42.44492
3           NA Boulder,Rock,Granule,Pebble     NA -72.32929 42.44359
             dateTime shift     river tagID source airTemp cloud  precip
1 2024-08-27 09:41:00   day UNDERHILL    45   iPad      80 Clear No rain
2 2024-08-27 10:32:00   day UNDERHILL    44   iPad      80 Clear No rain
3 2024-08-27 12:19:00   day UNDERHILL    35   iPad      80 Clear No rain
  startTime endTime                 iso streamNotes isoTime downstreamGPS
1     09:04   12:48 UNDH202408271016EST          NA   10:16            NA
2     09:04   12:48 UNDH202408271016EST          NA   10:16            NA
3     09:04   12:48 UNDH202408271016EST          NA   10:16            NA
  downstreamGain upstreamGPS upstreamGain
1             NA          NA           NA
2             NA          NA           NA
3             NA          NA           NA</code></pre>
</div>
</div>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link" aria-label="Introduction">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb81" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Creating my datasheet"</span></span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> html</span></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a><span class="fu"># Prep</span></span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a><span class="in">```{r load libraries}</span></span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a><span class="in"># Load required libraries</span></span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a><span class="in">library(dplyr)</span></span>
<span id="cb81-11"><a href="#cb81-11" aria-hidden="true" tabindex="-1"></a><span class="in">library(lubridate)</span></span>
<span id="cb81-12"><a href="#cb81-12" aria-hidden="true" tabindex="-1"></a><span class="in">library(readxl)</span></span>
<span id="cb81-13"><a href="#cb81-13" aria-hidden="true" tabindex="-1"></a><span class="in">library(leaflet)</span></span>
<span id="cb81-14"><a href="#cb81-14" aria-hidden="true" tabindex="-1"></a><span class="in">library(tidyverse)</span></span>
<span id="cb81-15"><a href="#cb81-15" aria-hidden="true" tabindex="-1"></a><span class="in">library(tidyr)</span></span>
<span id="cb81-16"><a href="#cb81-16" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-17"><a href="#cb81-17" aria-hidden="true" tabindex="-1"></a><span class="fu"># Preparing Stream Surveys</span></span>
<span id="cb81-18"><a href="#cb81-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-19"><a href="#cb81-19" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the stream survey 1}</span></span>
<span id="cb81-20"><a href="#cb81-20" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the stream survey data</span></span>
<span id="cb81-21"><a href="#cb81-21" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week1 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 1.csv")</span></span>
<span id="cb81-22"><a href="#cb81-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-23"><a href="#cb81-23" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb81-24"><a href="#cb81-24" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb81-25"><a href="#cb81-25" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week1$date &lt;- as.Date(stream_survey_week1$date, format = "%m/%d/%Y")</span></span>
<span id="cb81-26"><a href="#cb81-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-27"><a href="#cb81-27" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and start time into a DateTime column</span></span>
<span id="cb81-28"><a href="#cb81-28" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week1$dateTime &lt;- as.POSIXct(paste(stream_survey_week1$date, </span></span>
<span id="cb81-29"><a href="#cb81-29" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 stream_survey_week1$startTime), </span></span>
<span id="cb81-30"><a href="#cb81-30" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M")</span></span>
<span id="cb81-31"><a href="#cb81-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-32"><a href="#cb81-32" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb81-33"><a href="#cb81-33" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 5:00 EST to 11:00 EST</span></span>
<span id="cb81-34"><a href="#cb81-34" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week1 &lt;- stream_survey_week1 %&gt;%</span></span>
<span id="cb81-35"><a href="#cb81-35" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb81-36"><a href="#cb81-36" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb81-37"><a href="#cb81-37" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime) &gt;= 4 &amp; hour(dateTime) &lt; 12 ~ "day",</span></span>
<span id="cb81-38"><a href="#cb81-38" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb81-39"><a href="#cb81-39" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb81-40"><a href="#cb81-40" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb81-41"><a href="#cb81-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-42"><a href="#cb81-42" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb81-43"><a href="#cb81-43" aria-hidden="true" tabindex="-1"></a><span class="in">head(stream_survey_week1)</span></span>
<span id="cb81-44"><a href="#cb81-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-45"><a href="#cb81-45" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb81-46"><a href="#cb81-46" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(stream_survey_week1, file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/streamSurvey1.csv", row.names = FALSE )</span></span>
<span id="cb81-47"><a href="#cb81-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-48"><a href="#cb81-48" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-49"><a href="#cb81-49" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the stream survey 2}</span></span>
<span id="cb81-50"><a href="#cb81-50" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the stream survey data</span></span>
<span id="cb81-51"><a href="#cb81-51" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week2 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 2.csv")</span></span>
<span id="cb81-52"><a href="#cb81-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-53"><a href="#cb81-53" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb81-54"><a href="#cb81-54" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb81-55"><a href="#cb81-55" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week2$date &lt;- as.Date(stream_survey_week2$date, format = "%m/%d/%Y")</span></span>
<span id="cb81-56"><a href="#cb81-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-57"><a href="#cb81-57" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and start time into a DateTime column</span></span>
<span id="cb81-58"><a href="#cb81-58" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week2$dateTime &lt;- as.POSIXct(paste(stream_survey_week2$date, </span></span>
<span id="cb81-59"><a href="#cb81-59" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 stream_survey_week2$startTime), </span></span>
<span id="cb81-60"><a href="#cb81-60" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M")</span></span>
<span id="cb81-61"><a href="#cb81-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-62"><a href="#cb81-62" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb81-63"><a href="#cb81-63" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 11:00 EST to 17:00 EST</span></span>
<span id="cb81-64"><a href="#cb81-64" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week2 &lt;- stream_survey_week2 %&gt;%</span></span>
<span id="cb81-65"><a href="#cb81-65" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb81-66"><a href="#cb81-66" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb81-67"><a href="#cb81-67" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime) &gt;= 10 &amp; hour(dateTime) &lt; 18 ~ "day",</span></span>
<span id="cb81-68"><a href="#cb81-68" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb81-69"><a href="#cb81-69" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb81-70"><a href="#cb81-70" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb81-71"><a href="#cb81-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-72"><a href="#cb81-72" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb81-73"><a href="#cb81-73" aria-hidden="true" tabindex="-1"></a><span class="in">head(stream_survey_week2)</span></span>
<span id="cb81-74"><a href="#cb81-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-75"><a href="#cb81-75" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb81-76"><a href="#cb81-76" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(stream_survey_week2, file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/streamSurvey2.csv", row.names = FALSE )</span></span>
<span id="cb81-77"><a href="#cb81-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-78"><a href="#cb81-78" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-79"><a href="#cb81-79" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the stream survey 3}</span></span>
<span id="cb81-80"><a href="#cb81-80" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the stream survey data</span></span>
<span id="cb81-81"><a href="#cb81-81" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week3 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 3.csv")</span></span>
<span id="cb81-82"><a href="#cb81-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-83"><a href="#cb81-83" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb81-84"><a href="#cb81-84" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb81-85"><a href="#cb81-85" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week3$date &lt;- as.Date(stream_survey_week3$date, format = "%m/%d/%Y")</span></span>
<span id="cb81-86"><a href="#cb81-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-87"><a href="#cb81-87" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and start time into a DateTime column</span></span>
<span id="cb81-88"><a href="#cb81-88" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week3$dateTime &lt;- as.POSIXct(paste(stream_survey_week3$date, </span></span>
<span id="cb81-89"><a href="#cb81-89" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 stream_survey_week3$startTime), </span></span>
<span id="cb81-90"><a href="#cb81-90" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M")</span></span>
<span id="cb81-91"><a href="#cb81-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-92"><a href="#cb81-92" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb81-93"><a href="#cb81-93" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 5:00 EST to 11:00 EST</span></span>
<span id="cb81-94"><a href="#cb81-94" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week3 &lt;- stream_survey_week3 %&gt;%</span></span>
<span id="cb81-95"><a href="#cb81-95" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb81-96"><a href="#cb81-96" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb81-97"><a href="#cb81-97" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime) &gt;= 4 &amp; hour(dateTime) &lt; 12 ~ "day",</span></span>
<span id="cb81-98"><a href="#cb81-98" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb81-99"><a href="#cb81-99" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb81-100"><a href="#cb81-100" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb81-101"><a href="#cb81-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-102"><a href="#cb81-102" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb81-103"><a href="#cb81-103" aria-hidden="true" tabindex="-1"></a><span class="in">head(stream_survey_week3)</span></span>
<span id="cb81-104"><a href="#cb81-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-105"><a href="#cb81-105" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb81-106"><a href="#cb81-106" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(stream_survey_week3, file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/streamSurvey3.csv", row.names = FALSE )</span></span>
<span id="cb81-107"><a href="#cb81-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-108"><a href="#cb81-108" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-109"><a href="#cb81-109" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the stream survey 4}</span></span>
<span id="cb81-110"><a href="#cb81-110" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the stream survey data</span></span>
<span id="cb81-111"><a href="#cb81-111" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week4 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 4.csv")</span></span>
<span id="cb81-112"><a href="#cb81-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-113"><a href="#cb81-113" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb81-114"><a href="#cb81-114" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb81-115"><a href="#cb81-115" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week4$date &lt;- as.Date(stream_survey_week4$date, format = "%m/%d/%Y")</span></span>
<span id="cb81-116"><a href="#cb81-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-117"><a href="#cb81-117" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and start time into a DateTime column</span></span>
<span id="cb81-118"><a href="#cb81-118" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week4$dateTime &lt;- as.POSIXct(paste(stream_survey_week4$date, </span></span>
<span id="cb81-119"><a href="#cb81-119" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 stream_survey_week4$startTime), </span></span>
<span id="cb81-120"><a href="#cb81-120" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M")</span></span>
<span id="cb81-121"><a href="#cb81-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-122"><a href="#cb81-122" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb81-123"><a href="#cb81-123" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 3:00 EST to 9:00 EST</span></span>
<span id="cb81-124"><a href="#cb81-124" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week4 &lt;- stream_survey_week4 %&gt;%</span></span>
<span id="cb81-125"><a href="#cb81-125" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb81-126"><a href="#cb81-126" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb81-127"><a href="#cb81-127" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime) &gt;= 2 &amp; hour(dateTime) &lt; 10 ~ "day",</span></span>
<span id="cb81-128"><a href="#cb81-128" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb81-129"><a href="#cb81-129" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb81-130"><a href="#cb81-130" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb81-131"><a href="#cb81-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-132"><a href="#cb81-132" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb81-133"><a href="#cb81-133" aria-hidden="true" tabindex="-1"></a><span class="in">head(stream_survey_week4)</span></span>
<span id="cb81-134"><a href="#cb81-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-135"><a href="#cb81-135" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb81-136"><a href="#cb81-136" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(stream_survey_week4, file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/streamSurvey4.csv", row.names = FALSE )</span></span>
<span id="cb81-137"><a href="#cb81-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-138"><a href="#cb81-138" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-139"><a href="#cb81-139" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the stream survey 5}</span></span>
<span id="cb81-140"><a href="#cb81-140" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the stream survey data</span></span>
<span id="cb81-141"><a href="#cb81-141" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week5 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 5.csv")</span></span>
<span id="cb81-142"><a href="#cb81-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-143"><a href="#cb81-143" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb81-144"><a href="#cb81-144" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb81-145"><a href="#cb81-145" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week5$date &lt;- as.Date(stream_survey_week5$date, format = "%m/%d/%Y")</span></span>
<span id="cb81-146"><a href="#cb81-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-147"><a href="#cb81-147" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and start time into a DateTime column</span></span>
<span id="cb81-148"><a href="#cb81-148" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week5$dateTime &lt;- as.POSIXct(paste(stream_survey_week5$date, </span></span>
<span id="cb81-149"><a href="#cb81-149" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 stream_survey_week5$startTime), </span></span>
<span id="cb81-150"><a href="#cb81-150" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M")</span></span>
<span id="cb81-151"><a href="#cb81-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-152"><a href="#cb81-152" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb81-153"><a href="#cb81-153" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb81-154"><a href="#cb81-154" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week5 &lt;- stream_survey_week5 %&gt;%</span></span>
<span id="cb81-155"><a href="#cb81-155" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb81-156"><a href="#cb81-156" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb81-157"><a href="#cb81-157" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime) &gt;= 6 &amp; hour(dateTime) &lt; 14 ~ "day",</span></span>
<span id="cb81-158"><a href="#cb81-158" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb81-159"><a href="#cb81-159" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb81-160"><a href="#cb81-160" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb81-161"><a href="#cb81-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-162"><a href="#cb81-162" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb81-163"><a href="#cb81-163" aria-hidden="true" tabindex="-1"></a><span class="in">head(stream_survey_week5)</span></span>
<span id="cb81-164"><a href="#cb81-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-165"><a href="#cb81-165" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb81-166"><a href="#cb81-166" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(stream_survey_week5, file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/streamSurvey5.csv", row.names = FALSE )</span></span>
<span id="cb81-167"><a href="#cb81-167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-168"><a href="#cb81-168" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-169"><a href="#cb81-169" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the stream survey 6}</span></span>
<span id="cb81-170"><a href="#cb81-170" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the stream survey data</span></span>
<span id="cb81-171"><a href="#cb81-171" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week6 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 6.csv")</span></span>
<span id="cb81-172"><a href="#cb81-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-173"><a href="#cb81-173" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb81-174"><a href="#cb81-174" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb81-175"><a href="#cb81-175" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week6$date &lt;- as.Date(stream_survey_week6$date, format = "%m/%d/%Y")</span></span>
<span id="cb81-176"><a href="#cb81-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-177"><a href="#cb81-177" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and start time into a DateTime column</span></span>
<span id="cb81-178"><a href="#cb81-178" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week6$dateTime &lt;- as.POSIXct(paste(stream_survey_week6$date, </span></span>
<span id="cb81-179"><a href="#cb81-179" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 stream_survey_week6$startTime), </span></span>
<span id="cb81-180"><a href="#cb81-180" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M")</span></span>
<span id="cb81-181"><a href="#cb81-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-182"><a href="#cb81-182" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb81-183"><a href="#cb81-183" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 3:00 EST to 9:00 EST</span></span>
<span id="cb81-184"><a href="#cb81-184" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week6 &lt;- stream_survey_week6 %&gt;%</span></span>
<span id="cb81-185"><a href="#cb81-185" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb81-186"><a href="#cb81-186" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb81-187"><a href="#cb81-187" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime) &gt;= 2 &amp; hour(dateTime) &lt; 10 ~ "day",</span></span>
<span id="cb81-188"><a href="#cb81-188" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb81-189"><a href="#cb81-189" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb81-190"><a href="#cb81-190" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb81-191"><a href="#cb81-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-192"><a href="#cb81-192" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb81-193"><a href="#cb81-193" aria-hidden="true" tabindex="-1"></a><span class="in">head(stream_survey_week6)</span></span>
<span id="cb81-194"><a href="#cb81-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-195"><a href="#cb81-195" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb81-196"><a href="#cb81-196" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(stream_survey_week6, file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/streamSurvey6.csv", row.names = FALSE )</span></span>
<span id="cb81-197"><a href="#cb81-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-198"><a href="#cb81-198" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-199"><a href="#cb81-199" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the stream survey 7}</span></span>
<span id="cb81-200"><a href="#cb81-200" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the stream survey data</span></span>
<span id="cb81-201"><a href="#cb81-201" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week7 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 7.csv")</span></span>
<span id="cb81-202"><a href="#cb81-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-203"><a href="#cb81-203" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb81-204"><a href="#cb81-204" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb81-205"><a href="#cb81-205" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week7$date &lt;- as.Date(stream_survey_week7$date, format = "%m/%d/%Y")</span></span>
<span id="cb81-206"><a href="#cb81-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-207"><a href="#cb81-207" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and start time into a DateTime column</span></span>
<span id="cb81-208"><a href="#cb81-208" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week7$dateTime &lt;- as.POSIXct(paste(stream_survey_week7$date, </span></span>
<span id="cb81-209"><a href="#cb81-209" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 stream_survey_week7$startTime), </span></span>
<span id="cb81-210"><a href="#cb81-210" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M")</span></span>
<span id="cb81-211"><a href="#cb81-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-212"><a href="#cb81-212" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb81-213"><a href="#cb81-213" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb81-214"><a href="#cb81-214" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week7 &lt;- stream_survey_week7 %&gt;%</span></span>
<span id="cb81-215"><a href="#cb81-215" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb81-216"><a href="#cb81-216" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb81-217"><a href="#cb81-217" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime) &gt;= 6 &amp; hour(dateTime) &lt; 14 ~ "day",</span></span>
<span id="cb81-218"><a href="#cb81-218" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb81-219"><a href="#cb81-219" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb81-220"><a href="#cb81-220" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb81-221"><a href="#cb81-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-222"><a href="#cb81-222" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb81-223"><a href="#cb81-223" aria-hidden="true" tabindex="-1"></a><span class="in">head(stream_survey_week7)</span></span>
<span id="cb81-224"><a href="#cb81-224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-225"><a href="#cb81-225" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb81-226"><a href="#cb81-226" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(stream_survey_week7, file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/streamSurvey7.csv", row.names = FALSE )</span></span>
<span id="cb81-227"><a href="#cb81-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-228"><a href="#cb81-228" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-229"><a href="#cb81-229" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the stream survey 8}</span></span>
<span id="cb81-230"><a href="#cb81-230" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the stream survey data</span></span>
<span id="cb81-231"><a href="#cb81-231" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week8 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 8.csv")</span></span>
<span id="cb81-232"><a href="#cb81-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-233"><a href="#cb81-233" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb81-234"><a href="#cb81-234" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb81-235"><a href="#cb81-235" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week8$date &lt;- as.Date(stream_survey_week8$date, format = "%m/%d/%Y")</span></span>
<span id="cb81-236"><a href="#cb81-236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-237"><a href="#cb81-237" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and start time into a DateTime column</span></span>
<span id="cb81-238"><a href="#cb81-238" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week8$dateTime &lt;- as.POSIXct(paste(stream_survey_week8$date, </span></span>
<span id="cb81-239"><a href="#cb81-239" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 stream_survey_week8$startTime), </span></span>
<span id="cb81-240"><a href="#cb81-240" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M")</span></span>
<span id="cb81-241"><a href="#cb81-241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-242"><a href="#cb81-242" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb81-243"><a href="#cb81-243" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 3:30 EST to 9:30 EST</span></span>
<span id="cb81-244"><a href="#cb81-244" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week8 &lt;- stream_survey_week8 %&gt;%</span></span>
<span id="cb81-245"><a href="#cb81-245" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb81-246"><a href="#cb81-246" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb81-247"><a href="#cb81-247" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime) &gt;= 2 &amp; hour(dateTime) &lt; 11 ~ "day",</span></span>
<span id="cb81-248"><a href="#cb81-248" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb81-249"><a href="#cb81-249" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb81-250"><a href="#cb81-250" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb81-251"><a href="#cb81-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-252"><a href="#cb81-252" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb81-253"><a href="#cb81-253" aria-hidden="true" tabindex="-1"></a><span class="in">head(stream_survey_week8)</span></span>
<span id="cb81-254"><a href="#cb81-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-255"><a href="#cb81-255" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb81-256"><a href="#cb81-256" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(stream_survey_week8, file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/streamSurvey8.csv", row.names = FALSE )</span></span>
<span id="cb81-257"><a href="#cb81-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-258"><a href="#cb81-258" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-259"><a href="#cb81-259" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the stream survey 9}</span></span>
<span id="cb81-260"><a href="#cb81-260" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the stream survey data</span></span>
<span id="cb81-261"><a href="#cb81-261" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week9 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 9.csv")</span></span>
<span id="cb81-262"><a href="#cb81-262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-263"><a href="#cb81-263" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb81-264"><a href="#cb81-264" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb81-265"><a href="#cb81-265" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week9$date &lt;- as.Date(stream_survey_week9$date, format = "%m/%d/%Y")</span></span>
<span id="cb81-266"><a href="#cb81-266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-267"><a href="#cb81-267" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and start time into a DateTime column</span></span>
<span id="cb81-268"><a href="#cb81-268" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week9$dateTime &lt;- as.POSIXct(paste(stream_survey_week9$date, </span></span>
<span id="cb81-269"><a href="#cb81-269" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 stream_survey_week9$startTime), </span></span>
<span id="cb81-270"><a href="#cb81-270" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M")</span></span>
<span id="cb81-271"><a href="#cb81-271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-272"><a href="#cb81-272" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb81-273"><a href="#cb81-273" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb81-274"><a href="#cb81-274" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week9 &lt;- stream_survey_week9 %&gt;%</span></span>
<span id="cb81-275"><a href="#cb81-275" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb81-276"><a href="#cb81-276" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb81-277"><a href="#cb81-277" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime) &gt;= 6 &amp; hour(dateTime) &lt; 14 ~ "day",</span></span>
<span id="cb81-278"><a href="#cb81-278" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb81-279"><a href="#cb81-279" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb81-280"><a href="#cb81-280" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb81-281"><a href="#cb81-281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-282"><a href="#cb81-282" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb81-283"><a href="#cb81-283" aria-hidden="true" tabindex="-1"></a><span class="in">head(stream_survey_week9)</span></span>
<span id="cb81-284"><a href="#cb81-284" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-285"><a href="#cb81-285" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb81-286"><a href="#cb81-286" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(stream_survey_week9, file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/streamSurvey9.csv", row.names = FALSE )</span></span>
<span id="cb81-287"><a href="#cb81-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-288"><a href="#cb81-288" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-289"><a href="#cb81-289" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the stream survey 10}</span></span>
<span id="cb81-290"><a href="#cb81-290" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the stream survey data</span></span>
<span id="cb81-291"><a href="#cb81-291" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week10 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 10.csv")</span></span>
<span id="cb81-292"><a href="#cb81-292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-293"><a href="#cb81-293" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb81-294"><a href="#cb81-294" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb81-295"><a href="#cb81-295" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week10$date &lt;- as.Date(stream_survey_week10$date, format = "%m/%d/%Y")</span></span>
<span id="cb81-296"><a href="#cb81-296" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-297"><a href="#cb81-297" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and start time into a DateTime column</span></span>
<span id="cb81-298"><a href="#cb81-298" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week10$dateTime &lt;- as.POSIXct(paste(stream_survey_week10$date, </span></span>
<span id="cb81-299"><a href="#cb81-299" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 stream_survey_week10$startTime), </span></span>
<span id="cb81-300"><a href="#cb81-300" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M")</span></span>
<span id="cb81-301"><a href="#cb81-301" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-302"><a href="#cb81-302" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb81-303"><a href="#cb81-303" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 4:00 EST to 10:00 EST</span></span>
<span id="cb81-304"><a href="#cb81-304" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week10 &lt;- stream_survey_week10 %&gt;%</span></span>
<span id="cb81-305"><a href="#cb81-305" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb81-306"><a href="#cb81-306" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb81-307"><a href="#cb81-307" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime) &gt;= 3 &amp; hour(dateTime) &lt; 11 ~ "day",</span></span>
<span id="cb81-308"><a href="#cb81-308" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb81-309"><a href="#cb81-309" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb81-310"><a href="#cb81-310" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb81-311"><a href="#cb81-311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-312"><a href="#cb81-312" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb81-313"><a href="#cb81-313" aria-hidden="true" tabindex="-1"></a><span class="in">head(stream_survey_week10)</span></span>
<span id="cb81-314"><a href="#cb81-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-315"><a href="#cb81-315" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb81-316"><a href="#cb81-316" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(stream_survey_week10, file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/streamSurvey10.csv", row.names = FALSE )</span></span>
<span id="cb81-317"><a href="#cb81-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-318"><a href="#cb81-318" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-319"><a href="#cb81-319" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the stream survey 11}</span></span>
<span id="cb81-320"><a href="#cb81-320" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the stream survey data</span></span>
<span id="cb81-321"><a href="#cb81-321" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week11 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 11.csv")</span></span>
<span id="cb81-322"><a href="#cb81-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-323"><a href="#cb81-323" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb81-324"><a href="#cb81-324" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb81-325"><a href="#cb81-325" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week11$date &lt;- as.Date(stream_survey_week11$date, format = "%m/%d/%Y")</span></span>
<span id="cb81-326"><a href="#cb81-326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-327"><a href="#cb81-327" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and start time into a DateTime column</span></span>
<span id="cb81-328"><a href="#cb81-328" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week11$dateTime &lt;- as.POSIXct(paste(stream_survey_week11$date, </span></span>
<span id="cb81-329"><a href="#cb81-329" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 stream_survey_week11$startTime), </span></span>
<span id="cb81-330"><a href="#cb81-330" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M")</span></span>
<span id="cb81-331"><a href="#cb81-331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-332"><a href="#cb81-332" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column </span></span>
<span id="cb81-333"><a href="#cb81-333" aria-hidden="true" tabindex="-1"></a><span class="in"># All shifts in week 11 were day shifts</span></span>
<span id="cb81-334"><a href="#cb81-334" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week11 &lt;- stream_survey_week11 %&gt;%</span></span>
<span id="cb81-335"><a href="#cb81-335" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(shift = "day")</span></span>
<span id="cb81-336"><a href="#cb81-336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-337"><a href="#cb81-337" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb81-338"><a href="#cb81-338" aria-hidden="true" tabindex="-1"></a><span class="in">head(stream_survey_week11)</span></span>
<span id="cb81-339"><a href="#cb81-339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-340"><a href="#cb81-340" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb81-341"><a href="#cb81-341" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(stream_survey_week11, file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/streamSurvey11.csv", row.names = FALSE )</span></span>
<span id="cb81-342"><a href="#cb81-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-343"><a href="#cb81-343" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-344"><a href="#cb81-344" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the stream survey 12}</span></span>
<span id="cb81-345"><a href="#cb81-345" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the stream survey data</span></span>
<span id="cb81-346"><a href="#cb81-346" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week12 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/Stream Survey Week 12.csv")</span></span>
<span id="cb81-347"><a href="#cb81-347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-348"><a href="#cb81-348" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb81-349"><a href="#cb81-349" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb81-350"><a href="#cb81-350" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week12$date &lt;- as.Date(stream_survey_week12$date, format = "%m/%d/%Y")</span></span>
<span id="cb81-351"><a href="#cb81-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-352"><a href="#cb81-352" aria-hidden="true" tabindex="-1"></a><span class="in"># Combining the date and start time into a DateTime column</span></span>
<span id="cb81-353"><a href="#cb81-353" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week12$dateTime &lt;- as.POSIXct(paste(stream_survey_week12$date, </span></span>
<span id="cb81-354"><a href="#cb81-354" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 stream_survey_week12$startTime), </span></span>
<span id="cb81-355"><a href="#cb81-355" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M")</span></span>
<span id="cb81-356"><a href="#cb81-356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-357"><a href="#cb81-357" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column</span></span>
<span id="cb81-358"><a href="#cb81-358" aria-hidden="true" tabindex="-1"></a><span class="in"># All shifts in week 12 were day shifts</span></span>
<span id="cb81-359"><a href="#cb81-359" aria-hidden="true" tabindex="-1"></a><span class="in">stream_survey_week12 &lt;- stream_survey_week12 %&gt;%</span></span>
<span id="cb81-360"><a href="#cb81-360" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(shift = "day")</span></span>
<span id="cb81-361"><a href="#cb81-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-362"><a href="#cb81-362" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb81-363"><a href="#cb81-363" aria-hidden="true" tabindex="-1"></a><span class="in">head(stream_survey_week12)</span></span>
<span id="cb81-364"><a href="#cb81-364" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-365"><a href="#cb81-365" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb81-366"><a href="#cb81-366" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(stream_survey_week12, file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/streamSurvey12.csv", row.names = FALSE )</span></span>
<span id="cb81-367"><a href="#cb81-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-368"><a href="#cb81-368" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-369"><a href="#cb81-369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-370"><a href="#cb81-370" aria-hidden="true" tabindex="-1"></a><span class="in">```{r processing stream surveys}</span></span>
<span id="cb81-371"><a href="#cb81-371" aria-hidden="true" tabindex="-1"></a><span class="in"># Define file names</span></span>
<span id="cb81-372"><a href="#cb81-372" aria-hidden="true" tabindex="-1"></a><span class="in">stream_file_names &lt;- c("streamSurvey1.csv", "streamSurvey2.csv", "streamSurvey3.csv", "streamSurvey4.csv", "streamSurvey5.csv", "streamSurvey6.csv", "streamSurvey7.csv", "streamSurvey8.csv", "streamSurvey9.csv", "streamSurvey10.csv", "streamSurvey11.csv", "streamSurvey12.csv") </span></span>
<span id="cb81-373"><a href="#cb81-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-374"><a href="#cb81-374" aria-hidden="true" tabindex="-1"></a><span class="in"># Define a lookup table for stream names</span></span>
<span id="cb81-375"><a href="#cb81-375" aria-hidden="true" tabindex="-1"></a><span class="in">stream_name_lookup &lt;- data.frame(</span></span>
<span id="cb81-376"><a href="#cb81-376" aria-hidden="true" tabindex="-1"></a><span class="in">  Abbreviation = c("Dickey (DCKY)", "Amethyst (AMTH)", "Underhill (UNDH)", </span></span>
<span id="cb81-377"><a href="#cb81-377" aria-hidden="true" tabindex="-1"></a><span class="in">                   "Dry (DRYU)"),  # List all abbreviations</span></span>
<span id="cb81-378"><a href="#cb81-378" aria-hidden="true" tabindex="-1"></a><span class="in">  FullName = c("DICKEY", "AMETHYST", "UNDERHILL", "DRY UPPER")  # Corresponding full names</span></span>
<span id="cb81-379"><a href="#cb81-379" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb81-380"><a href="#cb81-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-381"><a href="#cb81-381" aria-hidden="true" tabindex="-1"></a><span class="in"># Create an empty list to store the processed datasets</span></span>
<span id="cb81-382"><a href="#cb81-382" aria-hidden="true" tabindex="-1"></a><span class="in">processed_stream_data_list &lt;- list()</span></span>
<span id="cb81-383"><a href="#cb81-383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-384"><a href="#cb81-384" aria-hidden="true" tabindex="-1"></a><span class="in"># Loop through each stream survey file</span></span>
<span id="cb81-385"><a href="#cb81-385" aria-hidden="true" tabindex="-1"></a><span class="in">for (file_name in stream_file_names) {</span></span>
<span id="cb81-386"><a href="#cb81-386" aria-hidden="true" tabindex="-1"></a><span class="in">  # Read in the stream survey data</span></span>
<span id="cb81-387"><a href="#cb81-387" aria-hidden="true" tabindex="-1"></a><span class="in">  rawStreamData &lt;- read.csv(file_name)</span></span>
<span id="cb81-388"><a href="#cb81-388" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb81-389"><a href="#cb81-389" aria-hidden="true" tabindex="-1"></a><span class="in">  # Step 1: Process the data</span></span>
<span id="cb81-390"><a href="#cb81-390" aria-hidden="true" tabindex="-1"></a><span class="in">  streamData &lt;- rawStreamData %&gt;%</span></span>
<span id="cb81-391"><a href="#cb81-391" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb81-392"><a href="#cb81-392" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 2: Select specific columns</span></span>
<span id="cb81-393"><a href="#cb81-393" aria-hidden="true" tabindex="-1"></a><span class="in">    select(stream, airTemp, cloud, precip, startTime, endTime, iso, Notes, </span></span>
<span id="cb81-394"><a href="#cb81-394" aria-hidden="true" tabindex="-1"></a><span class="in">           isoTime, downstreamGPS, downstreamGain, upstreamGPS, upstreamGain, shift) %&gt;%</span></span>
<span id="cb81-395"><a href="#cb81-395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-396"><a href="#cb81-396" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 3: Rename columns</span></span>
<span id="cb81-397"><a href="#cb81-397" aria-hidden="true" tabindex="-1"></a><span class="in">    rename(</span></span>
<span id="cb81-398"><a href="#cb81-398" aria-hidden="true" tabindex="-1"></a><span class="in">      streamNotes = Notes,</span></span>
<span id="cb81-399"><a href="#cb81-399" aria-hidden="true" tabindex="-1"></a><span class="in">      river = stream) %&gt;%</span></span>
<span id="cb81-400"><a href="#cb81-400" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb81-401"><a href="#cb81-401" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 4: Rewrite stream names</span></span>
<span id="cb81-402"><a href="#cb81-402" aria-hidden="true" tabindex="-1"></a><span class="in">    left_join(stream_name_lookup, by = c("river" = "Abbreviation")) %&gt;%</span></span>
<span id="cb81-403"><a href="#cb81-403" aria-hidden="true" tabindex="-1"></a><span class="in">    mutate(</span></span>
<span id="cb81-404"><a href="#cb81-404" aria-hidden="true" tabindex="-1"></a><span class="in">      river = coalesce(FullName, river)  # Replace Brook with FullName, if available</span></span>
<span id="cb81-405"><a href="#cb81-405" aria-hidden="true" tabindex="-1"></a><span class="in">    ) %&gt;%</span></span>
<span id="cb81-406"><a href="#cb81-406" aria-hidden="true" tabindex="-1"></a><span class="in">    select(-FullName)  # Remove the FullName column as it's no longer needed</span></span>
<span id="cb81-407"><a href="#cb81-407" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb81-408"><a href="#cb81-408" aria-hidden="true" tabindex="-1"></a><span class="in">  # Store the processed data in the list</span></span>
<span id="cb81-409"><a href="#cb81-409" aria-hidden="true" tabindex="-1"></a><span class="in">  processed_stream_data_list[[file_name]] &lt;- streamData</span></span>
<span id="cb81-410"><a href="#cb81-410" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb81-411"><a href="#cb81-411" aria-hidden="true" tabindex="-1"></a><span class="in">  # Overwrite the original file with the processed data</span></span>
<span id="cb81-412"><a href="#cb81-412" aria-hidden="true" tabindex="-1"></a><span class="in">  write.csv(streamData, file_name, row.names = FALSE)</span></span>
<span id="cb81-413"><a href="#cb81-413" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb81-414"><a href="#cb81-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-415"><a href="#cb81-415" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of each processed dataset</span></span>
<span id="cb81-416"><a href="#cb81-416" aria-hidden="true" tabindex="-1"></a><span class="in">for (i in 1:length(processed_stream_data_list)) {</span></span>
<span id="cb81-417"><a href="#cb81-417" aria-hidden="true" tabindex="-1"></a><span class="in">  cat("\nData for", stream_file_names[i], ":\n")</span></span>
<span id="cb81-418"><a href="#cb81-418" aria-hidden="true" tabindex="-1"></a><span class="in">  print(head(processed_stream_data_list[[i]]))</span></span>
<span id="cb81-419"><a href="#cb81-419" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb81-420"><a href="#cb81-420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-421"><a href="#cb81-421" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-422"><a href="#cb81-422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-423"><a href="#cb81-423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-424"><a href="#cb81-424" aria-hidden="true" tabindex="-1"></a><span class="fu"># Preparing Fish Surveys</span></span>
<span id="cb81-425"><a href="#cb81-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-426"><a href="#cb81-426" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the fish survey 1}</span></span>
<span id="cb81-427"><a href="#cb81-427" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey data</span></span>
<span id="cb81-428"><a href="#cb81-428" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week1 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 1.csv")</span></span>
<span id="cb81-429"><a href="#cb81-429" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-430"><a href="#cb81-430" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb81-431"><a href="#cb81-431" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb81-432"><a href="#cb81-432" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week1$date &lt;- as.Date(fish_survey_week1$date, format = "%m/%d/%Y")</span></span>
<span id="cb81-433"><a href="#cb81-433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-434"><a href="#cb81-434" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb81-435"><a href="#cb81-435" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week1$dateTime &lt;- as.POSIXct(paste(fish_survey_week1$date, </span></span>
<span id="cb81-436"><a href="#cb81-436" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 fish_survey_week1$time), </span></span>
<span id="cb81-437"><a href="#cb81-437" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M")</span></span>
<span id="cb81-438"><a href="#cb81-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-439"><a href="#cb81-439" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb81-440"><a href="#cb81-440" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 5:00 EST to 11:00 EST</span></span>
<span id="cb81-441"><a href="#cb81-441" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week1 &lt;- fish_survey_week1 %&gt;%</span></span>
<span id="cb81-442"><a href="#cb81-442" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb81-443"><a href="#cb81-443" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb81-444"><a href="#cb81-444" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime) &gt;= 4 &amp; hour(dateTime) &lt; 12 ~ "day",</span></span>
<span id="cb81-445"><a href="#cb81-445" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb81-446"><a href="#cb81-446" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb81-447"><a href="#cb81-447" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb81-448"><a href="#cb81-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-449"><a href="#cb81-449" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb81-450"><a href="#cb81-450" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_survey_week1)</span></span>
<span id="cb81-451"><a href="#cb81-451" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-452"><a href="#cb81-452" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new fish survey csv</span></span>
<span id="cb81-453"><a href="#cb81-453" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_survey_week1, file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fishSurvey1.csv", row.names = FALSE )</span></span>
<span id="cb81-454"><a href="#cb81-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-455"><a href="#cb81-455" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-456"><a href="#cb81-456" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the fish survey 2}</span></span>
<span id="cb81-457"><a href="#cb81-457" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey data</span></span>
<span id="cb81-458"><a href="#cb81-458" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week2 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 2.csv")</span></span>
<span id="cb81-459"><a href="#cb81-459" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-460"><a href="#cb81-460" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb81-461"><a href="#cb81-461" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb81-462"><a href="#cb81-462" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week2$date &lt;- as.Date(fish_survey_week2$date, format = "%m/%d/%Y")</span></span>
<span id="cb81-463"><a href="#cb81-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-464"><a href="#cb81-464" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb81-465"><a href="#cb81-465" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week2$dateTime &lt;- as.POSIXct(paste(fish_survey_week2$date, </span></span>
<span id="cb81-466"><a href="#cb81-466" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 fish_survey_week2$time), </span></span>
<span id="cb81-467"><a href="#cb81-467" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M")</span></span>
<span id="cb81-468"><a href="#cb81-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-469"><a href="#cb81-469" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb81-470"><a href="#cb81-470" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 11:00 EST to 17:00 EST</span></span>
<span id="cb81-471"><a href="#cb81-471" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week2 &lt;- fish_survey_week2 %&gt;%</span></span>
<span id="cb81-472"><a href="#cb81-472" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb81-473"><a href="#cb81-473" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb81-474"><a href="#cb81-474" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime) &gt;= 10 &amp; hour(dateTime) &lt; 18 ~ "day",</span></span>
<span id="cb81-475"><a href="#cb81-475" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb81-476"><a href="#cb81-476" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb81-477"><a href="#cb81-477" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb81-478"><a href="#cb81-478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-479"><a href="#cb81-479" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb81-480"><a href="#cb81-480" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_survey_week2)</span></span>
<span id="cb81-481"><a href="#cb81-481" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-482"><a href="#cb81-482" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new fish survey csv</span></span>
<span id="cb81-483"><a href="#cb81-483" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_survey_week2, file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fishSurvey2.csv", row.names = FALSE )</span></span>
<span id="cb81-484"><a href="#cb81-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-485"><a href="#cb81-485" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-486"><a href="#cb81-486" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the fish survey 3}</span></span>
<span id="cb81-487"><a href="#cb81-487" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey data</span></span>
<span id="cb81-488"><a href="#cb81-488" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week3 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 3.csv")</span></span>
<span id="cb81-489"><a href="#cb81-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-490"><a href="#cb81-490" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb81-491"><a href="#cb81-491" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb81-492"><a href="#cb81-492" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week3$date &lt;- as.Date(fish_survey_week3$date, format = "%m/%d/%Y")</span></span>
<span id="cb81-493"><a href="#cb81-493" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-494"><a href="#cb81-494" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb81-495"><a href="#cb81-495" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week3$dateTime &lt;- as.POSIXct(paste(fish_survey_week3$date, </span></span>
<span id="cb81-496"><a href="#cb81-496" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 fish_survey_week3$time), </span></span>
<span id="cb81-497"><a href="#cb81-497" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M")</span></span>
<span id="cb81-498"><a href="#cb81-498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-499"><a href="#cb81-499" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb81-500"><a href="#cb81-500" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 5:00 EST to 11:00 EST</span></span>
<span id="cb81-501"><a href="#cb81-501" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week3 &lt;- fish_survey_week3 %&gt;%</span></span>
<span id="cb81-502"><a href="#cb81-502" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb81-503"><a href="#cb81-503" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb81-504"><a href="#cb81-504" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime) &gt;= 4 &amp; hour(dateTime) &lt; 12 ~ "day",</span></span>
<span id="cb81-505"><a href="#cb81-505" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb81-506"><a href="#cb81-506" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb81-507"><a href="#cb81-507" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb81-508"><a href="#cb81-508" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-509"><a href="#cb81-509" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb81-510"><a href="#cb81-510" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_survey_week3)</span></span>
<span id="cb81-511"><a href="#cb81-511" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-512"><a href="#cb81-512" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new fish survey csv</span></span>
<span id="cb81-513"><a href="#cb81-513" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_survey_week3, file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fishSurvey3.csv", row.names = FALSE )</span></span>
<span id="cb81-514"><a href="#cb81-514" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-515"><a href="#cb81-515" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-516"><a href="#cb81-516" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the fish survey 4}</span></span>
<span id="cb81-517"><a href="#cb81-517" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey data</span></span>
<span id="cb81-518"><a href="#cb81-518" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week4 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 4.csv")</span></span>
<span id="cb81-519"><a href="#cb81-519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-520"><a href="#cb81-520" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb81-521"><a href="#cb81-521" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb81-522"><a href="#cb81-522" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week4$date &lt;- as.Date(fish_survey_week4$date, format = "%m/%d/%Y")</span></span>
<span id="cb81-523"><a href="#cb81-523" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-524"><a href="#cb81-524" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb81-525"><a href="#cb81-525" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week4$dateTime &lt;- as.POSIXct(paste(fish_survey_week4$date, </span></span>
<span id="cb81-526"><a href="#cb81-526" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 fish_survey_week4$time), </span></span>
<span id="cb81-527"><a href="#cb81-527" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M")</span></span>
<span id="cb81-528"><a href="#cb81-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-529"><a href="#cb81-529" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb81-530"><a href="#cb81-530" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 3:00 EST to 9:00 EST</span></span>
<span id="cb81-531"><a href="#cb81-531" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week4 &lt;- fish_survey_week4 %&gt;%</span></span>
<span id="cb81-532"><a href="#cb81-532" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb81-533"><a href="#cb81-533" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb81-534"><a href="#cb81-534" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime) &gt;= 2 &amp; hour(dateTime) &lt; 10 ~ "day",</span></span>
<span id="cb81-535"><a href="#cb81-535" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb81-536"><a href="#cb81-536" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb81-537"><a href="#cb81-537" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb81-538"><a href="#cb81-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-539"><a href="#cb81-539" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb81-540"><a href="#cb81-540" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_survey_week4)</span></span>
<span id="cb81-541"><a href="#cb81-541" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-542"><a href="#cb81-542" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new fish survey csv</span></span>
<span id="cb81-543"><a href="#cb81-543" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_survey_week4, file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fishSurvey4.csv", row.names = FALSE )</span></span>
<span id="cb81-544"><a href="#cb81-544" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-545"><a href="#cb81-545" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-546"><a href="#cb81-546" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the fish survey 5}</span></span>
<span id="cb81-547"><a href="#cb81-547" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey data</span></span>
<span id="cb81-548"><a href="#cb81-548" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week5 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 5.csv")</span></span>
<span id="cb81-549"><a href="#cb81-549" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-550"><a href="#cb81-550" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb81-551"><a href="#cb81-551" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb81-552"><a href="#cb81-552" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week5$date &lt;- as.Date(fish_survey_week5$date, format = "%m/%d/%Y")</span></span>
<span id="cb81-553"><a href="#cb81-553" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-554"><a href="#cb81-554" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb81-555"><a href="#cb81-555" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week5$dateTime &lt;- as.POSIXct(paste(fish_survey_week5$date, </span></span>
<span id="cb81-556"><a href="#cb81-556" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 fish_survey_week5$time), </span></span>
<span id="cb81-557"><a href="#cb81-557" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M")</span></span>
<span id="cb81-558"><a href="#cb81-558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-559"><a href="#cb81-559" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb81-560"><a href="#cb81-560" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb81-561"><a href="#cb81-561" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week5 &lt;- fish_survey_week5 %&gt;%</span></span>
<span id="cb81-562"><a href="#cb81-562" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb81-563"><a href="#cb81-563" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb81-564"><a href="#cb81-564" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime) &gt;= 6 &amp; hour(dateTime) &lt; 14 ~ "day",</span></span>
<span id="cb81-565"><a href="#cb81-565" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb81-566"><a href="#cb81-566" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb81-567"><a href="#cb81-567" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb81-568"><a href="#cb81-568" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-569"><a href="#cb81-569" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb81-570"><a href="#cb81-570" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_survey_week5)</span></span>
<span id="cb81-571"><a href="#cb81-571" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-572"><a href="#cb81-572" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new fish survey csv</span></span>
<span id="cb81-573"><a href="#cb81-573" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_survey_week5, file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fishSurvey5.csv", row.names = FALSE )</span></span>
<span id="cb81-574"><a href="#cb81-574" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-575"><a href="#cb81-575" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-576"><a href="#cb81-576" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the fish survey 6}</span></span>
<span id="cb81-577"><a href="#cb81-577" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey data</span></span>
<span id="cb81-578"><a href="#cb81-578" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week6 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 6.csv")</span></span>
<span id="cb81-579"><a href="#cb81-579" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-580"><a href="#cb81-580" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb81-581"><a href="#cb81-581" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb81-582"><a href="#cb81-582" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week6$date &lt;- as.Date(fish_survey_week6$date, format = "%m/%d/%Y")</span></span>
<span id="cb81-583"><a href="#cb81-583" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-584"><a href="#cb81-584" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb81-585"><a href="#cb81-585" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week6$dateTime &lt;- as.POSIXct(paste(fish_survey_week6$date, </span></span>
<span id="cb81-586"><a href="#cb81-586" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 fish_survey_week6$time), </span></span>
<span id="cb81-587"><a href="#cb81-587" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M")</span></span>
<span id="cb81-588"><a href="#cb81-588" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-589"><a href="#cb81-589" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb81-590"><a href="#cb81-590" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 3:00 EST to 9:00 EST</span></span>
<span id="cb81-591"><a href="#cb81-591" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week6 &lt;- fish_survey_week6 %&gt;%</span></span>
<span id="cb81-592"><a href="#cb81-592" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb81-593"><a href="#cb81-593" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb81-594"><a href="#cb81-594" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime) &gt;= 2 &amp; hour(dateTime) &lt; 10 ~ "day",</span></span>
<span id="cb81-595"><a href="#cb81-595" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb81-596"><a href="#cb81-596" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb81-597"><a href="#cb81-597" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb81-598"><a href="#cb81-598" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-599"><a href="#cb81-599" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb81-600"><a href="#cb81-600" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_survey_week6)</span></span>
<span id="cb81-601"><a href="#cb81-601" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-602"><a href="#cb81-602" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new fish survey csv</span></span>
<span id="cb81-603"><a href="#cb81-603" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_survey_week6, file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fishSurvey6.csv", row.names = FALSE )</span></span>
<span id="cb81-604"><a href="#cb81-604" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-605"><a href="#cb81-605" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-606"><a href="#cb81-606" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the fish survey 7}</span></span>
<span id="cb81-607"><a href="#cb81-607" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey data</span></span>
<span id="cb81-608"><a href="#cb81-608" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week7 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 7.csv")</span></span>
<span id="cb81-609"><a href="#cb81-609" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-610"><a href="#cb81-610" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb81-611"><a href="#cb81-611" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb81-612"><a href="#cb81-612" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week7$date &lt;- as.Date(fish_survey_week7$date, format = "%m/%d/%Y")</span></span>
<span id="cb81-613"><a href="#cb81-613" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-614"><a href="#cb81-614" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb81-615"><a href="#cb81-615" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week7$dateTime &lt;- as.POSIXct(paste(fish_survey_week7$date, </span></span>
<span id="cb81-616"><a href="#cb81-616" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 fish_survey_week7$time), </span></span>
<span id="cb81-617"><a href="#cb81-617" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M")</span></span>
<span id="cb81-618"><a href="#cb81-618" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-619"><a href="#cb81-619" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb81-620"><a href="#cb81-620" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb81-621"><a href="#cb81-621" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week7 &lt;- fish_survey_week7 %&gt;%</span></span>
<span id="cb81-622"><a href="#cb81-622" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb81-623"><a href="#cb81-623" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb81-624"><a href="#cb81-624" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime) &gt;= 6 &amp; hour(dateTime) &lt; 14 ~ "day",</span></span>
<span id="cb81-625"><a href="#cb81-625" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb81-626"><a href="#cb81-626" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb81-627"><a href="#cb81-627" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb81-628"><a href="#cb81-628" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-629"><a href="#cb81-629" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb81-630"><a href="#cb81-630" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_survey_week7)</span></span>
<span id="cb81-631"><a href="#cb81-631" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-632"><a href="#cb81-632" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new fish survey csv</span></span>
<span id="cb81-633"><a href="#cb81-633" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_survey_week7, file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fishSurvey7.csv", row.names = FALSE )</span></span>
<span id="cb81-634"><a href="#cb81-634" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-635"><a href="#cb81-635" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-636"><a href="#cb81-636" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the fish survey 8}</span></span>
<span id="cb81-637"><a href="#cb81-637" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey data</span></span>
<span id="cb81-638"><a href="#cb81-638" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week8 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 8.csv")</span></span>
<span id="cb81-639"><a href="#cb81-639" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-640"><a href="#cb81-640" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb81-641"><a href="#cb81-641" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb81-642"><a href="#cb81-642" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week8$date &lt;- as.Date(fish_survey_week8$date, format = "%m/%d/%Y")</span></span>
<span id="cb81-643"><a href="#cb81-643" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-644"><a href="#cb81-644" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb81-645"><a href="#cb81-645" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week8$dateTime &lt;- as.POSIXct(paste(fish_survey_week8$date, </span></span>
<span id="cb81-646"><a href="#cb81-646" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 fish_survey_week8$time), </span></span>
<span id="cb81-647"><a href="#cb81-647" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M")</span></span>
<span id="cb81-648"><a href="#cb81-648" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-649"><a href="#cb81-649" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb81-650"><a href="#cb81-650" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 3:30 EST to 9:30 EST</span></span>
<span id="cb81-651"><a href="#cb81-651" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week8 &lt;- fish_survey_week8 %&gt;%</span></span>
<span id="cb81-652"><a href="#cb81-652" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb81-653"><a href="#cb81-653" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb81-654"><a href="#cb81-654" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime) &gt;= 2 &amp; hour(dateTime) &lt; 11 ~ "day",</span></span>
<span id="cb81-655"><a href="#cb81-655" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb81-656"><a href="#cb81-656" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb81-657"><a href="#cb81-657" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb81-658"><a href="#cb81-658" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-659"><a href="#cb81-659" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb81-660"><a href="#cb81-660" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_survey_week8)</span></span>
<span id="cb81-661"><a href="#cb81-661" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-662"><a href="#cb81-662" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new fish survey csv</span></span>
<span id="cb81-663"><a href="#cb81-663" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_survey_week8, file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fishSurvey8.csv", row.names = FALSE )</span></span>
<span id="cb81-664"><a href="#cb81-664" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-665"><a href="#cb81-665" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-666"><a href="#cb81-666" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the fish survey 9}</span></span>
<span id="cb81-667"><a href="#cb81-667" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey data</span></span>
<span id="cb81-668"><a href="#cb81-668" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week9 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 9.csv")</span></span>
<span id="cb81-669"><a href="#cb81-669" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-670"><a href="#cb81-670" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb81-671"><a href="#cb81-671" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb81-672"><a href="#cb81-672" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week9$date &lt;- as.Date(fish_survey_week9$date, format = "%m/%d/%Y")</span></span>
<span id="cb81-673"><a href="#cb81-673" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-674"><a href="#cb81-674" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb81-675"><a href="#cb81-675" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week9$dateTime &lt;- as.POSIXct(paste(fish_survey_week9$date, </span></span>
<span id="cb81-676"><a href="#cb81-676" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 fish_survey_week9$time), </span></span>
<span id="cb81-677"><a href="#cb81-677" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M")</span></span>
<span id="cb81-678"><a href="#cb81-678" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-679"><a href="#cb81-679" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb81-680"><a href="#cb81-680" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 7:00 EST to 13:00 EST</span></span>
<span id="cb81-681"><a href="#cb81-681" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week9 &lt;- fish_survey_week9 %&gt;%</span></span>
<span id="cb81-682"><a href="#cb81-682" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb81-683"><a href="#cb81-683" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb81-684"><a href="#cb81-684" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime) &gt;= 6 &amp; hour(dateTime) &lt; 14 ~ "day",</span></span>
<span id="cb81-685"><a href="#cb81-685" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb81-686"><a href="#cb81-686" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb81-687"><a href="#cb81-687" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb81-688"><a href="#cb81-688" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-689"><a href="#cb81-689" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb81-690"><a href="#cb81-690" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_survey_week9)</span></span>
<span id="cb81-691"><a href="#cb81-691" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-692"><a href="#cb81-692" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new stream survey csv</span></span>
<span id="cb81-693"><a href="#cb81-693" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_survey_week9, file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fishSurvey9.csv", row.names = FALSE )</span></span>
<span id="cb81-694"><a href="#cb81-694" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-695"><a href="#cb81-695" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-696"><a href="#cb81-696" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the fish survey 10}</span></span>
<span id="cb81-697"><a href="#cb81-697" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey data</span></span>
<span id="cb81-698"><a href="#cb81-698" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week10 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 10.csv")</span></span>
<span id="cb81-699"><a href="#cb81-699" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-700"><a href="#cb81-700" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb81-701"><a href="#cb81-701" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb81-702"><a href="#cb81-702" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week10$date &lt;- as.Date(fish_survey_week10$date, format = "%m/%d/%Y")</span></span>
<span id="cb81-703"><a href="#cb81-703" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-704"><a href="#cb81-704" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb81-705"><a href="#cb81-705" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week10$dateTime &lt;- as.POSIXct(paste(fish_survey_week10$date, </span></span>
<span id="cb81-706"><a href="#cb81-706" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 fish_survey_week10$time), </span></span>
<span id="cb81-707"><a href="#cb81-707" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M")</span></span>
<span id="cb81-708"><a href="#cb81-708" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-709"><a href="#cb81-709" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column based on the time ranges</span></span>
<span id="cb81-710"><a href="#cb81-710" aria-hidden="true" tabindex="-1"></a><span class="in"># Day shifts were from 4:00 EST to 10:00 EST</span></span>
<span id="cb81-711"><a href="#cb81-711" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week10 &lt;- fish_survey_week10 %&gt;%</span></span>
<span id="cb81-712"><a href="#cb81-712" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(</span></span>
<span id="cb81-713"><a href="#cb81-713" aria-hidden="true" tabindex="-1"></a><span class="in">    shift = case_when(</span></span>
<span id="cb81-714"><a href="#cb81-714" aria-hidden="true" tabindex="-1"></a><span class="in">        hour(dateTime) &gt;= 3 &amp; hour(dateTime) &lt; 11 ~ "day",</span></span>
<span id="cb81-715"><a href="#cb81-715" aria-hidden="true" tabindex="-1"></a><span class="in">        TRUE ~ "night"  # Any other time is night shift</span></span>
<span id="cb81-716"><a href="#cb81-716" aria-hidden="true" tabindex="-1"></a><span class="in">    )</span></span>
<span id="cb81-717"><a href="#cb81-717" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb81-718"><a href="#cb81-718" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-719"><a href="#cb81-719" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb81-720"><a href="#cb81-720" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_survey_week10)</span></span>
<span id="cb81-721"><a href="#cb81-721" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-722"><a href="#cb81-722" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new fish survey csv</span></span>
<span id="cb81-723"><a href="#cb81-723" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_survey_week10, file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fishSurvey10.csv", row.names = FALSE )</span></span>
<span id="cb81-724"><a href="#cb81-724" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-725"><a href="#cb81-725" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-726"><a href="#cb81-726" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the fish survey 11}</span></span>
<span id="cb81-727"><a href="#cb81-727" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey data</span></span>
<span id="cb81-728"><a href="#cb81-728" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week11 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 11.csv")</span></span>
<span id="cb81-729"><a href="#cb81-729" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-730"><a href="#cb81-730" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb81-731"><a href="#cb81-731" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb81-732"><a href="#cb81-732" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week11$date &lt;- as.Date(fish_survey_week11$date, format = "%m/%d/%Y")</span></span>
<span id="cb81-733"><a href="#cb81-733" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-734"><a href="#cb81-734" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb81-735"><a href="#cb81-735" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week11$dateTime &lt;- as.POSIXct(paste(fish_survey_week11$date, </span></span>
<span id="cb81-736"><a href="#cb81-736" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 fish_survey_week11$time), </span></span>
<span id="cb81-737"><a href="#cb81-737" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M")</span></span>
<span id="cb81-738"><a href="#cb81-738" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-739"><a href="#cb81-739" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column </span></span>
<span id="cb81-740"><a href="#cb81-740" aria-hidden="true" tabindex="-1"></a><span class="in"># All shifts in week 11 were day shifts</span></span>
<span id="cb81-741"><a href="#cb81-741" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week11 &lt;- fish_survey_week11 %&gt;%</span></span>
<span id="cb81-742"><a href="#cb81-742" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(shift = "day")</span></span>
<span id="cb81-743"><a href="#cb81-743" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-744"><a href="#cb81-744" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb81-745"><a href="#cb81-745" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_survey_week11)</span></span>
<span id="cb81-746"><a href="#cb81-746" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-747"><a href="#cb81-747" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new fish survey csv</span></span>
<span id="cb81-748"><a href="#cb81-748" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_survey_week11, file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fishSurvey11.csv", row.names = FALSE )</span></span>
<span id="cb81-749"><a href="#cb81-749" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-750"><a href="#cb81-750" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-751"><a href="#cb81-751" aria-hidden="true" tabindex="-1"></a><span class="in">```{r add day and night shift differentiation into the fish survey 12}</span></span>
<span id="cb81-752"><a href="#cb81-752" aria-hidden="true" tabindex="-1"></a><span class="in"># Read in the fish survey data</span></span>
<span id="cb81-753"><a href="#cb81-753" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week12 &lt;- read.csv("C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/rawTrackingData/Fish Survey Week 12.csv")</span></span>
<span id="cb81-754"><a href="#cb81-754" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-755"><a href="#cb81-755" aria-hidden="true" tabindex="-1"></a><span class="in"># Convert date to remove the incorrect associated time and keep only the date </span></span>
<span id="cb81-756"><a href="#cb81-756" aria-hidden="true" tabindex="-1"></a><span class="in"># Adjust date into the correct format</span></span>
<span id="cb81-757"><a href="#cb81-757" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week12$date &lt;- as.Date(fish_survey_week12$date, format = "%m/%d/%Y")</span></span>
<span id="cb81-758"><a href="#cb81-758" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-759"><a href="#cb81-759" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine the date and time into a DateTime column</span></span>
<span id="cb81-760"><a href="#cb81-760" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week12$dateTime &lt;- as.POSIXct(paste(fish_survey_week12$date, </span></span>
<span id="cb81-761"><a href="#cb81-761" aria-hidden="true" tabindex="-1"></a><span class="in">                                                 fish_survey_week12$time), </span></span>
<span id="cb81-762"><a href="#cb81-762" aria-hidden="true" tabindex="-1"></a><span class="in">                                           format="%Y-%m-%d %H:%M")</span></span>
<span id="cb81-763"><a href="#cb81-763" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-764"><a href="#cb81-764" aria-hidden="true" tabindex="-1"></a><span class="in"># Add Shift column</span></span>
<span id="cb81-765"><a href="#cb81-765" aria-hidden="true" tabindex="-1"></a><span class="in"># All shifts in week 12 were day shifts</span></span>
<span id="cb81-766"><a href="#cb81-766" aria-hidden="true" tabindex="-1"></a><span class="in">fish_survey_week12 &lt;- fish_survey_week12 %&gt;%</span></span>
<span id="cb81-767"><a href="#cb81-767" aria-hidden="true" tabindex="-1"></a><span class="in">  mutate(shift = "day")</span></span>
<span id="cb81-768"><a href="#cb81-768" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-769"><a href="#cb81-769" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows to check the result</span></span>
<span id="cb81-770"><a href="#cb81-770" aria-hidden="true" tabindex="-1"></a><span class="in">head(fish_survey_week12)</span></span>
<span id="cb81-771"><a href="#cb81-771" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-772"><a href="#cb81-772" aria-hidden="true" tabindex="-1"></a><span class="in"># Write new fish survey csv</span></span>
<span id="cb81-773"><a href="#cb81-773" aria-hidden="true" tabindex="-1"></a><span class="in">write.csv(fish_survey_week12, file = "C:/Users/jpilchik/OneDrive - DOI/Documents/My study plan/Tagging/Tracking/radio_tracking_2024/fishSurvey12.csv", row.names = FALSE )</span></span>
<span id="cb81-774"><a href="#cb81-774" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-775"><a href="#cb81-775" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-776"><a href="#cb81-776" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-777"><a href="#cb81-777" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-778"><a href="#cb81-778" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-779"><a href="#cb81-779" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-780"><a href="#cb81-780" aria-hidden="true" tabindex="-1"></a><span class="in">```{r processing fish surveys}</span></span>
<span id="cb81-781"><a href="#cb81-781" aria-hidden="true" tabindex="-1"></a><span class="in"># Define file names</span></span>
<span id="cb81-782"><a href="#cb81-782" aria-hidden="true" tabindex="-1"></a><span class="in">fish_file_names &lt;- c("fishSurvey1.csv", "fishSurvey2.csv", "fishSurvey3.csv", "fishSurvey4.csv", "fishSurvey5.csv", "fishSurvey6.csv", "fishSurvey7.csv", "fishSurvey8.csv", "fishSurvey9.csv", "fishSurvey10.csv", "fishSurvey11.csv", "fishSurvey12.csv")</span></span>
<span id="cb81-783"><a href="#cb81-783" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-784"><a href="#cb81-784" aria-hidden="true" tabindex="-1"></a><span class="in"># Define a lookup table for stream names</span></span>
<span id="cb81-785"><a href="#cb81-785" aria-hidden="true" tabindex="-1"></a><span class="in">stream_name_lookup &lt;- data.frame(</span></span>
<span id="cb81-786"><a href="#cb81-786" aria-hidden="true" tabindex="-1"></a><span class="in">  Abbreviation = c("dcky", "amth", "undh", "dryu"),  # List all abbreviations</span></span>
<span id="cb81-787"><a href="#cb81-787" aria-hidden="true" tabindex="-1"></a><span class="in">  FullName = c("DICKEY", "AMETHYST", "UNDERHILL", "DRY UPPER")  # Corresponding full names</span></span>
<span id="cb81-788"><a href="#cb81-788" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb81-789"><a href="#cb81-789" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-790"><a href="#cb81-790" aria-hidden="true" tabindex="-1"></a><span class="in"># Create an empty list to store the processed datasets</span></span>
<span id="cb81-791"><a href="#cb81-791" aria-hidden="true" tabindex="-1"></a><span class="in">processed_fish_data_list &lt;- list()</span></span>
<span id="cb81-792"><a href="#cb81-792" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-793"><a href="#cb81-793" aria-hidden="true" tabindex="-1"></a><span class="in"># Loop through each fish survey file</span></span>
<span id="cb81-794"><a href="#cb81-794" aria-hidden="true" tabindex="-1"></a><span class="in">for (file_name in fish_file_names) {</span></span>
<span id="cb81-795"><a href="#cb81-795" aria-hidden="true" tabindex="-1"></a><span class="in">  # Read in the fish survey data</span></span>
<span id="cb81-796"><a href="#cb81-796" aria-hidden="true" tabindex="-1"></a><span class="in">  rawTrackingData &lt;- read.csv(file_name)</span></span>
<span id="cb81-797"><a href="#cb81-797" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb81-798"><a href="#cb81-798" aria-hidden="true" tabindex="-1"></a><span class="in">  # Step 1: Process the data</span></span>
<span id="cb81-799"><a href="#cb81-799" aria-hidden="true" tabindex="-1"></a><span class="in">  trackingData &lt;- rawTrackingData %&gt;%</span></span>
<span id="cb81-800"><a href="#cb81-800" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb81-801"><a href="#cb81-801" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 2: Select specific columns</span></span>
<span id="cb81-802"><a href="#cb81-802" aria-hidden="true" tabindex="-1"></a><span class="in">    select(dckyID, habitat, position, substrate, shade, Notes, amthID, undhID, </span></span>
<span id="cb81-803"><a href="#cb81-803" aria-hidden="true" tabindex="-1"></a><span class="in">           dryuID, habitatExtra, substrateExtra, signal, x, y, dateTime, shift) %&gt;%</span></span>
<span id="cb81-804"><a href="#cb81-804" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb81-805"><a href="#cb81-805" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 3: Pivot longer to create 'Brook' and 'tagID' columns</span></span>
<span id="cb81-806"><a href="#cb81-806" aria-hidden="true" tabindex="-1"></a><span class="in">    pivot_longer(</span></span>
<span id="cb81-807"><a href="#cb81-807" aria-hidden="true" tabindex="-1"></a><span class="in">      cols = c(dckyID, amthID, undhID, dryuID),  # Columns to combine</span></span>
<span id="cb81-808"><a href="#cb81-808" aria-hidden="true" tabindex="-1"></a><span class="in">      names_to = "river",                        # Create a new column 'Brook' from column names</span></span>
<span id="cb81-809"><a href="#cb81-809" aria-hidden="true" tabindex="-1"></a><span class="in">      values_to = "tagID",                      # Combine the tag IDs into a new column 'tagID'</span></span>
<span id="cb81-810"><a href="#cb81-810" aria-hidden="true" tabindex="-1"></a><span class="in">      values_drop_na = FALSE                    # Ensure NA values are retained</span></span>
<span id="cb81-811"><a href="#cb81-811" aria-hidden="true" tabindex="-1"></a><span class="in">    ) %&gt;%</span></span>
<span id="cb81-812"><a href="#cb81-812" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb81-813"><a href="#cb81-813" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step _: Filter to keep all rows, even those with NA values</span></span>
<span id="cb81-814"><a href="#cb81-814" aria-hidden="true" tabindex="-1"></a><span class="in">    #filter(!is.na(tagID) | is.na(tagID)) %&gt;%</span></span>
<span id="cb81-815"><a href="#cb81-815" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb81-816"><a href="#cb81-816" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 4: Create a new 'BrookName' column and extract the brook name and ID number</span></span>
<span id="cb81-817"><a href="#cb81-817" aria-hidden="true" tabindex="-1"></a><span class="in">    mutate(</span></span>
<span id="cb81-818"><a href="#cb81-818" aria-hidden="true" tabindex="-1"></a><span class="in">      riverName = river,                         # Copy the brook name</span></span>
<span id="cb81-819"><a href="#cb81-819" aria-hidden="true" tabindex="-1"></a><span class="in">      #tagID = as.numeric(gsub("[^0-9]", "", tagID)),  # Extract the numeric part as tagID</span></span>
<span id="cb81-820"><a href="#cb81-820" aria-hidden="true" tabindex="-1"></a><span class="in">      tagID = ifelse(is.na(tagID), NA, as.numeric(tagID)),  # Convert tagID to numeric, keep NA values</span></span>
<span id="cb81-821"><a href="#cb81-821" aria-hidden="true" tabindex="-1"></a><span class="in">      river = gsub("ID", "", river)              # Remove 'ID' to keep only the brook name</span></span>
<span id="cb81-822"><a href="#cb81-822" aria-hidden="true" tabindex="-1"></a><span class="in">    ) %&gt;%</span></span>
<span id="cb81-823"><a href="#cb81-823" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb81-824"><a href="#cb81-824" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 5: Join with the lookup table to replace abbreviations with full names</span></span>
<span id="cb81-825"><a href="#cb81-825" aria-hidden="true" tabindex="-1"></a><span class="in">    left_join(stream_name_lookup, by = c("river" = "Abbreviation")) %&gt;%</span></span>
<span id="cb81-826"><a href="#cb81-826" aria-hidden="true" tabindex="-1"></a><span class="in">    mutate(</span></span>
<span id="cb81-827"><a href="#cb81-827" aria-hidden="true" tabindex="-1"></a><span class="in">      river = coalesce(FullName, river)  # Replace Brook with FullName, if available</span></span>
<span id="cb81-828"><a href="#cb81-828" aria-hidden="true" tabindex="-1"></a><span class="in">    ) %&gt;%</span></span>
<span id="cb81-829"><a href="#cb81-829" aria-hidden="true" tabindex="-1"></a><span class="in">    select(-FullName) %&gt;%  # Remove the FullName column as it's no longer needed</span></span>
<span id="cb81-830"><a href="#cb81-830" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb81-831"><a href="#cb81-831" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 6: Rename columns</span></span>
<span id="cb81-832"><a href="#cb81-832" aria-hidden="true" tabindex="-1"></a><span class="in">    rename(</span></span>
<span id="cb81-833"><a href="#cb81-833" aria-hidden="true" tabindex="-1"></a><span class="in">      fishNotes = Notes,</span></span>
<span id="cb81-834"><a href="#cb81-834" aria-hidden="true" tabindex="-1"></a><span class="in">      lon = x,</span></span>
<span id="cb81-835"><a href="#cb81-835" aria-hidden="true" tabindex="-1"></a><span class="in">      lat = y</span></span>
<span id="cb81-836"><a href="#cb81-836" aria-hidden="true" tabindex="-1"></a><span class="in">    ) %&gt;%</span></span>
<span id="cb81-837"><a href="#cb81-837" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb81-838"><a href="#cb81-838" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 7: Filter data to keep only rows where lat &gt; 1</span></span>
<span id="cb81-839"><a href="#cb81-839" aria-hidden="true" tabindex="-1"></a><span class="in">    filter(lat &gt; 1, !is.na(tagID)) %&gt;%</span></span>
<span id="cb81-840"><a href="#cb81-840" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb81-841"><a href="#cb81-841" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step _: Filter data to keep rows with lat &gt; 1 or lat is NA</span></span>
<span id="cb81-842"><a href="#cb81-842" aria-hidden="true" tabindex="-1"></a><span class="in">    #filter(lat &gt; 1 | is.na(lat)) %&gt;%</span></span>
<span id="cb81-843"><a href="#cb81-843" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb81-844"><a href="#cb81-844" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 8: Remove unnecessary columns</span></span>
<span id="cb81-845"><a href="#cb81-845" aria-hidden="true" tabindex="-1"></a><span class="in">    select(-c(riverName)) %&gt;%</span></span>
<span id="cb81-846"><a href="#cb81-846" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb81-847"><a href="#cb81-847" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step _: (Optional) Join with a tagBrook dataset if necessary</span></span>
<span id="cb81-848"><a href="#cb81-848" aria-hidden="true" tabindex="-1"></a><span class="in">    #left_join(tagBrook, by = "tagID") %&gt;%</span></span>
<span id="cb81-849"><a href="#cb81-849" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb81-850"><a href="#cb81-850" aria-hidden="true" tabindex="-1"></a><span class="in">    # Step 9: Add a source column</span></span>
<span id="cb81-851"><a href="#cb81-851" aria-hidden="true" tabindex="-1"></a><span class="in">    mutate(source = "iPad")</span></span>
<span id="cb81-852"><a href="#cb81-852" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb81-853"><a href="#cb81-853" aria-hidden="true" tabindex="-1"></a><span class="in">  # Store the processed data in the list</span></span>
<span id="cb81-854"><a href="#cb81-854" aria-hidden="true" tabindex="-1"></a><span class="in">  processed_fish_data_list[[file_name]] &lt;- trackingData</span></span>
<span id="cb81-855"><a href="#cb81-855" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb81-856"><a href="#cb81-856" aria-hidden="true" tabindex="-1"></a><span class="in">  # Overwrite the original file with the processed data</span></span>
<span id="cb81-857"><a href="#cb81-857" aria-hidden="true" tabindex="-1"></a><span class="in">  write.csv(trackingData, file_name, row.names = FALSE)</span></span>
<span id="cb81-858"><a href="#cb81-858" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb81-859"><a href="#cb81-859" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-860"><a href="#cb81-860" aria-hidden="true" tabindex="-1"></a><span class="in"># Display the first few rows of each processed dataset</span></span>
<span id="cb81-861"><a href="#cb81-861" aria-hidden="true" tabindex="-1"></a><span class="in">for (i in 1:length(processed_fish_data_list)) {</span></span>
<span id="cb81-862"><a href="#cb81-862" aria-hidden="true" tabindex="-1"></a><span class="in">  cat("\nData for", fish_file_names[i], ":\n")</span></span>
<span id="cb81-863"><a href="#cb81-863" aria-hidden="true" tabindex="-1"></a><span class="in">  print(head(processed_fish_data_list[[i]]))</span></span>
<span id="cb81-864"><a href="#cb81-864" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb81-865"><a href="#cb81-865" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-866"><a href="#cb81-866" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-867"><a href="#cb81-867" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-868"><a href="#cb81-868" aria-hidden="true" tabindex="-1"></a><span class="fu"># Combine tracking and stream data</span></span>
<span id="cb81-869"><a href="#cb81-869" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-872"><a href="#cb81-872" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb81-873"><a href="#cb81-873" aria-hidden="true" tabindex="-1"></a><span class="co"># Define file names for each week</span></span>
<span id="cb81-874"><a href="#cb81-874" aria-hidden="true" tabindex="-1"></a><span class="co">#fish_files &lt;- c("fishSurvey1.csv", "fishSurvey2.csv", "fishSurvey3.csv", "fishSurvey4.csv", "fishSurvey5.csv", "fishSurvey6.csv", "fishSurvey7.csv", "fishSurvey8.csv", "fishSurvey9.csv", "fishSurvey10.csv", "fishSurvey11.csv", "fishSurvey12.csv")</span></span>
<span id="cb81-875"><a href="#cb81-875" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-876"><a href="#cb81-876" aria-hidden="true" tabindex="-1"></a><span class="co">#stream_files &lt;- c("streamSurvey1.csv", "streamSurvey2.csv", "streamSurvey3.csv", "streamSurvey4.csv", "streamSurvey5.csv", "streamSurvey6.csv", "streamSurvey7.csv", "streamSurvey8.csv", "streamSurvey9.csv", "streamSurvey10.csv", "streamSurvey11.csv", "streamSurvey12.csv")</span></span>
<span id="cb81-877"><a href="#cb81-877" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-878"><a href="#cb81-878" aria-hidden="true" tabindex="-1"></a><span class="co"># Loop through each week</span></span>
<span id="cb81-879"><a href="#cb81-879" aria-hidden="true" tabindex="-1"></a><span class="co">#for (week in 1:length(fish_files)) {</span></span>
<span id="cb81-880"><a href="#cb81-880" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Read in the fish and stream survey data for the current week</span></span>
<span id="cb81-881"><a href="#cb81-881" aria-hidden="true" tabindex="-1"></a>  <span class="co">#fish_data &lt;- read.csv(fish_files[week])</span></span>
<span id="cb81-882"><a href="#cb81-882" aria-hidden="true" tabindex="-1"></a>  <span class="co">#stream_data &lt;- read.csv(stream_files[week])</span></span>
<span id="cb81-883"><a href="#cb81-883" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb81-884"><a href="#cb81-884" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Combine the datasets by shift and river columns</span></span>
<span id="cb81-885"><a href="#cb81-885" aria-hidden="true" tabindex="-1"></a>  <span class="co">#combined_data &lt;- left_join(fish_data, stream_data, by = c("shift", "river"))</span></span>
<span id="cb81-886"><a href="#cb81-886" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb81-887"><a href="#cb81-887" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Save the combined data to a new CSV file</span></span>
<span id="cb81-888"><a href="#cb81-888" aria-hidden="true" tabindex="-1"></a>  <span class="co">#combined_file_name &lt;- paste0("combined_week", week, ".csv")</span></span>
<span id="cb81-889"><a href="#cb81-889" aria-hidden="true" tabindex="-1"></a>  <span class="co">#write.csv(combined_data, combined_file_name, row.names = FALSE)</span></span>
<span id="cb81-890"><a href="#cb81-890" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb81-891"><a href="#cb81-891" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Optionally display the first few rows of the combined data</span></span>
<span id="cb81-892"><a href="#cb81-892" aria-hidden="true" tabindex="-1"></a>  <span class="co">#cat("\nCombined data for week", week, ":\n")</span></span>
<span id="cb81-893"><a href="#cb81-893" aria-hidden="true" tabindex="-1"></a>  <span class="co">#print(head(combined_data))</span></span>
<span id="cb81-894"><a href="#cb81-894" aria-hidden="true" tabindex="-1"></a><span class="co">#}</span></span>
<span id="cb81-895"><a href="#cb81-895" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-896"><a href="#cb81-896" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-897"><a href="#cb81-897" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-898"><a href="#cb81-898" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-899"><a href="#cb81-899" aria-hidden="true" tabindex="-1"></a><span class="in">```{r combine fish and stream surveys}</span></span>
<span id="cb81-900"><a href="#cb81-900" aria-hidden="true" tabindex="-1"></a><span class="in"># Define file names for each week</span></span>
<span id="cb81-901"><a href="#cb81-901" aria-hidden="true" tabindex="-1"></a><span class="in">fish_files &lt;- c("fishSurvey1.csv", "fishSurvey2.csv", "fishSurvey3.csv", "fishSurvey4.csv", "fishSurvey5.csv", "fishSurvey6.csv", "fishSurvey7.csv", "fishSurvey8.csv", "fishSurvey9.csv", "fishSurvey10.csv", "fishSurvey11.csv", "fishSurvey12.csv")</span></span>
<span id="cb81-902"><a href="#cb81-902" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-903"><a href="#cb81-903" aria-hidden="true" tabindex="-1"></a><span class="in">stream_files &lt;- c("streamSurvey1.csv", "streamSurvey2.csv", "streamSurvey3.csv", "streamSurvey4.csv", "streamSurvey5.csv", "streamSurvey6.csv", "streamSurvey7.csv", "streamSurvey8.csv", "streamSurvey9.csv", "streamSurvey10.csv", "streamSurvey11.csv", "streamSurvey12.csv")</span></span>
<span id="cb81-904"><a href="#cb81-904" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-905"><a href="#cb81-905" aria-hidden="true" tabindex="-1"></a><span class="in"># Function to extract the number from file names</span></span>
<span id="cb81-906"><a href="#cb81-906" aria-hidden="true" tabindex="-1"></a><span class="in">extract_number &lt;- function(file_name) {</span></span>
<span id="cb81-907"><a href="#cb81-907" aria-hidden="true" tabindex="-1"></a><span class="in">  str_extract(file_name, "\\d+")</span></span>
<span id="cb81-908"><a href="#cb81-908" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb81-909"><a href="#cb81-909" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-910"><a href="#cb81-910" aria-hidden="true" tabindex="-1"></a><span class="in"># Combine datasets by matching number in filenames</span></span>
<span id="cb81-911"><a href="#cb81-911" aria-hidden="true" tabindex="-1"></a><span class="in">for (fish_file in fish_files) {</span></span>
<span id="cb81-912"><a href="#cb81-912" aria-hidden="true" tabindex="-1"></a><span class="in">  # Extract number from fish file</span></span>
<span id="cb81-913"><a href="#cb81-913" aria-hidden="true" tabindex="-1"></a><span class="in">  fish_number &lt;- extract_number(fish_file)</span></span>
<span id="cb81-914"><a href="#cb81-914" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb81-915"><a href="#cb81-915" aria-hidden="true" tabindex="-1"></a><span class="in">  # Find the corresponding stream file</span></span>
<span id="cb81-916"><a href="#cb81-916" aria-hidden="true" tabindex="-1"></a><span class="in">  stream_file &lt;- paste0("streamSurvey", fish_number, ".csv")</span></span>
<span id="cb81-917"><a href="#cb81-917" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb81-918"><a href="#cb81-918" aria-hidden="true" tabindex="-1"></a><span class="in">  # Check if the stream file exists</span></span>
<span id="cb81-919"><a href="#cb81-919" aria-hidden="true" tabindex="-1"></a><span class="in">  if (stream_file %in% stream_files) {</span></span>
<span id="cb81-920"><a href="#cb81-920" aria-hidden="true" tabindex="-1"></a><span class="in">    # Read in the fish and stream survey data</span></span>
<span id="cb81-921"><a href="#cb81-921" aria-hidden="true" tabindex="-1"></a><span class="in">    fish_data &lt;- read.csv(fish_file)</span></span>
<span id="cb81-922"><a href="#cb81-922" aria-hidden="true" tabindex="-1"></a><span class="in">    stream_data &lt;- read.csv(stream_file)</span></span>
<span id="cb81-923"><a href="#cb81-923" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb81-924"><a href="#cb81-924" aria-hidden="true" tabindex="-1"></a><span class="in">    # Combine the datasets by shift and river columns</span></span>
<span id="cb81-925"><a href="#cb81-925" aria-hidden="true" tabindex="-1"></a><span class="in">    combined_data &lt;- left_join(fish_data, stream_data, by = c("shift", "river"))</span></span>
<span id="cb81-926"><a href="#cb81-926" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb81-927"><a href="#cb81-927" aria-hidden="true" tabindex="-1"></a><span class="in">    # Save the combined data to a new CSV file</span></span>
<span id="cb81-928"><a href="#cb81-928" aria-hidden="true" tabindex="-1"></a><span class="in">    combined_file_name &lt;- paste0("fishStream", fish_number, ".csv")</span></span>
<span id="cb81-929"><a href="#cb81-929" aria-hidden="true" tabindex="-1"></a><span class="in">    write.csv(combined_data, combined_file_name, row.names = FALSE)</span></span>
<span id="cb81-930"><a href="#cb81-930" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb81-931"><a href="#cb81-931" aria-hidden="true" tabindex="-1"></a><span class="in">    # Display the first few rows of the combined data</span></span>
<span id="cb81-932"><a href="#cb81-932" aria-hidden="true" tabindex="-1"></a><span class="in">    cat("\nCombined data for number", fish_number, ":\n")</span></span>
<span id="cb81-933"><a href="#cb81-933" aria-hidden="true" tabindex="-1"></a><span class="in">    print(head(combined_data))</span></span>
<span id="cb81-934"><a href="#cb81-934" aria-hidden="true" tabindex="-1"></a><span class="in">  } else {</span></span>
<span id="cb81-935"><a href="#cb81-935" aria-hidden="true" tabindex="-1"></a><span class="in">    cat("\nNo corresponding stream file found for", fish_file, "\n")</span></span>
<span id="cb81-936"><a href="#cb81-936" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb81-937"><a href="#cb81-937" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb81-938"><a href="#cb81-938" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-939"><a href="#cb81-939" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb81-940"><a href="#cb81-940" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-941"><a href="#cb81-941" aria-hidden="true" tabindex="-1"></a></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>